{"version":3,"sources":["models/AsyncTask.js","assets/edit_icon.png","assets/select_icon_light.png","utils/splitArray.js","animations.js","components/Spinner.js","components/SpinnerOverlay.js","components/ProtectedRoute.js","components/Input.js","screens/Login.js","screens/ForgotPassword.js","screens/ResetPassword.js","components/DropdownMenu.js","components/Section.js","components/Button.js","breakpoints.js","components/Icons.js","components/MobileMenu.js","components/NavigationBar.js","components/Screen.js","components/Row.js","components/Column.js","components/Task.js","components/Modal.js","components/StudentList.js","components/StudentListItem.js","utils/getMonthName.js","screens/Dashboard.js","utils/downloadString.js","components/Select.js","components/RadioButton.js","components/Checkbox.js","components/FormError.js","components/FormRow.js","components/FormColumn.js","enums.js","components/EnumSelect.js","components/XButton.js","components/EditStudentForm.js","components/CreateStudentForm.js","components/List.js","components/ExpandableListItem.js","utils/filterChildren.js","components/StudentActivityList.js","components/Label.js","components/YesNoNullSelect.js","components/GradeInput.js","components/BlockButton.js","components/RiskFormWrapper.js","components/EditRiskFactorForm.js","components/EditSkillsForm.js","components/Textarea.js","components/EditCareerDevForm.js","utils/responsive.js","components/StudentRisksView.js","utils/formatGrade.js","components/Tooltip.js","components/MultipleDatePicker.js","components/EditActivityForm.js","utils/isValidDate.js","components/TabContainer.js","components/Tab.js","components/Tabs.js","components/TermSelect.js","components/StudentInfoView.js","components/StudentFilterForm.js","components/Divider.js","components/OpenFiltersButton.js","components/MultipleStudentActivityListItem.js","components/MultipleStudentInfoView.js","screens/Students.js","components/Main.js","components/Content.js","components/ListContainer.js","components/ListItem.js","components/ListItemInfo.js","components/Title.js","components/Subtitle.js","components/ActionButton.js","components/reports/ReportFormContainer.js","components/reports/ReportFormDefaultLayout.js","utils/getReportFileName.js","components/reports/SummaryReport.js","components/reports/RiskRosterReport.js","components/reports/RiskSummaryReport.js","components/reports/NumberOfStudents.js","components/reports/StudentReport.js","components/reports/StudentRiskReport.js","components/reports/PostSchoolReport.js","screens/Reports.js","components/EditUserForm.js","screens/EditProfile.js","screens/About.js","screens/MissingSchoolYear.js","screens/SchoolSettings.js","screens/AddUser.js","components/CircleStepGroup.js","screens/AddYear.js","components/UserList.js","components/UserListItem.js","screens/ManageUsers.js","components/CSVFileReport.js","components/FileInput.js","components/CSVStudentUploadPreview.js","utils/useOnClickOutside.js","utils/parseCSV.js","utils/translateImportStudentCSV.js","utils/first.js","screens/ImportData.js","components/BreakpointLabel.js","App.js","utils/wait.js","models/Model.js","models/Disability.js","models/User.js","models/StudentTermInfo.js","models/Term.js","models/SchoolYear.js","models/ActivityType.js","models/ActivityTypeGroup.js","models/ActivityEvent.js","models/Activity.js","models/SchoolSettings.js","utils/findById.js","models/Store.js","utils/parseArrayBuffer.js","index.js","assets/red_circle_x.svg","assets/expand_arrow.svg","assets/gear_icon.svg","assets/speech_bubble_icon.png","assets/select_icon_light.svg","assets/x_icon.png","assets/trash_icon.png","assets/orange_plus_icon.svg","assets/plus_icon.png","assets/export_icon.png","assets/search_icon_thin.png","assets/settings_icon.png","assets/orange_settings_icon.png","assets/white_chevron_icon.png","assets/calendar_icon.svg","assets/x_icon.svg","assets/students_icon.png","assets/reports_icon.png","assets/select_icon.png","assets/ntact_logo.png","utils/toggleArrayValue.js","assets/logo.png","utils/getId.js"],"names":["states","unstarted","pending","resolved","rejected","production","process","AsyncTask","action","bound","body","Object","_Users_ryan_projects_transition_gradebook_dev_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_body","_promise","_result","_error","_Users_ryan_projects_transition_gradebook_dev_client_node_modules_babel_runtime_helpers_esm_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__","_descriptor","_startTime","Date","now","then","_wrapPromise","Error","state","Promise","reject","resolve","error","message","toString","result","matchMap","resultHandler","errorHandler","start","catch","description","_this","name","endInspection","autorun","finished","elapsed","console","log","concat","apply","arguments","promise","_handleResolve","_handleReject","observable","computed","task","length","taskDecorator","target","key","descriptor","_Users_ryan_projects_transition_gradebook_dev_client_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__","value","asyncTask","global","PRODUCTION","inspect","module","exports","array","midIndex","Math","ceil","slice","fadeIn","keyframes","styled","ScaleLoader","attrs","color","withConfig","displayName","componentId","SpinnerOverlay","props","children","react_default","a","createElement","Root","Spinner","Message","div","open","ProtectedRoute","inject","withRouter","observer","_renderer","loggedIn","_this$props","Component","component","_this$props$loginPath","loginPath","Redirect","to","pathname","from","location","store","Route","assign","undefined","render","input","year","getFullYear","Login","event","username","password","preventDefault","feedback","disabled","login","loginTask","response","data","status","handleSubmit","handleUsernameChange","handlePasswordChange","Login_Root","Top","Link","Logo","src","logo","Bottom","LoginForm","onSubmit","LoginFormGroup","LoginLabel","Input","type","onChange","required","LoginFeedback","LoginButton","ForgotPasswordContainer","ForgotPasswordLink","Copyright","img","form","label","button","ForgotPasword","forgotPassword","forgotPasswordTask","ForgotPassword_Root","ForgotPassword_Top","ForgotPassword_Logo","ForgotPassword_Bottom","ForgotPasswordForm","Info","ForgotPasswordFormGroup","ForgotPasswordLabel","ForgotPasswordFeedback","ForgotPassword_LoginButton","ReturnToLoginContainer","ReturnToLoginLink","ForgotPassword_Copyright","h2","ResetPasword","uid","match","params","checkResetPasswordIdentifier","uidValidationTask","uidValidationStatus","uidValidationFeedback","valid","confirmPassword","passwordStatus","history","push","passwordFeedback","resetPassword","resetPasswordTask","handleConfirmPasswordChange","ResetPassword_Root","ResetPassword_Top","ResetPassword_Logo","ResetPassword_Bottom","ResetPassword_ForgotPasswordContainer","ResetPassword_Info","LoginLink","ResetPassword_ForgotPasswordForm","Fragment","ResetPassword_ForgotPasswordFormGroup","ResetPassword_ForgotPasswordLabel","ResetPassword_ForgotPasswordFeedback","ResetPassword_LoginButton","ResetPassword_ReturnToLoginContainer","ResetPassword_ReturnToLoginLink","ResetPassword_Copyright","DropdownMenu","header","rest","objectWithoutProperties","DropdownMenu_Root","Items","Item","Section","fullWidth","Content","large","medium","largeMin","mediumOrSmall","small","mediumMin","RedCircleX","require","RedCirclePlus","extend","_templateObject","CircleArrow","Gear","PenSquare","SpeechBubble","WhiteCircleArrow","X","Trash","OrangeCirclePlus","Plus","WhiteCircleX","_templateObject2","ArrowSquare","Magnifier","OrangeSettings","WhiteChevron","Calendar","SelectIconLight","XIcon","MobileMenu","onClose","MobileMenu_Root","CloseButton","onClick","CloseButtonIcon","MobileMenu_Items","breakpoints","Button","Icons","NavigationBar","handleLogoutClick","logout","mobileMenuOpen","user","admin","path","MobileMenu_MobileMenu","toggleMobileMenu","NavigationBar_Root","MobileMenuButton","MobileMenuIcon","HomeLink","NavigationBar_Logo","PageList","PageListItem","PageLink","className","PageLinkText","StudentsIcon","ReportsIcon","DesktopMenu","MenuHeader","firstName","DesktopMenuIcon","MenuLinkItem","LogoutMenuItem","desktopHeight","mobileHeight","ul","li","span","withComponent","Screen","Screen_Root","components_NavigationBar","Screen_Content","Task","_props$provideKey","provideKey","Pending","Resolved","Rejected","Modal","handleClick","onOverlayClick","currentTarget","renderOnOverlay","Modal_Root","Window","StudentList","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","renderItem","bind","assertThisInitialized","index","students","_this$props2","innerRef","itemSizeGetter","_this$props2$listType","listType","StudentList_Root","react_list_default","ref","itemRenderer","riskColors","No Data","low","high","ultra","activeStyle","backgroundColor","StudentListItem","student","left","hideRisk","active","locationMatches","RootComponent","riskLevel","risk","riskColor","style","RiskIcon","Left","StudentText","StudentName","fullName","StudentInfo","months","formatPercent","count","total","floor","Dashboard","renderPending","SpinnerContainer","renderRejected","Dashboard_Content","renderResolved","date","studentCount","studentGradeGroups","studentRiskGroups","offTrackStudents","chronicAbsentStudents","activityGroups","interventionGroups","raceGroups","Title","Subtitle","getMonth","getMonthName","getDate","RowTitle","GradeCountRow","map","_ref","gradeName","gradeLevel","GradeCountColumn","handleOpenStudentList","GradeName","startsWith","replace","GradeCount","TotalCountColumn","TotalCountLabel","TotalCount","ActivitiesRow","activityGroup","CircleBox","id","Circle","RiskRow","_ref2","RiskColumn","RiskColumnContent","RiskTriangle","RiskCount","RiskPercent","RiskName","InterventionsRow","_ref3","RaceRow","_ref4","i","race","RaceColumn","RaceBox","RaceCode","RaceCount","RaceLabel","enums","raceLabels","renderStudentListItem","components_StudentListItem","getViewRoute","currentSchoolYear","openedStudentList","loadTask","fetchDashboardData","Dashboard_Root","StudentModal","handleCloseStudentList","StudentModalClosebutton","Dashboard_CloseButtonIcon","components_StudentList","Task_Pending","Task_Resolved","Task_Rejected","h1","CenterRow","Row","Column","h3","circleWidth","downloadString","string","filename","document","href","URL","createObjectURL","Blob","download","display","position","appendChild","click","removeChild","Select","placeholder","inverted","canSelectPlaceholder","_props$Handle","Handle","DefaultHandle","Select_Root","Dropdown","HandleWrapper","select","RadioButton","checked","RadioButton_Root","Checkbox","Check","RadioButton_Input","Label","CheckboxButton","checkboxColor","labelColor","_onChange","Checkbox_Root","Checkbox_Checkbox","Checkbox_Check","Checkbox_Input","Checkbox_Label","betterDescriptions","should be string","should be boolean","should be integer","should be equal to one of the allowed values","SimpleError","FormError_Root","DataError","keyNames","ErrorList","entries","slicedToArray","field","formName","startCase","ErrorListItem","test","formatErrorMessage","FormError","_props$keyNames","EnumSelect","inputName","format","values","XButton","Icon","alt","formatRaceLabel","EditStudentForm","lastName","studentId","birthday","gender","enabled","ell","exitCategory","postSchoolOutcome","postSchoolOutcomeOther","outcome","disabilityId","selectedDisabilities","remove","stopPropagation","studentToEdit","fields","schoolYear","submitTask","updateStudent","swal","createStudent","getEditRoute","title","text","showCancelButton","confirmButtonText","cancelButtonText","removeTask","removeStudentFromSchoolYear","birthdayDateString","disabilities","d","postSchoolOutcomes","includes","editExisting","_this2","disabilityRows","chunk","renderDisability","disability","DisabilityCheckbox","handleRemoveDisability","handleAddDisability","EditStudentForm_Root","Form","Header","EditStudentForm_Title","SubmitError","FormRow","FormColumn","InputLabel","handleFirstNameChange","handleLastNameChange","handleStudentIdChange","handleBirthdayChange","RadioRow","genders","g","capitalize","handleGenderChange","handleEllChange","RaceSelect","handleRaceChange","GradeSelect","handleGradeLevelChange","handleExitCategoryChange","handlePostSchoolOutcomeChange","handlePostSchoolOutcomeOtherChange","DisabilitiesHeader","DisabilityCheckboxes","DisabilityCheckboxRow","SaveButton","RemoveButton","handleDeleteClick","CreateStudentForm","components_EditStudentForm","ExpandableListItem","expanded","_this$props$childHeig","childHeight","childCount","fn","results","React","Children","forEach","child","filterChildren","identity","ExpandableListItem_Root","ExpandableListItem_Header","ExpandButton","handleToggleExpanded","ExpandIcon","HeaderChildren","ExpandContent","List","components_StudentActivityList","activity","confirmHistoricEdit","getEditActivityRoute","group","getCreateActivityRoute","_this$props3","activities","groups","activityTypeGroups","typeGroup","filter","activityType","activityTypeGroupId","groupActivities","StudentActivityList_Root","GroupList","components_ExpandableListItem","GroupName","AddButton","handleActivityCreateClick","AddIcon","ActivityListItem","EditActivityButton","handleActivityEditClick","EditIcon","ActivityInfo","ActivityName","ActivityFields","ActivityField","events","frequency","SpeechBubbleIcon","YES_VALUE","YesNoNullSelect","handleChange","selectValue","GradeInput","gradeType","PercentGradeInput","GpaGradeInput","LetterGradeInput","min","max","step","textColor","hoverColor","disabledColor","RiskFormWrapper","term","dirty","saveTask","RiskFormWrapper_Root","RiskFormWrapper_Header","RiskFormWrapper_Title","getRisksRoute","RiskFormWrapper_Form","RiskFormWrapper_SaveButton","BlockButton","RiskFactorEditForm","handleBoolChange","setKey","handleStringChange","handleNumberChange","handleGradeChange","handleAbsentPercentChange","handleBehaviorMarksChange","handleSuspendedChange","handleFailingEnglishChange","handleFailingMathChange","handleFailingOtherChange","handleOnTrackChange","handleRetainedChange","handleschoolsAttendedChange","handleHasExtracurricularChange","handleGradeTypeChange","editStudentTermInfo","grade","absentPercent","behaviorMarks","suspended","failingEnglish","failingMath","failingOther","onTrack","retained","schoolsAttended","hasExtracurricular","edit","prevProps","components_RiskFormWrapper","RadioColumn","RadioColumnLabel","maybeString","Divider","components_Label","YesNoNullSelect_YesNoNullSelect","SkillsEditForm","handleHasSelfDeterminationSkillsChange","handleHasIndependentLivingSkillsChange","handleHasTravelSkillsChange","handleHasSocialSkillsChange","hasSelfDeterminationSkills","hasIndependentLivingSkills","hasTravelSkills","hasSocialSkills","textarea","SkillsCareerDevForm","handleAttendedIepMeetingChange","attended","handleIepRoleChange","handleHasGraduationPlanChange","handlePostSchoolGoals","attendedIepMeeting","iepRole","postSchoolGoals","hasGraduationPlan","Textarea","responsive","Wrapped","_class","_Component","Responsive","initializerDefineProperty","computeBreakpointMatches","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_queryList","Symbol","iterator","next","done","query","_key","matches","err","return","breakpoint","window","matchMedia","addListener","inherits","createClass","q","removeListener","applyDecoratedDescriptor","prototype","configurable","enumerable","writable","initializer","keys","reduce","bps","StudentRisksView","isCurrentTerm","groupListItemHeight","termStudent","StudentRisksView_Root","StudentRisksView_GroupList","completePercent","riskFactorPercentage","onEditClick","handleEditRiskFactorsClick","ValueRow","Number","parseFloat","toPrecision","skillPercentage","handleEditStudentSkillsClick","careerDevPercentage","handleEditCareerDevClick","Switch","Overlay","EditRiskFactorForm","EditSkillsForm","EditCareerDevForm","find","s","GroupListHeader","GroupTitle","GroupCompletePercent","EditButton","StudentRisksView_EditIcon","Key","Value","Tooltip","TooltipComponent","MultipleDatePicker","YearMonthForm","localeUtils","handleMonthYearChange","currentYear","fromMonth","toMonth","getMonths","years","month","e","_e$target$form","current","day","first","getTime","components_Tooltip","show","handleDayClick","showCalendar","closeCalendar","renderDay","daysSelected","Container","NoDateText","DateSelectedText","CalendarIcon","CalendarItems","DayPicker_default","selectedDays","toJS","onDayClick","modifiers","modifiersStyles","fixedWeeks","captionElement","DoneButton","weekends","daysOfWeek","eventSortFn","b","eventTime","tempIdCounter","EditActivityForm","activityTypeId","eventTimes","isNaN","isValidDate","invalidDateError","every","sort","activityEvent","notes","activityToEdit","editStudentActivity","patch","createStudentActivity","close","onCreateActivity","onDeleteActivity","deleteActivity","_context4","t0","delete","_this$props4","selected","selectedIndex","findIndex","selectedDay","DateUtils","isSameDay","splice","_this3","_this$props5","EditActivityForm_Root","EditActivityForm_Form","EditActivityForm_Header","EditActivityForm_Title","toUpperCase","handleActivityTypeChange","activityTypes","handleFrequencyChange","EventTimeContainer","EventTimeInputRow","EventTimePicker","EventAddButton","handleAddEventClick","EventListContainer","EventListLabel","EventList","EventListItem","toLocaleDateString","EventDeleteButton","handleEventRemove","EventDeleteIcon","NoteTextarea","handleNotesChange","ButtonRow","EditActivityForm_SaveButton","DeleteButton","invisible","FormButton","activeTextColor","inactiveTextColor","activeBackgroundColor","inactiveBackgroundColor","flipped","TermSelect","getId","sortedTerms","isInFuture","capitalizedTermType","StudentInfoView","renderSubroutes","termId","terms","renderTabs","components_StudentRisksView","groupId","getActivityTypeGroupById","components_EditActivityForm","handleActivityCreated","activityId","handleActivityDeleted","loadActivities","isPostSchool","loadActivitiesTask","fetchStudentActivities","newActivity","isCurrentSchoolYear","isRiskRoute","checkIsRiskRoute","StudentTabContainer","StudentTabs","StudentTab","handleActivitiesTabClick","handleRisksTabClick","data-risk-tab","PostSchoolContent","PostSchoolContentBody","_this$props7","StudentInfoView_Root","Main","StudentInfoView_Header","StudentInfoView_StudentText","StudentInfoView_StudentName","StudentDescription","SideHeader","StyledTermSelect","hidden","termType","handleTermChange","handleStudentEditClick","StudentInfoView_EditIcon","renderPostSchoolContent","StudentInfoView_Content","Tabs","TabContainer","Tab","StudentFilterForm","toggleArrayValue","selectedGrades","grades","selectedRiskLevels","riskLevels","supportNeeded","selectedSupportNeeded","selectedRaces","races","StudentFilterForm_Root","StudentFilterForm_Header","ClearButton","handleClearClick","StudentFilterForm_Title","StudentFilterForm_CloseButton","CloseIcon","Checkboxes","CheckboxRow","CheckboxColumn","CheckboxColumnHeader","handleGradeHeaderClick","FilterCheckbox","handleGradeToggle","handleDisabilityHeaderClick","handleDisabilityToggle","handleRiskLevelHeaderClick","handleRiskLevelToggle","handleSupportNeededHeaderClick","supportType","handleSupportNeededToggle","handleRaceHeaderClick","handleRaceToggle","Spacer","StudentFilterForm_SaveButton","handleSubmitClick","SaveButtonPlaceholder","OpenFiltersButton","OpenFiltersButton_Root","FiltersIcon","MultipleStudentActivityListItem","MultipleStudentActivityListItem_Root","MultipleStudentActivityListItem_ActivityListItem","ActivityListItemContainer","ActivityGroupName","MultipleStudentActivityListItem_AddIcon","MultipleStudentInfoView","ActivityList","MultipleStudentTabs","ListRoot","MultipleStudentInfoView_GroupList","components_MultipleStudentActivityListItem","SelectedStudent","handleStudentRemove","SelectedStudentItem","RemoveIcon","SelectedStudentText","MultipleTabContainer","MultipleTabs","MultipleTab","selectedStudents","numberSelected","MultipleStudentInfoView_Root","MultipleStudentInfoView_Main","MultipleStudentInfoView_Header","SelectedHeader","StudentsSelected","StudentsSelectedSubtitle","SelectedStudentRow","MultipleStudentInfoView_Content","FormContainer","Students","_assertThisInitialize","handleStudentClick","schoolYearId","search","filtersOpen","filteredStudents","getStudentExportData","csvString","yearRange","getSchoolYearById","fetchSchoolYear","load","SubRouteWrapper","schoolYears","Students_Main","YearSelectBar","YearSelectLabel","YearSelect","handleSchoolYearChange","Students_Content","StudentListContainer","components_StudentFilterForm","handleFilterPanelToggle","handleFiltersChange","SearchForm","SearchInputContainer","SearchInput","handleSearchChange","SearchIcon","AddStudentButton","handleCreateStudentClick","Students_AddIcon","ExportButton","handleExportClick","ExportIcon","StyledDivider","renderLoadingSubroute","components_StudentInfoView","components_MultipleStudentInfoView","trim","toLowerCase","normalizedSearch","searchMatches","filterMatches","YearSelectHandle","prop","ReportFormContainer","onFiltersSelected","filters","activeFilterList","Filters","ActiveFilterLabel","filterLowercase","join","subtitle","closePath","canRun","_this$props$includeFi","includeFilters","_this$props$titleActi","titleActiveFilter","running","ReportFormContainer_Root","ReportFormContainer_Top","FilterFormContainer","filtersEnabled","TitleRow","components_Title","renderActiveFiltersList","components_Subtitle","ReportFormContainer_SubmitError","ButtonContainer","RunReportButton","LoadingSpinner","visible","RunButtonText","ActionButton","react_spinners","height","FilterButtonContainer","StyledStudentFilterForm","_useState","useState","_useState2","shown","setShown","getReportFileName","reportName","startYear","startTerm","endYear","endTerm","filtered","startTermLabel","endTermLabel","endYearLabel","fileName","SummaryReport","studentFilters","startYearId","startTermId","downloadReport","esm_extends","startTermName","reports_ReportFormContainer","ReportFormDefaultLayout","handleStartYearIdChange","components_TermSelect","handleStartTermIdChange","RiskSummaryReport","endYearId","endTermId","endTermName","visibility","handleEndYearIdChange","handleEndTermIdChange","_this4","_this5","dataCategories","criteriaFilenameString","criteria","NumberOfStudentsReport","longitudinal","criteria2","criteria1","endpoint","primaryCriteria","secondaryCriteria","CountType","handleLongitudinalToggle","DataCategorySelect","handleCriteria1Change","handleCriteria2Change","c","noop","StudentReport","allStudents","setStartTermId","setEndTermId","fetchTermStudents","selectedStudent","selectableStudents","startYearLabel","StudentReport_CountType","UnlabeledInput","handleAllStudentsToggle","CheckboxInfo","y","StudentRiskReport","StudentRiskReport_CountType","handleSelectedStudentIdChange","StudentRiskReport_UnlabeledInput","StudentRiskReport_CheckboxInfo","termInfo","PostSchoolStudentReport","PostSchoolReport_UnlabeledInput","PostSchoolReport_CheckboxInfo","individual","pathNames","summary","subroute","riskRoster","riskSummary","numberOfStudents","studentRisk","postSchool","Reports","switchReportType","reportType","checkReportTypeRoute","indexOf","checkRoute","handleReportClick","nextProps","components_Main","components_Content","ListWrapper","ReportLinkList","ReportLink","ListItem","ListItemInfo","Reports_StyledDivider","exact","Reports_SubRouteWrapper","reports_SummaryReport","RiskRosterReport","reports_RiskSummaryReport","NumberOfStudents","reports_StudentReport","reports_StudentRiskReport","PostSchoolReport","ListContainer","components_EditUserForm","email","passwordConfirmed","userToEdit","redirectTo","updateUser","viewRoute","createUser","deleteUser","hideDeleteButton","hideAdminCheckbox","hideCloseButton","EditUserForm_Root","EditUserForm_Form","EditUserForm_Header","EditUserForm_Title","EditUserForm_SubmitError","EditUserForm_InputLabel","EditUserForm_Input","handleEmailChange","handlePasswordConfirmedChange","handleAdminToggled","ButtonFormRow","EditUserForm_SaveButton","EditUserForm_RemoveButton","EditProfile","EditProfile_Main","StyledEditUserForm","EditUserForm","About","About_Root","About_Main","rel","flex","Footer","NTACTLogo","MissingSchoolYear","admins","MissingSchoolYear_Root","MissingSchoolYear_Content","Instructions","AdminListTitle","AdminList","AdminListItem","SchoolSettings","SchoolSettings_descriptor","SchoolSettings_descriptor2","SchoolSettings_descriptor3","SchoolSettings_descriptor4","schoolSettings","gradeConversions","splitArray","gradeConversion","editSchoolSettings","percent","letter","gradeConversionColumns","SchoolSettings_Root","SchoolSettings_Main","SchoolSettings_Title","ErrorMessages","SchoolSettings_Form","SchoolNameInput","handleNameChange","ConversionTitle","ConversionInstructions","Conversions","ConversionColumn","ConversionColumnHeaders","j","ConversionRow","handleGradeConversionChange","SchoolSettings_ButtonRow","SchoolSettings_SaveButton","SchoolSettings_ClearButton","StyledInput","PercentInput","LetterInput","GpaInput","p","gpa","AddUser","CircleStepGroup","CircleStepGroup_Root","ItemRoot","data-state","ItemText","ItemCircle","steps","termTypeRanges","annual","range","semester","trimester","quarter","AddYear","exportedStudentListRef","createRef","SourceListItem","exportedStudentIds","ExportedLabel","studentsToExport","handleStudentCheckedChanged","DestListItem","UnexportButton","handleUnexportClick","TrashIcon","AddYear_GradeSelect","PostSchoolInputRow","ExitCategorySelect","PostSchoolOutcomeSelect","PostSchoolOutcomeOtherInput","studentArray","termStartDates","_this$exportedStudent","exportedStudents","toConsumableArray","clone","nextGradeLevel","setupError","getSetupError","migrateError","getMigrateError","goBack","createTask","createSchoolYear","startDate","termYear","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","scrollTo","StartFormRoot","StartTopText","StartButton","handleNextClick","StartIcon","StartBottomText","SetupFormError","AddYear_Title","YearForm","AddYear_InputLabel","AddYear_YearSelect","handleYearSelectChange","yearChoices","TermTypeSelect","handleTermTypeChange","DateInputLabel","DateInput","handleTermDateChange","migratableStudents","StudentForm","StudentFormTitle","MigrateFormError","StudentFormInstructions","StudentLists","StudentListWrapper","StudentListHeader","AddYear_ExportButton","ConfirmHeader","ConfirmSubheader","ConfirmButton","content","renderStart","renderSetupForm","renderStudentForm","renderConfirmation","AddYear_Main","AddYear_Content","AddYear_Header","HeaderSteps","CancelButton","handleCancelClick","NextButton","NextArrowImage","StudentListEnumSelect","UserListItem","UserListItem_Root","UserText","UserName","screens_ManageUsers","editRoute","filteredUsers","users","ManageUsers_Main","ManageUsers_Content","UserListContainer","ManageUsers_SearchForm","ManageUsers_SearchInputContainer","ManageUsers_SearchInput","ManageUsers_SearchIcon","ManageUsers_AddStudentButton","ManageUsers_AddIcon","UserList","components_UserListItem","handleUserClick","ManageUsers_SubRouteWrapper","userId","lowercaseFullName","sortedUsers","_ref$errors","errors","_ref$warnings","warnings","_ref$selectedErrors","selectedErrors","_ref$selectedWarnings","selectedWarnings","onErrorEnter","onErrorLeave","onErrorClick","onWarningEnter","onWarningClick","onWarningLeave","FileUploadReportContainer","ReportWithLabel","ReportLabel","CSVFileReport_FileErrorReport","CleanReport","CSVFileReport_FileWarningReport","FileErrorReport","_ref2$errors","_ref2$selectedErrors","ErrorReport","ReportInfo","ReportCount","ReportList","idx","cellId","CSVFileReport_ListItem","onMouseEnter","onMouseLeave","FileWarningReport","_ref4$warnings","_ref4$selectedWarning","WarningReport","_ref5","warning","Report","css","_ref$withDragAndDrop","withDragAndDrop","accept","fileInputRef","useRef","FileSelectButton","FileDropZone","onDrop","files","onDragOver","FileDrop","_props$csvData","csvData","_props$selected","hoverOver","lastSelected","onCSVCellChange","onCSVCellFocusChange","rowId","editableField","setEditableField","_useState3","_useState4","focused","setFocused","_useState5","_useState6","loading","setLoading","isSelected","cell","selectedItem","handleValueChange","newValue","renderCells","entry","rowNumber","csvDataHelper","columns","column","editMode","Cell","isError","isWarning","currentStudent","newRowId","newCellId","focusChanged","CellContent","ExistingStudent","NewStudentDotAndHover","types","boolean","EditableYesNoSelect","autoFocus","enum","EditableSelect","options","enumValues","validValues","CSVStudentUploadPreview_EditableArrayField","EditableCell","renderEditable","displayValue","ReadonlyCell","renderReadonly","WarningErrorHover","firstThree","renderWarningHover","useEffect","getElementById","offsetParent","offsetLeft","offsetTop","focusCell","onClickOutside","listener","contains","addEventListener","removeEventListener","useOnClickOutside","CSVStudentUploadPreview_Root","LoadingContainer","CSVStudentUploadPreview_Loading","ScrollableContainer","CSVContainer","CSVHead","HeaderRow","HeaderCell","headerText","CSVBody","row","rowIdx","CSVEntry","PaddingRow","CellHover","CellWidth","editableCellStyle","selectOption","LoadingMessage","Loading","NewStudentHover","NewStudent","EditableArrayField","Array","isArray","defaultParseConfig","dynamicTyping","delimiter","skipEmptyLines","_callee","file","regenerator_default","wrap","_context","prev","abrupt","parseConfig","complete","Papa","parse","stop","parseCSV","findFieldByAlias","studentData","aliases","notProvided","normalizeValue","yesNoBooleanFromString","moment","integer","float","findExistingStudentWithId","parsedStudentData","currentStudents","existingStudent","compareFields","existingStudentField","csvField","isValidBoolean","getBooleanValue","existingAsDate","providedAsDate","existingArray","providedArray","split","_loop","provided","dis","v","_ret","esm_typeof","deserialize","getWarningsForCell","uploadedValue","val","isOptionalAndUnacceptedValue","findErrorsAndWarningsForRow","translated","translateRow","normalizedStudentData","object","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_step4$value","fromEntries","normalizeFieldNames","_arr","requiredFields","optionalFields","_i","translatedField","validAlias","rawValue","assigned","nanoid","assignUniqueIdsForCellsAndRow","attachErrors","importingStudents","validDisabilities","studentWithErrors","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","importingValue","requiredDataError","isRequiredAndMissing","isRequiredAndUnacceptedValue","gradeLetters","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_loop2","_iterator3","_ret2","checkDisabilities","duplicateCheck","runningList","findImportingStudentWithId","duplicateError","attachWarnings","studentWithWarnings","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","optional","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","existingValue","translateImportStudentCSV","translatedData","translatedWithErrors","translatedWithErrorsAndWarnings","_args","_findErrorsAndWarning","warningList","currentRow","errorList","resetErrorsAndWarnings","clearedStudent","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_student$column$field","recheckImport","_callee2","removedErrorsAndWarnings","recheckedWithErrors","recheckedWithErrorsAndWarnings","_args2","_context2","_findErrorsAndWarning2","getDownloadTemplateUrl","headers","encodeURIComponent","ImportData","lastSelectedFileReport","fileReport","importedStudents","warningId","errorId","hoveringWarning","updatedCSV","hoveringError","pendingCSVDataUpdate","importStudentsFromCSV","sweetalert","handleUploadComplete","_context7","handleUploadFailure","dismiss","submit","fetchDisabilities","selectedCells","hoveringOver","ImportData_Main","YearBar","YearLabel","ImportData_YearSelect","formEnabled","ImportData_Content","ImportFormContainer","ImportData_ImportDataForm","selectedYearId","selectedYear","onYearChange","selectedTerm","onSelectedTermChange","onFileChange","handleFileChange","onCancel","handleCancel","fileSelectEnabled","components_CSVFileReport","handleErrorClick","handleWarningClick","handleErrorHover","handleWarningHover","DownloadTemplateLink","DataPreview","ImportData_CSVDataImportPreview","onDataChanged","handleCSVDataChange","onImportClicked","handleImportClicked","onCancelClicked","buttonsEnabled","ImportData_YearSelectHandle","FormSelectHandle","FormYearSelect","ImportDataTitle","FieldLabel","InputWithLabel","ResetFileButton","DataPreviewHeader","Import","ImportButton","StyledCSVStudentUploadPreview","CSVStudentUploadPreview","ImportDataForm","ImportData_Form","ImportData_StyledTermSelect","components_FileInput","CSVDataImportPreview","_ref6","setData","inputValue","_ref7","_ref8","_cell","cellValues","updatedRow","defineProperty","ImportData_ButtonContainer","ImportData_CancelButton","BreakpointLabel","AuthenticatedApp","errorMessage","screens_MissingSchoolYear","screens_AddYear","FadeInWrapper","ManageUsers","initTask","init","UnauthenticatedApp","ForgotPassword","ResetPassword","components_ProtectedRoute","AppRouter","online","components_BreakpointLabel","HashRouter","App_UnauthenticatedApp","wait","ms","setTimeout","Model","_descriptor2","_descriptor3","_descriptor4","rawFields","_store","ModelClass","raw","fieldMap","defaultOptions","_arr$_i","modelDescriptor","expectArray","_modelDescriptor","rawModel","parsedModel","$mobx","wrapModel","modelFields","createdAt","updatedAt","deletedAt","Self","constructor","parseModelFields","Disability","User","esm_get","calcCompletedPercent","StudentTermInfo","locationMatchRegexp","currentTerm","lowercaseStudentId","riskData","disabilityIds","some","interventions","studentTermInfoId","birthdayString","riskUtils","calcTermInfoRiskData","riskFactorValues","skillValues","careerDevValues","disabilityString","genderLetter","RegExp","sortName","Term","studentTermInfos","sorter","SchoolYear","nextTerm","ActivityType","ActivityTypeGroup","ActivityEvent","Activity","findById","authTokenKey","Store","Store_descriptor","Store_descriptor2","Store_descriptor3","Store_descriptor4","Store_descriptor5","Store_descriptor6","Store_descriptor7","Store_descriptor8","Store_descriptor9","setStore","all","compact","fetchUser","fetchSchoolSettings","fetchActivityGroups","fetchSchoolYears","fetchUsers","_init","axios","post","authToken","runInAction","localStorage","setItem","get","fromArray","userListUser","u","studentTermInfo","modifiedTermInfo","t","_this6","_this7","studentsLoaded","model","_this8","others","disabilitiesFilter","responseType","Accept","paramsSerializer","qs","stringify","arrayFormat","arrayBuffer","ArrayBuffer","parsedData","JSON","String","fromCharCode","Uint8Array","url","link","setAttribute","payload","studentIds","studentMap","set","Map","resolveStudents","removeItem","_this9","axiosInstance","create","Authorization","interceptors","use","navigator","onLine","getItem","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","n","react_dom__WEBPACK_IMPORTED_MODULE_2__","react_dom__WEBPACK_IMPORTED_MODULE_2___default","mobx_react__WEBPACK_IMPORTED_MODULE_3__","_App__WEBPACK_IMPORTED_MODULE_7__","_models_Store__WEBPACK_IMPORTED_MODULE_8__","ReactDOM","_Users_ryan_projects_transition_gradebook_dev_client_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/main.2d3a396b.chunk.js","sourcesContent":["import { observable, action, computed, autorun } from 'mobx';\r\n\r\nconst states = {\r\n  unstarted: 'unstarted',\r\n  pending: 'pending',\r\n  resolved: 'resolved',\r\n  rejected: 'rejected',\r\n};\r\n\r\nconst production = process.env.NODE_ENV === 'production';\r\n\r\n// For reacting to state changes in asynchronous tasks.\r\n// AsyncTask instances like promises. They have `then` and `catch` methods\r\n// and work fine with async/await.\r\nexport default class AsyncTask {\r\n  _body = null;\r\n  _promise = null;\r\n  _result = null;\r\n  _error = null;\r\n\r\n  static resolve(result) {\r\n    return new AsyncTask(Promise.resolve(result));\r\n  }\r\n\r\n  static reject(error) {\r\n    return new AsyncTask(Promise.reject(error));\r\n  }\r\n\r\n  // Observable promise state with computed properties for convenience\r\n  @observable state = states.unstarted;\r\n\r\n  // The `error`/`result` getters allow changes to `_error` and `_result` to be\r\n  // observed without making them (and their properties) directly observable.\r\n  @computed get error() {\r\n    return this.rejected && this._error;\r\n  }\r\n\r\n  @computed get result() {\r\n    return this.resolved && this._result;\r\n  }\r\n\r\n  @computed get pending()   { return this.state === states.pending;   }\r\n  @computed get resolved()  { return this.state === states.resolved;  }\r\n  @computed get rejected()  { return this.state === states.rejected;  }\r\n  @computed get unstarted() { return this.state === states.unstarted; }\r\n  @computed get started()   { return this.state !== states.unstarted; }\r\n  @computed get finished()  { return this.resolved || this.rejected;  }\r\n  @computed get errorMessage() {\r\n    if(this.rejected) {\r\n      return this.error ? this.error.message || this.error.toString() : 'Unknown error';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  constructor(body) {\r\n    if(!production) this._startTime = Date.now();\r\n    if(body && body.then) {\r\n      // Pass a promise, start immediately.\r\n      this._promise = this._wrapPromise(body);\r\n    } else if(typeof body === 'function') {\r\n      // Pass a function, wait until `start` is called run the function and start.\r\n      // This allows AsyncTask to be used as a lazily executed promise.\r\n      this._body = body;\r\n    } else if(body instanceof Error) {\r\n      // pass an error, start in the rejected state.\r\n      this._error = body;\r\n      this.state = states.rejected;\r\n      this._promise = this._wrapPromise(Promise.reject(body));\r\n    } else {\r\n      // pass anything else, start immediately in the resolved state.\r\n      this._result = body;\r\n      this.state = states.resolved;\r\n      this._promise = this._wrapPromise(Promise.resolve(body));\r\n    }\r\n  }\r\n\r\n  match(matchMap) {\r\n    switch(this.state) {\r\n      case states.pending: return matchMap.pending && matchMap.pending();\r\n      case states.resolved: return matchMap.resolved && matchMap.resolved(this.result);\r\n      case states.rejected: return matchMap.rejected && matchMap.rejected(this.error);\r\n      default: return matchMap.unstarted && matchMap.unstarted();\r\n    }\r\n  }\r\n\r\n  then(resultHandler, errorHandler) {\r\n    return this.start()._promise.then(resultHandler, errorHandler);\r\n  }\r\n\r\n  catch(errorHandler) {\r\n    return this.start()._promise.catch(errorHandler);\r\n  }\r\n\r\n  inspect(description) {\r\n    if(!production) {\r\n      description = description || this._body.name;\r\n      const endInspection = autorun(() => {\r\n        if(this.finished) {\r\n          const elapsed = Date.now() - this._startTime;\r\n          console.log('Task', this.state, `\"${description}\" (${elapsed}ms)`, this._error || this._result);\r\n          endInspection();\r\n        }\r\n      });\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  start() {\r\n    if(!this._promise) {\r\n      this._promise = this._wrapPromise(this._body.apply(null, arguments));\r\n    }\r\n    return this;\r\n  }\r\n\r\n  @action _wrapPromise(promise) {\r\n    this.state = states.pending;\r\n    return Promise.resolve(promise).then(this._handleResolve, this._handleReject);\r\n  }\r\n\r\n  @action.bound _handleResolve(result) {\r\n    this._result = result;\r\n    this.state = states.resolved;\r\n    return result;\r\n  }\r\n\r\n  @action.bound _handleReject(error) {\r\n    this._error = error;\r\n    this.state = states.rejected;\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport function task(description) {\r\n  // allow calling as @task or @task(debugName)\r\n  if(arguments.length === 3) {\r\n    description = null;\r\n    return taskDecorator.apply(null, arguments);\r\n  } else {\r\n    return taskDecorator;\r\n  }\r\n\r\n  function taskDecorator(target, key, descriptor) {\r\n    return action.bound(target, key, {\r\n      ...descriptor,\r\n      value() {\r\n        const asyncTask = new AsyncTask(descriptor.value.apply(this, arguments));\r\n        if(!global.PRODUCTION && description) asyncTask.inspect(description);\r\n        return asyncTask.start();\r\n      },\r\n    });\r\n  }\r\n}\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAnCAYAAAB9qAq4AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gURExYSRlx2FQAAAf9JREFUWMPt2E+ITWEYx/HvnTnhN5IIU1NSxIKFFQubWSmp2ShRJDZKshklMnfKmGZYsFFiJ8uZ7JWlbERESVZk4U8ZRfrRpLF5F5POuffO+55zZprus37ep89533Oe97m3AdykxLA93EmepD7gEjBl+3VRXgZsp+aQtAa4CmwDdkq6bvtpXm7PIuDWAZMBB7ACuCxpcNGBkjYE3JYcx3lJB/KO+P93aKgi3CZgAugvSGkAZyWttv2g1h2UNABca4GbHyclHa8NKGlzONaNC1h2RNLp3CMuGbcVGAPWRiwfkrSyp0LcDmA8EgcwCzzLKsLtAkaBvth+D4zbfpVVgNsNjACrIkv8AK7Yflf6OyhpD3AxNN+Y+AY0bX8s7IMJuH3ABaA3ssQnYMT215aNOhI3CAwntK33wKjt721vkgjcfuBcuAli4g0wZvtX0TSTgjsInEko8RyYtP2n1bgVizsEnErAPQZu2P7bKimLxB0FjiXgHgK3bc+1S8wicCeAwwm4adv3O02O2cEU3L35o1TBBtwtvc10EHPALduPOsgdqBs4Gz6GJzGLqwb+BiZsv4gtUCXwZ2jAb1OKVAWcCVfXh9RCVQC/hEv/cxnFYoAv2wyad2zPlPW0Cwbabtb5W7r2fxa6wC6wCyw5spxxp7mkgcDe7hEvJ2ADWL+Ugf8ArCuLePYt4HMAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gURFToLH4vJyQAAAwJJREFUWMPVmD9IG3EUxz+5iEuhIEZol+6KLUIz2ymgeaODXdWqiC6KCIoixX9gpSDoUCk6FgqZyqNChkLGQhcrOHXpYkFBcJKgXpennGnucpfLKf1CIMnvd+997vf3vZfK5/NElapmgG7gBdBmn4w1nwIn9jkASiJyGtVHKiyYqjYBfUAO6Izo5xAoAgURuWwImKqmgB5gBHhKPB0DO8C+iLhBHZ0aUE+AXWCxAVCYjUVg12xHB1PV58Ae0E7j1Q7smY/wYKqaA7aBFpJTC7BtvmqD2VssAM0kr2ZgodrIOVXW1Po9QXnh1ivXnFOx+9YSnr6gaV0zhn9GrCehhR5lQ/TcAbPDc8TngR8JQPjZHDGW2xHrCzinVoFCA6EKZtPvnOvzguUCDF2LyDs70+Jqz2xdB/TJATh2Ide8+0TkA7AZA2rTbNRSp6pmHIsSQklEPgErwFUEoCtgxZ4Nq24H6Iry2iLyBZgHyiG6l4F5eyaKuhygNeqciMg3YBq4COh2AUxb36hqdSzIC1KbD9x3YAI4r9J8DkxYn9A2ve2OJ/L004aqdvjAHQJjFrXiiWDHrK1agNABbNTwmXEAt0anx8CWqmZ94H4BoxYEHgOj9l81qCywZTaD5KZc1/0MPAsx75fAnIiUfJy2GeiJT/sr29FNIXz9Trmuuw28jLD1V0VEIyYvAswB6bBXlmPZTFilLX7qjwDVb/FdOoKfE8dSrKiaVNXhEFDDwGQd9g8coFTnFTOkqlMBUFPAUJ22S6l8Po+qfqwjV7zRV2BZRK4MKG03Q2+d9g5F5M3NDinGAOsFHqnqvP1ejnL/VlERz9YtAK9j5I7dwHv7no2ZEBdu4zFL23dixlrZmFAAOzclBG/Mvw8cPWDMf2QMd5MRqyXMAmcPAHUGzHrrGU7FvfcHmAkZazVKZWDGfPtn4iLyE1i6J7gysGQ+a9cuRKQIjCc8rWfAuPkKX+2xtxhIaEMcAQPVRipUfczmfRB4a2dMXB2brcHKNVWp/7fU6QOZeHH4L28XEMR62s5gAAAAAElFTkSuQmCC\"","module.exports = function splitArray(array) {\r\n  const midIndex = Math.ceil(array.length / 2);\r\n  return [\r\n    array.slice(0, midIndex),\r\n    array.slice(midIndex),\r\n  ];\r\n}","import { keyframes } from 'styled-components';\r\n\r\nexport const fadeIn = keyframes`\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n`;\r\n","// For other spinners see: http://www.davidhu.io/react-spinners/\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport styled from 'styled-components';\r\n\r\nexport default styled(ScaleLoader).attrs({color: '#D43425'})``;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Spinner from './Spinner';\r\n\r\nexport default function SpinnerOverlay(props) {\r\n  const { children } = props;\r\n  return (\r\n    <Root {...props}>\r\n      <Spinner/>\r\n      {children && <Message>{children}</Message>}\r\n    </Root>\r\n  )\r\n}\r\n\r\nconst Root = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  max-width: 100vw;\r\n  max-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(255,255,255,0.8);\r\n  z-index: 500;\r\n  transition: opacity 0.5s;\r\n  opacity: ${props => props.open ? 1 : 0};\r\n  pointer-events: ${props => props.open ? 'auto' : 'none'};\r\n  z-index: 100;\r\n`;\r\n\r\nconst Message = styled.div`\r\n  font-size: 18px;\r\n  color: #D43425;\r\n  margin-top: 50px;\r\n`;","import React, { Component } from 'react';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Route, Redirect, withRouter } from 'react-router-dom';\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass ProtectedRoute extends Component {\r\n  _renderer = loggedIn => props => {\r\n    const { component : Component, loginPath='/Login' } = this.props;\r\n\r\n    if(loggedIn) {\r\n      return (<Component {...props}/>);\r\n    } else {\r\n      return (\r\n        <Redirect to={{\r\n          pathname: loginPath,\r\n          state: { from: props.location }\r\n        }}/>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { store } = this.props;\r\n\r\n    return (\r\n      <Route {...this.props} component={undefined} render={this._renderer(store.loggedIn)}/>\r\n    );\r\n  }\r\n};\r\nexport default ProtectedRoute;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.input`\r\n  min-height: 40px;\r\n  padding: 10px 20px 10px 20px;\r\n  border: none;\r\n  color: #4A4A4A;\r\n  font-family: 'Open Sans';\r\n  font-size: 16px;\r\n`;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport Input from '../components/Input';\r\nimport logo from '../assets/logo.png';\r\n\r\nconst year = (new Date()).getFullYear();\r\n\r\n@inject('store')\r\n@observer\r\nclass Login extends Component {\r\n  @observable username = '';\r\n  @observable password = '';\r\n  @observable loginTask = null;\r\n  @observable feedback = null;\r\n\r\n  @action.bound handleUsernameChange(event) {\r\n    this.username = event.target.value;\r\n  }\r\n\r\n  @action.bound handlePasswordChange(event) {\r\n    this.password = event.target.value;\r\n  }\r\n\r\n  @action.bound async handleSubmit(event) {\r\n    event.preventDefault();\r\n    const { store } = this.props;\r\n    const { username, password } = this;\r\n\r\n    if (!username && !password) return this.feedback = 'Please enter your email and password.';\r\n    else if (!username) return this.feedback = 'Please enter your email.';\r\n    else if (!password) return this.feedback = 'Please enter your password.';\r\n\r\n    this.feedback = '';\r\n    this.disabled = true;\r\n\r\n    this.loginTask = await store.login(username, password);\r\n    this.disabled = false;\r\n\r\n    if (this.loginTask.error) {\r\n      const { data, status } = this.loginTask.error.response;\r\n      if (status === 401) return this.feedback = data.error.message;\r\n      this.feedback = `An error occurred (status code: ${status}).`\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { store } = this.props;\r\n    const {\r\n      username,\r\n      password,\r\n      disabled,\r\n      feedback,\r\n      handleSubmit,\r\n      handleUsernameChange,\r\n      handlePasswordChange,\r\n    } = this;\r\n    const { from } = this.props.location.state || {\r\n      from: { pathname: '/' }\r\n    };\r\n\r\n    if (store.loggedIn) {\r\n      return (<Redirect to={from}/>);\r\n    }\r\n\r\n    return (\r\n      <Root>\r\n        <Top>\r\n          <Link to=\"/Login\">\r\n            <Logo src={logo}/>\r\n          </Link>\r\n        </Top>\r\n        <Bottom>\r\n          <LoginForm onSubmit={handleSubmit}>\r\n            <LoginFormGroup>\r\n              <LoginLabel>Email</LoginLabel>\r\n              <Input type='email' value={username} onChange={handleUsernameChange} required />\r\n            </LoginFormGroup>\r\n            <LoginFormGroup>\r\n              <LoginLabel>Password</LoginLabel>\r\n              <Input type='password' value={password} onChange={handlePasswordChange} required />\r\n            </LoginFormGroup>\r\n            <LoginFeedback>{feedback}</LoginFeedback>\r\n            <LoginButton disabled={disabled}>Get Started</LoginButton>\r\n            <ForgotPasswordContainer>\r\n              <ForgotPasswordLink to='/forgotpassword'>forgot password</ForgotPasswordLink>\r\n            </ForgotPasswordContainer>\r\n          </LoginForm>\r\n        </Bottom>\r\n        <Copyright>&copy; Copyright {year} NTACT Transition Gradebook</Copyright>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nconst Root = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Top = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 140px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  width: 291px;\r\n  height: 99px;\r\n`;\r\n\r\nconst Bottom = styled.div`\r\n  background: linear-gradient(180deg, #F5633A 0%, #AE0F13 100%);\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst LoginForm = styled.form`\r\n  flex: 1;\r\n  margin: auto;\r\n  margin-top: 114px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 300px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst LoginFormGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 12px;\r\n  width: 100%;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst LoginLabel = styled.label`\r\n  color: #A20B0E;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  margin-bottom: 3px;\r\n`;\r\n\r\nconst LoginFeedback = styled.div`\r\n  align-self: flex-start;\r\n  color: white;\r\n`;\r\n\r\nconst LoginButton = styled.button`\r\n  width: 100%;\r\n  margin-top: 20px;\r\n  text-transform: uppercase;\r\n  font-family: 'Oswald', sans-serif;\r\n  background: #A20B0E;\r\n  color: white;\r\n  padding: 15px;\r\n  border: none;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ForgotPasswordContainer = styled.div`\r\n  margin-top: 10px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-self: normal;\r\n`;\r\n\r\nconst ForgotPasswordLink = styled(Link)`\r\n  color: #A20B0E;\r\n  font-size: 12px;\r\n  padding-bottom: 1px;\r\n  border-bottom: 1px solid #A20B0E;\r\n`;\r\n\r\nconst Copyright = styled.div`\r\n  position: absolute;\r\n  bottom: 14px;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  color: #F5633A;\r\n`;\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport Input from '../components/Input';\r\nimport logo from '../assets/logo.png';\r\n\r\nconst year = (new Date()).getFullYear();\r\n\r\n@inject('store')\r\n@observer\r\nclass ForgotPasword extends Component {\r\n  @observable username = '';\r\n  @observable loginTask = null;\r\n  @observable disabled = false;\r\n  @observable feedback = null;\r\n\r\n  @action.bound async handleUsernameChange(event) {\r\n    this.username = event.target.value;\r\n  }\r\n\r\n  @action.bound async handleSubmit(event) {\r\n    event.preventDefault();\r\n    const { store } = this.props;\r\n    const { username } = this;\r\n\r\n    if (!username) return this.feedback = 'Please enter your email.';\r\n\r\n    this.feedback = '';\r\n    this.disabled = true;\r\n\r\n    this.forgotPasswordTask = await store.forgotPassword(username);\r\n    this.disabled = false;\r\n\r\n    if (this.forgotPasswordTask.error) {\r\n      const { data, status } = this.forgotPasswordTask.error.response;\r\n      if (status === 401)  return this.feedback = data;\r\n      return this.feedback = `An error occurred (status code: ${status}).`;\r\n    }\r\n\r\n    const { message } = this.forgotPasswordTask.data;\r\n    this.feedback = message;\r\n\r\n  }\r\n\r\n  render() {\r\n    const { store } = this.props;\r\n    const {\r\n      username,\r\n      disabled,\r\n      feedback,\r\n      handleSubmit,\r\n      handleUsernameChange,\r\n    } = this;\r\n    const { from } = this.props.location.state || {\r\n      from: { pathname: '/' }\r\n    };\r\n\r\n    if (store.loggedIn) {\r\n      return (<Redirect to={from}/>);\r\n    }\r\n    return (\r\n      <Root>\r\n        <Top>\r\n          <Link to=\"/Login\">\r\n            <Logo src={logo}/>\r\n          </Link>\r\n        </Top>\r\n        <Bottom>\r\n          <ForgotPasswordForm onSubmit={handleSubmit}>\r\n            <Info>\r\n              Enter your email address and we will send you a link to reset your password.\r\n            </Info>\r\n            <ForgotPasswordFormGroup>\r\n              <ForgotPasswordLabel>Email</ForgotPasswordLabel>\r\n              <Input type='email' value={username} onChange={handleUsernameChange} required />\r\n            </ForgotPasswordFormGroup>\r\n            <ForgotPasswordFeedback>{feedback}</ForgotPasswordFeedback>\r\n            <LoginButton disabled={disabled}>Send Password Reset Link</LoginButton>\r\n            <ReturnToLoginContainer>\r\n              <ReturnToLoginLink to='/'>log in</ReturnToLoginLink>\r\n            </ReturnToLoginContainer>\r\n          </ForgotPasswordForm>\r\n        </Bottom>\r\n        <Copyright>&copy; Copyright {year} NTACT Transition Gradebook</Copyright>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nconst Root = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n`;\r\n\r\nconst Top = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 140px;\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  width: 291px;\r\n  height: 99px;\r\n`;\r\n\r\nconst Bottom = styled.div`\r\n  background: linear-gradient(180deg, #F5633A 0%, #AE0F13 100%);\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst ForgotPasswordForm = styled.form`\r\n  flex: 1;\r\n  margin: auto;\r\n  margin-top: 114px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 300px;\r\n`;\r\n\r\nconst Info = styled.h2`\r\n  margin-bottom: 40px;\r\n  font-weight: normal;\r\n  color: white;\r\n`;\r\n\r\nconst ForgotPasswordFormGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 12px;\r\n  width: 100%;\r\n`;\r\n\r\nconst ForgotPasswordLabel = styled.label`\r\n  color: #A20B0E;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  margin-bottom: 3px;\r\n`;\r\n\r\nconst ForgotPasswordFeedback = styled.div`\r\n  align-self: flex-start;\r\n  color: white;\r\n  margin-top: 5px;\r\n`;\r\n\r\nconst LoginButton = styled.button`\r\n  width: 100%;\r\n  margin-top: 20px;\r\n  text-transform: uppercase;\r\n  font-family: 'Oswald', sans-serif;\r\n  background: #A20B0E;\r\n  color: white;\r\n  padding: 15px;\r\n  border: none;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ReturnToLoginContainer = styled.div`\r\n  margin-top: 10px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-self: normal;\r\n`;\r\n\r\nconst ReturnToLoginLink = styled(Link)`\r\n  color: #A20B0E;\r\n  font-size: 12px;\r\n  padding-bottom: 1px;\r\n  border-bottom: 1px solid #A20B0E;\r\n`;\r\n\r\nconst Copyright = styled.div`\r\n  position: absolute;\r\n  bottom: 14px;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  color: #F5633A;\r\n`;\r\n\r\nexport default ForgotPasword;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport Input from '../components/Input';\r\nimport logo from '../assets/logo.png';\r\n\r\nconst year = (new Date()).getFullYear();\r\n\r\n@inject('store')\r\n@observer\r\nclass ResetPasword extends Component {\r\n  @observable uid = null;\r\n  @observable uidValidationTask = null;\r\n  @observable uidValidationStatus = null;\r\n  @observable uidValidationFeedback = null;\r\n  @observable password = '';\r\n  @observable confirmPassword = '';\r\n  @observable resetPasswordTask = null;\r\n  @observable passwordStatus = null;\r\n  @observable passwordFeedback = null;\r\n  @observable disabled = false;\r\n\r\n  async componentDidMount() {\r\n    const { uid } = this.props.match.params;\r\n    this.uid = uid;\r\n    this.uidValidationTask = await this.props.store.checkResetPasswordIdentifier(uid);\r\n\r\n    if (this.uidValidationTask.error) {\r\n      const { status } = this.uidValidationTask.error.response;\r\n      this.uidValidationStatus = 'error';\r\n      return this.uidValidationFeedback = `An error occurred (status code: ${status}).`;\r\n    }\r\n\r\n    const {\r\n      message,\r\n      valid,\r\n    } = this.uidValidationTask.data;\r\n    if (!valid) {\r\n      this.uidValidationStatus = 'error';\r\n      return this.uidValidationFeedback = message;\r\n    }\r\n\r\n    this.uidValidationStatus = 'success';\r\n  }\r\n\r\n  @action.bound handlePasswordChange(event) {\r\n    this.password = event.target.value;\r\n  }\r\n\r\n  @action.bound handleConfirmPasswordChange(event) {\r\n    this.confirmPassword = event.target.value;\r\n  }\r\n\r\n  @action.bound async handleSubmit(event) {\r\n    event.preventDefault();\r\n    if (this.passwordStatus === 'success') return this.props.history.push('/Login');\r\n\r\n    const { store } = this.props;\r\n    const { uid, password, confirmPassword } = this;\r\n\r\n    if (!password) return this.passwordFeedback = 'Please enter a new password.';\r\n    else if (!confirmPassword) return this.passwordFeedback = 'Please confirm your password.';\r\n    else if (password !== confirmPassword) return this.passwordFeedback = 'Password does not match the confirm password.';\r\n\r\n    this.passwordFeedback = '';\r\n    this.disabled = true;\r\n\r\n    this.resetPasswordTask = await store.resetPassword(uid, password);\r\n    this.disabled = false;\r\n\r\n    if (this.resetPasswordTask.error) {\r\n      const { data } = this.resetPasswordTask.error.response;\r\n      if (data.data && data.data.password) {\r\n        const { message } = data.data.password[0]\r\n        return this.passwordFeedback = `Error: ${message}.`;\r\n      }\r\n      else {\r\n        const { status } = this.uidValidationTask.error.response;\r\n        return this.passwordFeedback = `An error occurred (status code: ${status}).`;\r\n      }\r\n    }\r\n\r\n    const { message } = this.resetPasswordTask.data;\r\n    this.passwordFeedback = message;\r\n    this.passwordStatus = 'success';\r\n\r\n  }\r\n\r\n  render() {\r\n    const { store } = this.props;\r\n    const {\r\n      uidValidationStatus,\r\n      uidValidationFeedback,\r\n      disabled,\r\n      password,\r\n      confirmPassword,\r\n      passwordStatus,\r\n      passwordFeedback,\r\n      handleSubmit,\r\n      handlePasswordChange,\r\n      handleConfirmPasswordChange,\r\n    } = this;\r\n    const { from } = this.props.location.state || {\r\n      from: { pathname: '/' }\r\n    };\r\n\r\n    if (store.loggedIn) {\r\n      return (<Redirect to={from}/>);\r\n    }\r\n    return (\r\n      <Root>\r\n        <Top>\r\n          <Link to=\"/Login\">\r\n            <Logo src={logo}/>\r\n          </Link>\r\n        </Top>\r\n        <Bottom>\r\n          {uidValidationStatus === 'error' &&\r\n            <ForgotPasswordContainer>\r\n              <Info>\r\n                {uidValidationFeedback}\r\n              </Info>\r\n              <LoginLink to='/'>Log In</LoginLink>\r\n            </ForgotPasswordContainer>\r\n          }\r\n          {uidValidationStatus === 'success' &&\r\n            <ForgotPasswordForm onSubmit={handleSubmit}>\r\n              <Info>\r\n                Create a new password\r\n              </Info>\r\n              {passwordStatus !== 'success' &&\r\n                <React.Fragment>\r\n                  <ForgotPasswordFormGroup>\r\n                    <ForgotPasswordLabel>Password</ForgotPasswordLabel>\r\n                    <Input type='password' value={password} onChange={handlePasswordChange} required />\r\n                  </ForgotPasswordFormGroup>\r\n                  <ForgotPasswordFormGroup>\r\n                    <ForgotPasswordLabel>Confirm Password</ForgotPasswordLabel>\r\n                    <Input type='password' value={confirmPassword} onChange={handleConfirmPasswordChange} required />\r\n                  </ForgotPasswordFormGroup>\r\n                </React.Fragment>\r\n              }\r\n              <ForgotPasswordFeedback>{passwordFeedback}</ForgotPasswordFeedback>\r\n              <LoginButton disabled={disabled}>{passwordStatus === 'success' ? 'Log In' : 'Update Password'}</LoginButton>\r\n              {passwordStatus !== 'success' &&\r\n                <ReturnToLoginContainer>\r\n                  <ReturnToLoginLink to='/'>log in</ReturnToLoginLink>\r\n                </ReturnToLoginContainer>\r\n              }\r\n            </ForgotPasswordForm>\r\n          }\r\n        </Bottom>\r\n        <Copyright>&copy; Copyright {year} NTACT Transition Gradebook</Copyright>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nconst Root = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n`;\r\n\r\nconst Top = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 140px;\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  width: 291px;\r\n  height: 99px;\r\n`;\r\n\r\nconst Bottom = styled.div`\r\n  background: linear-gradient(180deg, #F5633A 0%, #AE0F13 100%);\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst ForgotPasswordContainer = styled.div`\r\n  flex: 1;\r\n  margin: auto;\r\n  margin-top: 114px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 300px;\r\n`;\r\n\r\nconst ForgotPasswordForm = styled.form`\r\n  flex: 1;\r\n  margin: auto;\r\n  margin-top: 114px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 300px;\r\n`;\r\n\r\nconst Info = styled.h2`\r\n  margin-bottom: 40px;\r\n  font-weight: normal;\r\n  color: white;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nconst ForgotPasswordFormGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 12px;\r\n  width: 100%;\r\n`;\r\n\r\nconst ForgotPasswordLabel = styled.label`\r\n  color: #A20B0E;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  margin-bottom: 3px;\r\n`;\r\n\r\nconst ForgotPasswordFeedback = styled.div`\r\n  align-self: flex-start;\r\n  color: white;\r\n  margin-top: 5px;\r\n`;\r\n\r\nconst LoginButton = styled.button`\r\n  width: 100%;\r\n  margin-top: 20px;\r\n  text-transform: uppercase;\r\n  font-family: 'Oswald', sans-serif;\r\n  background: #A20B0E;\r\n  color: white;\r\n  padding: 15px;\r\n  border: none;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst LoginLink = styled(Link)`\r\n  width: 100%;\r\n  margin-top: 20px;\r\n  text-transform: uppercase;\r\n  text-align: center;\r\n  font-family: 'Oswald', sans-serif;\r\n  background: #A20B0E;\r\n  color: white;\r\n  padding: 15px;\r\n  border: none;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ReturnToLoginContainer = styled.div`\r\n  margin-top: 10px;\r\n  display: flex;\r\n  align-self: normal;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst ReturnToLoginLink = styled(Link)`\r\n  color: #A20B0E;\r\n  font-size: 12px;\r\n  padding-bottom: 1px;\r\n  border-bottom: 1px solid #A20B0E;\r\n`;\r\n\r\nconst Copyright = styled.div`\r\n  position: absolute;\r\n  bottom: 14px;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  color: #F5633A;\r\n`;\r\n\r\nexport default ResetPasword;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nclass DropdownMenu extends Component {\r\n  render() {\r\n    const { header, children, ...rest } = this.props;\r\n    return (\r\n      <Root {...rest}>\r\n        {header}\r\n        <Items>{children}</Items>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DropdownMenu;\r\n\r\nconst Root = styled.div`\r\n  position: relative;\r\n\r\n  &:hover > div {\r\n    display: block;\r\n  }\r\n`;\r\n\r\nconst Items = styled.div`\r\n  display: none;\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 0;\r\n  transform: translateY(100%);\r\n  z-index: 200;\r\n`;\r\n\r\nDropdownMenu.Item = styled.div`\r\n  position: relative;\r\n  top: 10px;\r\n  display: block;\r\n  background-color: #F5633A;\r\n  color: white;\r\n  padding: 6px 45px 6px 45px;\r\n  font-size: 14px;\r\n  width: 192px;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  border-top: 1px solid #EE391F;\r\n\r\n  &:first-child {\r\n    border-top: none;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: #F88B6D;\r\n    color: #A20B0E;\r\n  }\r\n\r\n  /* This ::after stuff is for the little triangle */\r\n  &:first-child::after {\r\n    content: '';\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 10px solid transparent;\r\n    border-right: 10px solid transparent;\r\n    border-bottom: 10px solid #F5633A;\r\n    position: absolute;\r\n    right: 0;\r\n    top: -10px;\r\n  }\r\n\r\n  &:hover:first-child::after {\r\n    border-bottom: 10px solid #F88B6D;\r\n  }\r\n`;","import styled from 'styled-components';\r\n\r\nconst Section = styled.div`\r\n  width: 100%;\r\n  padding: ${props => props.fullWidth ? '0' : '0 40px 0 40px'};\r\n`;\r\n\r\nSection.Content = styled.div`\r\n  width: 100%;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport default Section;","import styled from 'styled-components';\r\n\r\nexport default styled.button`\r\n  border: none;\r\n  outline: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  cursor: pointer;\r\n  width: auto;\r\n  background-color: inherit;\r\n\r\n  &:disabled {\r\n    cursor: default;\r\n  }\r\n`;\r\n","\r\nconst largeMin = 1100;\r\nconst mediumMax = largeMin - 1;\r\nconst mediumMin = 700;\r\nconst smallMax = mediumMin - 1;\r\n\r\nexport const large = `screen and (min-width: ${largeMin}px)`;\r\nexport const medium = `screen and (min-width: ${mediumMin}px) and (max-width: ${mediumMax}px)`;\r\nexport const mediumOrSmall = `screen and (max-width: ${mediumMax}px)`;\r\nexport const small = `screen and (max-width: ${smallMax}px)`;\r\n","import styled from 'styled-components';\r\n\r\nexport const  RedCircleX = styled.img.attrs({\r\n  src: require('../assets/red_circle_x.svg')\r\n})``;\r\n\r\nexport const RedCirclePlus = RedCircleX.extend`transform: rotate(-45deg);`;\r\n\r\nexport const CircleArrow = styled.img.attrs({\r\n  src: require('../assets/expand_arrow.svg')\r\n})`\r\n  opacity: 0.5;\r\n`;\r\n\r\nexport const Gear = styled.img.attrs({\r\n  src: require('../assets/gear_icon.svg')\r\n})``;\r\n\r\nexport const PenSquare = styled.img.attrs({\r\n  src: require('../assets/edit_icon.png')\r\n})``;\r\n\r\nexport const SpeechBubble = styled.img.attrs({\r\n  src: require('../assets/speech_bubble_icon.png')\r\n})``;\r\n\r\nexport const WhiteCircleArrow = styled.img.attrs({\r\n  src: require('../assets/select_icon_light.svg')\r\n})``;\r\n\r\nexport const X = styled.img.attrs({\r\n  src: require('../assets/x_icon.png')\r\n})``;\r\n\r\nexport const Trash = styled.img.attrs({\r\n  src: require('../assets/trash_icon.png')\r\n})``;\r\n\r\nexport const OrangeCirclePlus = styled.img.attrs({\r\n  src: require('../assets/orange_plus_icon.svg')\r\n})``;\r\n\r\nexport const Plus = styled.img.attrs({\r\n  src: require('../assets/plus_icon.png')\r\n})``;\r\n\r\nexport const WhiteCircleX = Plus.extend`\r\n  transform: rotate(45deg);\r\n`;\r\n\r\nexport const ArrowSquare = styled.img.attrs({\r\n  src: require('../assets/export_icon.png')\r\n})``;\r\n\r\nexport const Magnifier = styled.img.attrs({\r\n  src: require('../assets/search_icon_thin.png')\r\n})``;\r\n\r\nexport const Settings = styled.img.attrs({\r\n  src: require('../assets/settings_icon.png')\r\n})``;\r\n\r\nexport const OrangeSettings = styled.img.attrs({\r\n  src: require('../assets/orange_settings_icon.png')\r\n})``;\r\n\r\nexport const WhiteChevron = styled.img.attrs({\r\n  src: require('../assets/white_chevron_icon.png')\r\n})``\r\n\r\nexport const Calendar = styled.img.attrs({\r\n  src: require('../assets/calendar_icon.svg')\r\n})``;\r\n\r\nexport const SelectIconLight = styled.img.attrs({\r\n  src: require('../assets/select_icon_light.png')\r\n})``;\r\n\r\nexport const XIcon = styled.img.attrs({\r\n  src: require('../assets/x_icon.svg')\r\n})``\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from './Button';\r\nimport * as breakpoints from '../breakpoints';\r\nimport * as Icons from './Icons';\r\n\r\nexport default class MobileMenu extends Component {\r\n  render() {\r\n    const { onClose, children, ...rest } = this.props;\r\n\r\n    return (\r\n      <Root {...rest}>\r\n        <CloseButton onClick={onClose}><CloseButtonIcon/></CloseButton>\r\n        <Items>\r\n          {children}\r\n        </Items>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nconst Root = styled.div`\r\n  display: none;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1000;\r\n  background-color: #F5633A;\r\n  transition: opacity 0.2s;\r\n  padding: 0 20px 0 20px;\r\n  opacity: ${props => props.open ? 1 : 0};\r\n  pointer-events: ${props => props.open ? 'default' : 'none'};\r\n\r\n  @media ${breakpoints.small} {\r\n    display: flex;\r\n  }\r\n`;\r\n\r\nconst Items = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  \r\n  >* {\r\n    display: block;\r\n    text-align: left;\r\n    width: 100%;\r\n    color: white;\r\n    font-family: \"Open Sans\";\r\n    font-size: 18px;\r\n    line-height: 24px;\r\n    padding: 0 20px 12px 20px;\r\n    border-bottom: 1px solid rgba(0,0,0,0.1);\r\n  }\r\n\r\n  >* + * {\r\n    margin-top: 10px;\r\n  }\r\n`;\r\n\r\nconst CloseButton = styled(Button)`\r\n  align-self: flex-end;\r\n  margin: 12px -8px 24px;\r\n`;\r\n\r\nconst CloseButtonIcon = styled(Icons.WhiteCircleX)`\r\n  width: 22px;\r\n  height: 22px;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport DropdownMenu from './DropdownMenu';\r\nimport Section from './Section';\r\nimport Button from './Button';\r\nimport MobileMenu from './MobileMenu';\r\nimport * as Icons from './Icons';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass NavigationBar extends Component {\r\n  static desktopHeight = 100;\r\n  static mobileHeight = 150;\r\n  @observable mobileMenuOpen = false;\r\n\r\n  handleLogoutClick = () => this.props.store.logout();\r\n\r\n  @action.bound toggleMobileMenu() {\r\n    this.mobileMenuOpen = !this.mobileMenuOpen;\r\n  }\r\n\r\n  render() {\r\n    const { store, match } = this.props;\r\n    const { user } = store;\r\n    const { admin } = user;\r\n    const { path } = match;\r\n    const { mobileMenuOpen } = this;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <MobileMenu open={mobileMenuOpen} onClose={this.toggleMobileMenu}>\r\n          {admin && <Link to=\"/SchoolSettings\">School Settings</Link>}\r\n          {admin && <Link to=\"/AddYear\">Add a Year</Link>}\r\n          {admin && <Link to=\"/Users\">Manage Users</Link>}\r\n          <Link to=\"/ImportData\">Import Data</Link>\r\n          <Link to=\"/EditProfile\">Edit Profile</Link>\r\n          <Link to=\"/About\">About</Link>\r\n          <Button onClick={this.handleLogoutClick}>Logout</Button>\r\n        </MobileMenu>\r\n        <Root>\r\n          <Content>\r\n            <MobileMenuButton onClick={this.toggleMobileMenu}>\r\n              <MobileMenuIcon/>\r\n            </MobileMenuButton>\r\n\r\n            <HomeLink>\r\n              <Logo/>\r\n            </HomeLink>\r\n\r\n            <PageList>\r\n              <PageListItem>\r\n                <PageLink to=\"/Students\" className={path === '/:schoolYearId/students' ? 'active' : ''}>\r\n                  <PageLinkText>Students</PageLinkText>\r\n                  <StudentsIcon/>\r\n                </PageLink>\r\n              </PageListItem>\r\n              <PageListItem>\r\n                <PageLink to=\"/Reports/Individual\" className={path === '/Reports' ? 'active' : ''}>\r\n                  <PageLinkText>Reports</PageLinkText>\r\n                  <ReportsIcon/>\r\n                </PageLink>\r\n              </PageListItem>\r\n            </PageList>\r\n\r\n            <DesktopMenu header={\r\n              <MenuHeader>\r\n                Welcome {user && user.firstName} <DesktopMenuIcon/>\r\n              </MenuHeader>\r\n            }>\r\n              {admin && <MenuLinkItem to=\"/SchoolSettings\">School Settings</MenuLinkItem>}\r\n              {admin && <MenuLinkItem to=\"/AddYear\">Add a Year</MenuLinkItem>}\r\n              {admin && <MenuLinkItem to=\"/Users\">Manage Users</MenuLinkItem>}\r\n              <MenuLinkItem to=\"/ImportData\">Import Data</MenuLinkItem>\r\n              <MenuLinkItem to=\"/EditProfile\">Edit Profile</MenuLinkItem>\r\n              <MenuLinkItem to=\"/About\">About</MenuLinkItem>\r\n              <LogoutMenuItem onClick={this.handleLogoutClick}>Logout</LogoutMenuItem>\r\n            </DesktopMenu>\r\n          </Content>\r\n        </Root>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavigationBar;\r\n\r\nconst Root = styled(Section)`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  height: ${NavigationBar.desktopHeight}px;\r\n  background-color: white;\r\n  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12);\r\n  z-index: 100;\r\n\r\n  @media ${breakpoints.small} {\r\n    height: ${NavigationBar.mobileHeight}px;\r\n    padding: 0;\r\n  }\r\n`;\r\n\r\nconst Content = styled(Section.Content)`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  \r\n  @media ${breakpoints.small} {\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nconst Logo = styled.img.attrs({\r\n  src: require('../assets/logo.png')\r\n})`\r\n  width: 225px;\r\n  max-width: 100%;\r\n`;\r\n\r\nconst HomeLink = styled(Link).attrs({\r\n  to: '/'\r\n})`\r\n  margin-right: 100px;\r\n\r\n  @media ${breakpoints.small} {\r\n    margin-right: 0;\r\n    margin-top: 10px;\r\n  }\r\n`;\r\n\r\nconst PageList = styled.ul`\r\n  list-style: none;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  height: 100%;\r\n  padding: 0;\r\n  margin: 0;\r\n  flex: 1;\r\n\r\n  @media ${breakpoints.small} {\r\n    width: 100%;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nconst PageListItem = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  height: 100%;\r\n  & + & {\r\n    margin-left: 28px;\r\n  }\r\n  @media ${breakpoints.small} {\r\n    flex: 1 1 100%;\r\n\r\n    &:first-child > a {\r\n      align-items: flex-end; \r\n    }\r\n\r\n    &:first-child img {\r\n      margin-right: 30px;\r\n    }\r\n\r\n    &:last-child > a {\r\n      align-items: flex-start;\r\n    }\r\n\r\n    &:last-child  img {\r\n      margin-left: 30px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst PageLink = styled(Link)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  height: 100%;\r\n  border-bottom: 5px solid transparent;\r\n\r\n  &.active {\r\n    border-bottom: 5px solid #F5633A;\r\n    > span {\t\r\n      color: black;\t\r\n    }\r\n  }\r\n\r\n  @media ${breakpoints.small} {\r\n    border-bottom: 2px solid transparent;\r\n    &.active {\r\n      border-bottom: 2px solid #F5633A;\r\n    }\r\n  }\r\n`;\r\n\r\nconst PageLinkText = styled.span`\r\n\theight: 19px;\r\n\twidth: 58px;\r\n\tcolor: #4A4A4A;\r\n\tfont-family: \"Open Sans\";\r\n\tfont-size: 14px;\r\n  line-height: 19px;\r\n  margin-bottom: 15px;\r\n  width: 100%;\r\n  text-align: center;\r\n\r\n  @media ${breakpoints.small} {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst StudentsIcon = styled.img.attrs({\r\n  src: require('../assets/students_icon.png')\r\n})`\r\n  width: 41px;\r\n  height: 28px;\r\n`;\r\n\r\nconst ReportsIcon = styled.img.attrs({\r\n  src: require('../assets/reports_icon.png')\r\n})`\r\n  width: 41px;\r\n  height: 28px;\r\n`;\r\n\r\nconst DesktopMenuIcon = styled(Icons.Gear)`\r\n  position: relative;\r\n  top: 2px;\r\n  right: 2px;\r\n  width: 16px;\r\n  height: 16px;\r\n  margin-left: 32px;\r\n`;\r\n\r\nconst MenuHeader = styled.div`\r\n  cursor: pointer;\r\n  font-style: italic;\r\n  color: #A20B0E;\r\n`;\r\n\r\nconst MenuLinkItem = DropdownMenu.Item.withComponent(Link);\r\n\r\nconst LogoutMenuItem = DropdownMenu.Item;\r\n\r\nconst DesktopMenu = styled(DropdownMenu)`\r\n  @media ${breakpoints.small} {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst MobileMenuIcon = styled(Icons.Gear)`\r\n  width: 16px;\r\n  height: 16px;\r\n`;\r\n\r\nconst MobileMenuButton = styled(Button)`\r\n  display: none;\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 20px;\r\n\r\n  @media ${breakpoints.small} {\r\n    display: block;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport NavigationBar from './NavigationBar';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\nexport default function Screen(props) {\r\n  return (\r\n    <Root>\r\n      <NavigationBar/>\r\n      <Content {...props}/>\r\n    </Root>\r\n  )\r\n}\r\n\r\nconst Root = styled.div`\r\n  height: 100%;\r\n  overflow: hidden;\r\n  padding-top: ${NavigationBar.desktopHeight}px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  @media ${breakpoints.small} {\r\n    padding-top: ${NavigationBar.mobileHeight}px;\r\n  }\r\n`;\r\n\r\nconst Content = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n`;","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n","import React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nconst Task = observer(props => {\r\n  const { state, task, children, provideKey='state' } = props;\r\n  if(task && task.state === state) {\r\n    if(typeof children === 'function') return children(task[provideKey]);\r\n    return children;\r\n  } else {\r\n    return null;\r\n  }\r\n});\r\n\r\nexport const Pending = props => (<Task {...props} state=\"pending\"/>);\r\nexport const Resolved = props => (<Task {...props} state=\"resolved\" provideKey=\"result\"/>);\r\nexport const Rejected = props => (<Task {...props} state=\"rejected\" provideKey=\"error\"/>);\r\nexport default Task;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport default class Modal extends Component {\r\n  handleClick = event => {\r\n    const { onOverlayClick } = this.props;\r\n    if(onOverlayClick && event.target === event.currentTarget) onOverlayClick(event);\r\n  };\r\n\r\n  render() {\r\n    const { open, renderOnOverlay, onOverlayClick, ...rest } = this.props;\r\n\r\n    return (\r\n      <Root open={open} onClick={this.handleClick}>\r\n        {renderOnOverlay}\r\n        <Window {...rest}/>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nconst Root = styled.div`\r\n  opacity: ${props => props.open ? 1 : 0};\r\n  pointer-events: ${props => props.open ? 'default' : 'none'};\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 100%;\r\n  overflow: auto;\r\n  z-index: 100;\r\n  transition: opacity 0.2s;\r\n  background-color: rgba(0,0,0,0.5);\r\n`;\r\n\r\nconst Window = styled.div`\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 10%;\r\n  transform: translate(-50%, 0);\r\n  max-height: 80%;\r\n  overflow: auto;\r\n  background-color: white;\r\n  margin-bottom: 20px;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport styled from 'styled-components';\r\nimport ReactList from 'react-list';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n@withRouter\r\n@observer\r\nclass StudentList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.renderItem = this.renderItem.bind(this);\r\n  }\r\n\r\n  renderItem(index) {\r\n    const { renderItem, students } = this.props;\r\n    if(renderItem) return renderItem(students[index], index);\r\n  }\r\n\r\n  render() {\r\n    const { innerRef, itemSizeGetter, listType='uniform' } = this.props;\r\n    return (\r\n      <Root>\r\n        <ReactList\r\n          ref={innerRef}\r\n          itemRenderer={this.renderItem}\r\n          itemSizeGetter={itemSizeGetter}\r\n          length={this.props.students.length}\r\n          type={listType}\r\n        />\r\n      </Root>\r\n    );\r\n  }\r\n};\r\nexport default StudentList;\r\n\r\nconst Root = styled.div`\r\n  flex: 1;\r\n  overflow: auto;\r\n  background-color: white;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nconst riskColors = {\r\n  'No Data': '#AAA',\r\n  low: '#7AC732',\r\n  medium: '#F8D551',\r\n  high: '#F3A536',\r\n  ultra: '#D43425',\r\n};\r\n\r\nconst activeStyle = {\r\n  backgroundColor: '#F2F2F2'\r\n};\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass StudentListItem extends Component {\r\n  @action.bound handleClick(event) {\r\n    const { student, onClick } = this.props;\r\n    if(onClick) onClick(student, event);\r\n  }\r\n\r\n  render() {\r\n    const { location, component, student, children, left, hideRisk } = this.props;\r\n    const active = student.locationMatches(location);\r\n    const RootComponent = component ? Root.withComponent(component) : Root;\r\n    const riskLevel = student.risk;\r\n    const riskColor = riskLevel && riskColors[riskLevel];\r\n\r\n    return (\r\n      <RootComponent {...this.props} component={null} onClick={null} style={active ? activeStyle : null}>\r\n        {!hideRisk && riskColor && <RiskIcon color={riskColor}/>}\r\n        <Left>\r\n          {left}\r\n        </Left>\r\n        <StudentText onClick={this.handleClick}>\r\n          <StudentName>{student.fullName}</StudentName>\r\n          <StudentInfo>{student.description}</StudentInfo>\r\n        </StudentText>\r\n        {children}\r\n      </RootComponent>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StudentListItem;\r\n\r\nconst Root = styled.li`\r\n  position: relative;\r\n  min-height: 70px;\r\n  padding: 0 20px 0 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  background-color: white;\r\n\r\n  &:not(:first-child) {\r\n    border-top: 1px solid #D43425;\r\n  }\r\n\r\n  &:last-child {\r\n    border-bottom: 1px solid #D43425;\r\n  }\r\n\r\n  &:first-child {\r\n    border-top: 0px solid white;\r\n  }\r\n`;\r\n\r\nconst StudentText = styled.div`\r\n  margin-top: 10px;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-self: stretch;\r\n  text-decoration: none;\r\n`;\r\n\r\nconst StudentName = styled.div`\r\n  font-weight: bold;\r\n  color: #4A4A4A;\r\n  font-size: 16px;\r\n`;\r\n\r\nconst StudentInfo = styled.div`\r\n\tcolor: #9B9B9B;\r\n  font-size: 12px;\r\n  margin-top: 5px;\r\n`;\r\n\r\nconst Left = styled.div`\r\n  min-width: 60px;\r\n`;\r\n\r\nconst RiskIcon = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 60px;\r\n  width: 0; \r\n  height: 0; \r\n  border-left: 12.5px solid transparent;\r\n  border-right: 12.5px solid transparent;\r\n  border-top: 12.5px solid #f00;\r\n  border-top-color: ${props => props.color};\r\n  transform: scale(1, 0.8);\r\n  transform-origin: top;\r\n`;\r\n","const months = [\r\n  'January',\r\n  'February',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\nexport default function getMonthName(date) {\r\n  return months[date.getMonth()];\r\n}\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { observable, action } from 'mobx';\r\nimport { Link } from 'react-router-dom';\r\nimport { enums } from 'tgb-shared';\r\nimport Screen from '../components/Screen';\r\nimport Row from '../components/Row';\r\nimport Column from '../components/Column';\r\nimport { Resolved, Rejected, Pending } from '../components/Task';\r\nimport Modal from '../components/Modal';\r\nimport StudentList from '../components/StudentList';\r\nimport StudentListItem from '../components/StudentListItem';\r\nimport getMonthName from '../utils/getMonthName';\r\nimport Spinner from '../components/Spinner';\r\nimport Button from '../components/Button';\r\nimport * as Icons from '../components/Icons';\r\nimport * as breakpoints from '../breakpoints';\r\nimport { fadeIn } from '../animations';\r\n\r\nconst riskColors = {\r\n  'No Data': '#AAA',\r\n  low: '#9BD55D',\r\n  medium: '#F9E33D',\r\n  high: '#FCA92A',\r\n  ultra: '#CE2D22',\r\n};\r\n\r\n@inject('store')\r\n@observer\r\nclass Dashboard extends Component {\r\n  @observable loadTask;\r\n  @observable openedStudentList = null;\r\n\r\n  @action.bound handleOpenStudentList(students) {\r\n    if(students.length) this.openedStudentList = students;\r\n  }\r\n\r\n  @action.bound handleCloseStudentList() {\r\n    this.openedStudentList = null;\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.loadTask = this.props.store.fetchDashboardData();\r\n  }\r\n\r\n  renderPending = () => (\r\n    <SpinnerContainer>\r\n      <Spinner/>\r\n    </SpinnerContainer>\r\n  );\r\n\r\n  renderRejected = error => {\r\n    return (\r\n      <Content>\r\n        {error.message}\r\n      </Content>\r\n    );\r\n  };\r\n\r\n  renderResolved = data => {\r\n    const {\r\n      studentCount,\r\n      studentGradeGroups,\r\n      studentRiskGroups,\r\n      offTrackStudents,\r\n      chronicAbsentStudents,\r\n      activityGroups,\r\n      interventionGroups,\r\n      raceGroups,\r\n    } = data;\r\n\r\n    const now = new Date();\r\n\r\n    return (\r\n      <Content>\r\n        <Title>Current Statistics</Title>\r\n        <Subtitle>{formateDate(now)}</Subtitle>\r\n\r\n        <RowTitle>Total students</RowTitle>\r\n        <GradeCountRow>\r\n          {studentGradeGroups.map(({ gradeLevel, students }) =>\r\n            <GradeCountColumn\r\n              key={gradeLevel} \r\n              onClick={students.length\r\n                ? this.handleOpenStudentList.bind(null, students)\r\n                : null\r\n              }\r\n            >\r\n              <GradeName>{formatGradeName(gradeLevel)}</GradeName>\r\n              <GradeCount>{students.length}</GradeCount>\r\n            </GradeCountColumn>\r\n          )}\r\n          <TotalCountColumn>\r\n            <TotalCountLabel>TOTAL</TotalCountLabel>\r\n            <TotalCount>{studentCount}</TotalCount>\r\n          </TotalCountColumn>\r\n        </GradeCountRow>\r\n\r\n        <RowTitle>Number of students receiving activities support</RowTitle>\r\n        <ActivitiesRow>\r\n          {activityGroups.map(activityGroup => \r\n            <CircleBox \r\n              key={activityGroup.id}\r\n              onClick={activityGroup.students.length \r\n                ? this.handleOpenStudentList.bind(null, activityGroup.students)\r\n                : null\r\n              }\r\n            >\r\n              {activityGroup.name}\r\n              <Circle>\r\n                <h1>{activityGroup.students.length}</h1>\r\n              </Circle>\r\n            </CircleBox>\r\n          )}\r\n        </ActivitiesRow>\r\n\r\n        <RowTitle>Distribution of students across risk categories</RowTitle>\r\n        <RiskRow>\r\n          {studentRiskGroups.map(({ risk, students }) =>\r\n            <RiskColumn\r\n              key={risk}\r\n              onClick={students.length\r\n                ? this.handleOpenStudentList.bind(null, students)\r\n                : null\r\n              }\r\n            >\r\n              <RiskColumnContent>\r\n                <RiskTriangle color={riskColors[risk]}/>\r\n                <RiskCount>{students.length}</RiskCount>\r\n                <RiskPercent>{formatPercent(students.length, studentCount)}</RiskPercent>\r\n              </RiskColumnContent>\r\n              <RiskName>{risk}</RiskName>\r\n            </RiskColumn>\r\n          )}\r\n          <RiskColumn \r\n            onClick={offTrackStudents.length\r\n              ? this.handleOpenStudentList.bind(null, offTrackStudents) \r\n              : null\r\n            }\r\n          >\r\n            <RiskColumnContent>\r\n              <RiskCount>{offTrackStudents.length}</RiskCount>\r\n              <RiskPercent>{formatPercent(offTrackStudents.length, studentCount)}</RiskPercent>\r\n            </RiskColumnContent>\r\n            <RiskName>off-track to graduate<br/>on time</RiskName>\r\n          </RiskColumn>\r\n          <RiskColumn\r\n            onClick={chronicAbsentStudents.length\r\n              ? this.handleOpenStudentList.bind(null, chronicAbsentStudents) \r\n              : null\r\n            }\r\n          >\r\n            <RiskColumnContent>\r\n              <RiskCount>{chronicAbsentStudents.length}</RiskCount>\r\n              <RiskPercent>{formatPercent(chronicAbsentStudents.length, studentCount)}</RiskPercent>\r\n            </RiskColumnContent>\r\n            <RiskName>chronically absent<br/>(absent 10% or more)</RiskName>\r\n          </RiskColumn>\r\n        </RiskRow>\r\n        \r\n        <RowTitle>Students who need intervention / supports in</RowTitle>\r\n        <InterventionsRow>\r\n          {interventionGroups.map(({ name, students }) =>\r\n            <CircleBox\r\n              key={name}\r\n              onClick={students.length\r\n                ? this.handleOpenStudentList.bind(null, students)\r\n                : null\r\n              }\r\n            >\r\n              {name}\r\n              <Circle color=\"#A20B0E\">\r\n                <h1>{students.length}</h1>\r\n                <h2>{formatPercent(students.length, studentCount)}</h2>\r\n              </Circle>\r\n            </CircleBox>\r\n          )}\r\n        </InterventionsRow>\r\n\r\n        <RowTitle>Total number of students by race</RowTitle>\r\n        <RaceRow>\r\n          {raceGroups.map(({ race, students }, i) =>\r\n            <RaceColumn key={race}\r\n              onClick={students.length \r\n                ? this.handleOpenStudentList.bind(null, students)\r\n                : null\r\n              }\r\n            >\r\n              <RaceBox index={i}>\r\n                <RaceCode>{race}</RaceCode>\r\n                <RaceCount>{students.length}</RaceCount>\r\n              </RaceBox>\r\n              <RaceLabel>{race === 'N/A' ? race : enums.raceLabels[race]}</RaceLabel>\r\n            </RaceColumn>\r\n          )}\r\n        </RaceRow>\r\n      </Content>\r\n    );\r\n  };\r\n\r\n  renderStudentListItem = student => (\r\n    <StudentListItem\r\n      component={Link}\r\n      key={student.id}\r\n      student={student}\r\n      to={student.getViewRoute(this.props.store.currentSchoolYear)}\r\n    />\r\n  );\r\n\r\n  render() {\r\n    const { loadTask, openedStudentList } = this;\r\n\r\n    return (\r\n      <Root>\r\n        <StudentModal\r\n          open={openedStudentList}\r\n          onOverlayClick={this.handleCloseStudentList}\r\n          renderOnOverlay={\r\n            <StudentModalClosebutton onClick={this.handleCloseStudentList}><CloseButtonIcon/></StudentModalClosebutton>\r\n          }\r\n        >\r\n          {openedStudentList &&\r\n            <StudentList\r\n              students={openedStudentList}\r\n              renderItem={this.renderStudentListItem}\r\n            />\r\n          }\r\n        </StudentModal>\r\n        {!loadTask ? this.renderPending() : null}\r\n        <Pending task={loadTask}>{this.renderPending}</Pending>\r\n        <Resolved task={loadTask}>{this.renderResolved}</Resolved>\r\n        <Rejected task={loadTask}>{this.renderRejected}</Rejected>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nfunction formatGradeName(gradeName) {\r\n  if(gradeName.startsWith('age')) return gradeName.replace('age ', 'AGE');\r\n  return 'GR' + gradeName;\r\n}\r\n\r\nfunction formatPercent(count, total) {\r\n  return Math.floor(100 * count / total) + '%';\r\n}\r\n\r\nfunction formateDate(date) {\r\n  return `${getMonthName(date)} ${date.getDate()}, ${date.getFullYear()}`;\r\n}\r\n\r\nexport default Dashboard;\r\n\r\nconst Root = styled(Screen)``;\r\n\r\nconst Content = styled.div`\r\n  width: 100%;\r\n  overflow: auto;\r\n  padding-bottom: 100px;\r\n  animation: ${fadeIn} 0.25s linear;\r\n  animation-fill-mode: forward;\r\n`;\r\n\r\nconst SpinnerContainer = styled(Content)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst StudentModal = styled(Modal)`\r\n  min-width: 400px;\r\n  max-width: 100%;\r\n  min-height: 400px;\r\n`;\r\n\r\nconst StudentModalClosebutton = styled(Button)`\r\n  position: absolute;\r\n  right: 50px;\r\n  top: 50px;\r\n  background-color: transparent;\r\n  @media ${breakpoints.small} {\r\n    right: 50px;\r\n    top: 20px;\r\n  }\r\n`;\r\n\r\nconst CloseButtonIcon = styled(Icons.WhiteCircleX)`\r\n  width: 22px;\r\n  height: 22px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n\tcolor: #4A4A4A;\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n  text-align: center;\r\n  margin: 17px 0 0 0;\r\n`;\r\n\r\nconst Subtitle = styled.h2`\r\n\tcolor: #4A4A4A;\r\n\tfont-size: 14px;\r\n\ttext-align: center;\r\n`;\r\n\r\nconst CenterRow = styled(Row)`\r\n  max-width: 100%;\r\n  width: 940px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst RowTitle = styled(CenterRow)`\r\n\tcolor: #4A4A4A;\r\n\tfont-size: 16px;\r\n  font-weight: bold;\r\n  margin-bottom: 12px;\r\n  margin-top: 100px;\r\n`;\r\n\r\nconst GradeCountRow = styled(CenterRow)`\r\n  min-height: 114px;\r\n  align-items: stretch;\r\n\r\n  @media ${breakpoints.small} {\r\n    flex-wrap: wrap;\r\n  }\r\n`;\r\n\r\nconst GradeCountColumn = styled(Column)`\r\n  background-color: #E3E3E4;\r\n  flex: 1 1 100%;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: ${props => props.onClick ? 'pointer' : 'default'};\r\n  max-width: 33%;\r\n  &:nth-child(2n) {\r\n    background-color: #F2F2F2;\r\n  }\r\n\r\n  &:hover h3 {\r\n    transition: color 0.2s;\r\n    color: ${props => props.onClick ? '#af472a' : '#F5633A'};\r\n  }\r\n`;\r\n\r\nconst GradeName = styled.h2`\r\n  margin: 0;\r\n\tcolor: #A20B0E;\r\n\tfont-size: 16px;\r\n\tfont-weight: bold;\r\n`;\r\n\r\nconst GradeCount = styled.h3`\r\n  margin: 0;\r\n\tcolor: #F5633A;\r\n  font-size: 32px;\r\n`;\r\n\r\nconst TotalCountColumn = styled(Column)`\r\n  flex: 1 1 100%;\r\n  color: white;\r\n  background-color: #CE2D22;\r\n  width: 150px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  max-width: 33%;\r\n`;\r\n\r\nconst TotalCountLabel = styled.div`\r\n\tfont-size: 16px;\r\n\tfont-weight: bold;\r\n`;\r\n\r\nconst TotalCount = styled.div`\r\n\tfont-size: 32px;\r\n  font-weight: 300;\r\n`;\r\n\r\nconst RiskRow = styled(CenterRow)`\r\n  @media ${breakpoints.small} {\r\n    flex-wrap: wrap;\r\n  }\r\n`;\r\n\r\nconst RiskColumn = styled(Column)`\r\n  flex: 1 1 100%;\r\n  text-align: center;\r\n  cursor: ${props => props.onClick ? 'pointer' : 'default'};\r\n  * + & {\r\n    margin-left: 20px;\r\n  }\r\n\r\n  @media ${breakpoints.small} {\r\n    width: 33%;\r\n    margin-left: 0;\r\n\r\n    * + & {\r\n      margin-top: 20px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst RiskColumnContent = styled(Column)`\r\n  width: 100%;\r\n  position: relative;\r\n  background-color: #F2F2F2;\r\n  height: 114px;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst RiskCount = styled.div`\r\n\tcolor: #A20B0E;\r\n\tfont-size: 50px;\r\n`;\r\n\r\nconst RiskPercent = styled.div`\r\n\theight: 33px;\r\n\twidth: 48px;\r\n\tcolor: #D43425;\r\n\tfont-family: \"Open Sans\";\r\n\tfont-size: 24px;\r\n  line-height: 33px;\r\n  margin-top: -10px;\r\n`;\r\n\r\nconst RiskName = styled.div`\r\n  width: 100%;\r\n  color: #4A4A4A;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  margin-top: 8px;\r\n`;\r\n\r\nconst RiskTriangle = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%) scale(1.25, 0.9);\r\n  width: 0; \r\n  height: 0;\r\n  border-left: 20px solid transparent;\r\n  border-right: 20px solid transparent;\r\n  border-top: 20px solid ${props => props.color};\r\n`;\r\n\r\nconst ActivitiesRow = styled(CenterRow)`\r\n  @media ${breakpoints.small} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst circleWidth = 86;\r\nconst CircleBox = styled(Column)`\r\n  flex: 1 1 100%;\r\n  position: relative;\r\n  border: 3px solid #F5633A;\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: #4A4A4A;\r\n  font-size: 20px;\r\n  line-height: 20px;\r\n  min-height: 140px;\r\n  transition: border-color 0.2s;\r\n  margin-bottom: ${circleWidth * 0.4}px; // space for circle hanging over bottom\r\n  cursor: ${props => props.onClick ? 'pointer' : 'default'};\r\n  max-width: 20%;\r\n  * + & {\r\n    margin-left: 20px;\r\n  }\r\n\r\n  @media ${breakpoints.medium} {\r\n    padding: 10px;\r\n  }\r\n\r\n  @media ${breakpoints.small} {\r\n    margin-left: 0;\r\n    width: 100%;\r\n    max-width: none;\r\n  }\r\n`;\r\n\r\nconst Circle = styled(Column)`\r\n  width: ${circleWidth}px;\r\n  height: ${circleWidth}px;\r\n  background-color: ${props => props.color || '#D43425'};\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, 40%);\r\n  border-radius: 50%;\r\n  justify-content: center;\r\n  text-align: center;\r\n  \r\n  h1 {\r\n    color: white;\r\n    font-size: 32px;\r\n    margin: 0;\r\n  }\r\n\r\n  h2 {\r\n    margin: 8px 0 0 0;\r\n    color: #F5633A;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\nconst InterventionsRow = styled(CenterRow)`\r\n  height: 140px;\r\n\r\n  @media ${breakpoints.small} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst RaceRow = styled(CenterRow)`\r\n  min-height: 114px;\r\n`;\r\n\r\nconst RaceColumn = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n  flex: 1 1 100%;\r\n  cursor: ${props => props.onClick ? 'pointer' : 'default'};\r\n`;\r\n\r\nconst RaceBox = styled.div`\r\n  background-color: ${props => props.index % 2 ? '#F4F4F4' : '#E7E7E7'};\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 20px 0 20px;\r\n`;\r\n\r\nconst RaceCode = styled.div`\r\n\tcolor: #A20B0E;\r\n\tfont-size: 16px;\r\n\tfont-weight: bold;\r\n`;\r\n\r\nconst RaceCount = styled.div`\r\n\tcolor: #F5633A;\r\n  font-size: 32px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst RaceLabel = styled.div`\r\n  font-size: 16px;\r\n  margin-top: 10px;\r\n`;\r\n","export default function downloadString(string, type, filename='download') {\r\n  const a = document.createElement('a');\r\n  a.href = URL.createObjectURL(new Blob([string], {type}));\r\n  a.download = filename;\r\n  a.style.display = 'none';\r\n  a.style.position = 'absolute';\r\n\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport default function Select(props) {\r\n  const { \r\n    value,\r\n    onChange,\r\n    children,\r\n    placeholder,\r\n    inverted,\r\n    disabled,\r\n    canSelectPlaceholder,\r\n    Handle=DefaultHandle,\r\n    name,\r\n    ...rest\r\n  } = props;\r\n\r\n  return (\r\n    <Root {...rest} inverted={inverted}>\r\n      <Dropdown name={name} onChange={onChange} value={value || ''} disabled={disabled}>\r\n        {placeholder && <option value='' disabled={!canSelectPlaceholder}>{placeholder}</option>}\r\n        {children}\r\n      </Dropdown>\r\n      <HandleWrapper>\r\n        <Handle inverted={inverted}/>\r\n      </HandleWrapper>\r\n    </Root>\r\n  )\r\n}\r\n\r\nconst Root = styled.div`\r\n  position: relative;\r\n  height: 40px;\r\n  background-color: ${props => props.inverted ? '#4A4A4A' : 'white'};\r\n  color: ${props => props.inverted ? 'white' : '#4A4A4A'};\r\n  font-size: 16px;\r\n`;\r\n\r\nconst Dropdown = styled.select`\r\n  height: 100%;\r\n  width: 100%;\r\n  padding-left: 20px;\r\n  background-color: inherit;\r\n  font-family: 'Open sans';\r\n  border: 0;\r\n  outline: 0;\r\n  border-radius: 0;\r\n  color: inherit;\r\n  font-size: inherit;\r\n  outline: none;\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  &::-ms-expand { display: none; }\r\n\r\n  &:disabled {\r\n    background-color: #CCC;\r\n  }\r\n`;\r\n\r\nconst HandleWrapper = styled.div`\r\n  width: 19px;\r\n  height: 19px;\r\n  position: absolute;\r\n  right: 6px;\r\n  top: 0;\r\n  height: 100%;\r\n  pointer-events: none;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst DefaultHandle = styled.div`\r\n  background-image: ${props => props.inverted\r\n    ? `url(${require('../assets/select_icon_light.png')})`\r\n    : `url(${require('../assets/select_icon.png')})`\r\n  };\r\n  background-size: 100% 100%;\r\n  height: 19px;\r\n  width: 19px;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport default function RadioButton(props) {\r\n  const { name, checked, onChange, label, children, ...rest } = props;\r\n\r\n  return (\r\n    <Root {...rest} onClick={onChange}>\r\n      <Checkbox>\r\n        {checked && <Check/>}\r\n      </Checkbox>\r\n      <Input name={name} checked={checked} onChange={onChange}/>\r\n      <Label>{label || children}</Label>\r\n    </Root>\r\n  );\r\n}\r\n\r\nconst Root = styled.div`\r\n  display: inline-flex;\r\n  flex-direction: row;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Input = styled.input.attrs({type: 'radio'})`\r\n  display: none;\r\n`;\r\n\r\nconst Label = styled.label`\r\n\tcolor: #555555;\r\n\tfont-family: \"Open Sans\";\r\n\tfont-size: 12px;\r\n  line-height: 17px;\r\n  margin-left: 7px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Checkbox = styled.div`\r\n  display: inline-block;\r\n  min-width: 23px;\r\n  height: 23px;\r\n  border-radius: 50%;\r\n  border: 2px solid #4A4A4A;\r\n  margin-right: 7px;\r\n  padding: 3px;\r\n`;\r\n\r\nconst Check = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n  background-color: #D43425;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport default function CheckboxButton(props) {\r\n  const { children, checked, onChange, name, label, disabled, checkboxColor, labelColor, ...rest } = props;\r\n  const _onChange = disabled ? null : onChange;\r\n\r\n  return (\r\n    <Root {...rest} onClick={_onChange} disabled={disabled}>\r\n      <Checkbox color={checkboxColor}>\r\n        {checked && <Check/>}\r\n      </Checkbox>\r\n      <Input checked={checked} onChange={_onChange} name={name} disabled={disabled}/>\r\n      <Label color={labelColor}>{label || children}</Label>\r\n    </Root>\r\n  );\r\n}\r\n\r\nconst Root = styled.div`\r\n  display: inline-flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  cursor: ${props => props.disabled ? 'default' : 'pointer'};\r\n  opacity: ${props => props.disabled ? 0.6 : 1};\r\n`;\r\n\r\nconst Input = styled.input.attrs({type: 'checkbox'})`\r\n  display: none;\r\n`;\r\n\r\nconst Label = styled.label`\r\n\tcolor: ${props => props.color || '#555555'};\r\n\tfont-family: \"Open Sans\";\r\n\tfont-size: 14px;\r\n  line-height: 17px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  font-weight: 200;\r\n`;\r\n\r\nconst Checkbox = styled.div`\r\n  position: relative;\r\n  display: inline-block;\r\n  min-width: 14px;\r\n  height: 14px;\r\n  border: 2px solid ${props => props.color || '#4A4A4A'};\r\n  margin-right: 10px;\r\n  top: 2px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst Check = styled.div.attrs({\r\n  children: () => '\\u00D7' // ×\r\n})`font-weight: 900`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { startCase } from 'lodash';\r\n\r\nconst betterDescriptions = {\r\n  'should be string': 'is required',\r\n  'should be boolean': 'is required',\r\n  'should be integer': 'is required',\r\n  'should be equal to one of the allowed values': 'is required',\r\n};\r\n\r\nfunction formatErrorMessage(message) {\r\n  if(!message) return 'Unknown error.';\r\n  if(betterDescriptions[message]) return betterDescriptions[message];\r\n  if(/should have required property/.test(message)) return 'is required';\r\n  return message;\r\n}\r\n\r\n// Just a message\r\nfunction SimpleError(props) {\r\n  const { message, ...rest } = props;\r\n  return (<Root {...rest}>{message}</Root>)\r\n}\r\n\r\n// Multiple errors by field\r\nfunction DataError(props) {\r\n  const { data, keyNames, ...rest }  = props;\r\n  return (\r\n    <Root {...rest}>\r\n      <ErrorList>\r\n        {Object.entries(data).map(([field, errors]) => {\r\n          const message = errors[0].message;\r\n          const formName = keyNames[field] || startCase(field);\r\n          return (\r\n            <ErrorListItem key={field}>\r\n              <b>{formName}</b> {formatErrorMessage(message)}\r\n            </ErrorListItem>\r\n          );\r\n        })}\r\n      </ErrorList>\r\n    </Root>\r\n  );\r\n}\r\n\r\nexport default function FormError(props) {\r\n  const { error, keyNames={}, ...rest } = props;\r\n\r\n  if(!error.response) {\r\n    return (<SimpleError message={error.message} {...rest}/>);\r\n  }\r\n\r\n  if(error.response.data.error && error.response.data.error.data) {\r\n    return (<DataError data={error.response.data.error.data} keyNames={keyNames} {...rest}/>);\r\n  } else if (error.response && error.response.data && error.response.data.error) {\r\n    return (<SimpleError message={error.response.data.error.message} {...rest}/>);\r\n  } else {\r\n    return (<SimpleError message={error.message} {...rest}/>)\r\n  }\r\n}\r\n\r\nconst Root = styled.div`\r\n  background-color: #FECCCD;\r\n  border: 1px solid #AD2D2F;\r\n  border-radius: 3px;\r\n  padding: 20px;\r\n`;\r\n\r\nconst ErrorList = styled.ul`\r\n  margin: 0;\r\n  padding-left: 20px;\r\n  list-style: none;\r\n`;\r\n\r\nconst ErrorListItem = styled.li``;\r\n","import styled from 'styled-components';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  & + & {\r\n    margin-top: 12px;\r\n  }\r\n\r\n  @media ${breakpoints.small} {\r\n    flex-direction: column;\r\n\r\n    >div {\r\n      width: 100%;\r\n    }\r\n\r\n    >div + div {\r\n      margin-left: 0;\r\n    }\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n\r\n  & + & {\r\n    margin-left: 20px;\r\n  }\r\n\r\n  @media ${breakpoints.small} {\r\n    width: 100%;\r\n\r\n    & + & {\r\n      margin-left: 0;\r\n      margin-top: 12px;\r\n    }\r\n  }\r\n`;\r\n","import { enums } from 'tgb-shared';\r\n\r\nexport default enums;\r\n","import React from 'react';\r\nimport Select from './Select';\r\nimport enums from '../enums';\r\n\r\nexport default function EnumSelect(props) {\r\n  const { name, inputName, format, ...rest } = props;\r\n  const values = enums[name];\r\n\r\n  return (\r\n    <Select {...rest} name={inputName}>\r\n      {values.map(value =>\r\n        <option key={value} value={value}>{format ? format(value) : value}</option>\r\n      )}\r\n    </Select>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from './Button';\r\nimport { RedCircleX } from './Icons';\r\n\r\n\r\nexport default function XButton(props) {\r\n  const { component, ...rest } = props;\r\n  const Component = component || Button;\r\n  return (<Component {...rest}><Icon/></Component>);\r\n}\r\n\r\nconst Icon = styled(RedCircleX).attrs({alt: 'Close'})`\r\n  width: 22px;\r\n  height: 22px;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { chunk, capitalize } from 'lodash';\r\nimport styled from 'styled-components';\r\nimport swal from 'sweetalert2';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport Button from './Button';\r\nimport RadioButton from './RadioButton';\r\nimport Checkbox from './Checkbox';\r\nimport { Rejected } from './Task';\r\nimport FormError from './FormError';\r\nimport FormRow from './FormRow';\r\nimport FormColumn from './FormColumn';\r\nimport EnumSelect from './EnumSelect';\r\nimport XButton from './XButton';\r\nimport Input from './Input';\r\nimport SpinnerOverlay from './SpinnerOverlay';\r\nimport enums from '../enums';\r\n\r\nconst formatRaceLabel = race => enums.raceLabels[race];\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass EditStudentForm extends Component {\r\n  @observable studentToEdit = null;\r\n  @observable firstName = '';\r\n  @observable lastName = '';\r\n  @observable birthday = '';\r\n  @observable studentId = '';\r\n  @observable gender = '';\r\n  @observable race = '';\r\n  @observable ell = null;\r\n  @observable gradeLevel = '';\r\n  @observable postSchoolOutcome = null;\r\n  @observable postSchoolOutcomeOther = null;\r\n  @observable exitCategory = null;\r\n  @observable selectedDisabilities = [];\r\n  @observable fetchDisabilitiesTask = null;\r\n  @observable submitTask = null;\r\n\r\n  @computed get fields() {\r\n    const {\r\n      firstName,\r\n      lastName,\r\n      birthday,\r\n      studentId,\r\n      gender,\r\n      race,\r\n      ell,\r\n      gradeLevel,\r\n      postSchoolOutcome,\r\n      postSchoolOutcomeOther,\r\n      exitCategory,\r\n      selectedDisabilities,\r\n    } = this;\r\n\r\n    return {\r\n      firstName,\r\n      lastName,\r\n      studentId,\r\n      gender,\r\n      race,\r\n      ell,\r\n      gradeLevel,\r\n      exitCategory,\r\n      postSchoolOutcome: postSchoolOutcome === 'Other'\r\n        ? (postSchoolOutcomeOther || '')\r\n        : postSchoolOutcome,\r\n      birthday: new Date(birthday),\r\n      disabilities: selectedDisabilities,\r\n    };\r\n  }\r\n\r\n  @action.bound handleFirstNameChange(event) {\r\n    this.firstName = event.target.value;\r\n  }\r\n\r\n  @action.bound handleLastNameChange(event) {\r\n    this.lastName = event.target.value;\r\n  }\r\n\r\n  @action.bound handleStudentIdChange(event) {\r\n    this.studentId = event.target.value;\r\n  }\r\n\r\n  @action.bound handleBirthdayChange(event) {\r\n    this.birthday = event.target.value;\r\n  }\r\n\r\n  @action.bound handleGenderChange(gender) {\r\n    this.gender = gender;\r\n  }\r\n\r\n  @action.bound handleRaceChange(event) {\r\n    this.race = event.target.value;\r\n  }\r\n\r\n  @action.bound handleEllChange(enabled) {\r\n    this.ell = enabled;\r\n  }\r\n\r\n  @action.bound handleGradeLevelChange(event) {\r\n    const gradeLevel = event.target.value;\r\n    this.gradeLevel = gradeLevel;\r\n    if(gradeLevel !== 'Post-school') {\r\n      this.exitCategory = null;\r\n      this.postSchoolOutcome = null;\r\n      this.postSchoolOutcomeOther = null;\r\n    }\r\n  }\r\n\r\n  @action.bound handlePostSchoolOutcomeChange(event) {\r\n    const outcome = event.target.value;\r\n    this.postSchoolOutcome = outcome;\r\n\r\n    if(outcome === 'Other') {\r\n      this.postSchoolOutcomeOther = '';\r\n    }\r\n  }\r\n\r\n  @action.bound handlePostSchoolOutcomeOtherChange(event) {\r\n    this.postSchoolOutcomeOther = event.target.value;\r\n  }\r\n\r\n  @action.bound handleExitCategoryChange(event) {\r\n    this.exitCategory = event.target.value;\r\n  }\r\n\r\n  @action.bound handleAddDisability(disabilityId) {\r\n    this.selectedDisabilities.push(disabilityId);\r\n  }\r\n\r\n  @action.bound handleRemoveDisability(disabilityId) {\r\n    this.selectedDisabilities.remove(disabilityId);\r\n  }\r\n\r\n  @action.bound async handleSubmit(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    const { studentToEdit, fields } = this;\r\n    const { schoolYear, store } = this.props;\r\n    let student;\r\n\r\n    if(studentToEdit) {\r\n      this.submitTask = store.updateStudent(studentToEdit, schoolYear, fields);\r\n      student = await this.submitTask;\r\n      if(this.submitTask.resolved) {\r\n        await swal(\r\n          'Success',\r\n          `Student ${student.fullName} updated`,\r\n          'success'\r\n        );\r\n      }\r\n    } else {\r\n      this.submitTask = store.createStudent(schoolYear, fields);\r\n      student = await this.submitTask;\r\n      if(this.submitTask.resolved) {\r\n        this.props.history.push(student.getEditRoute(schoolYear));\r\n        await swal(\r\n          'Success',\r\n          `Student ${student.fullName} created`,\r\n          'success'\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  @action.bound async handleDeleteClick(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    const { studentToEdit } = this;\r\n    const { schoolYear } = this.props;\r\n    const confirmResult = await swal({\r\n      title: 'Are you sure?',\r\n      text: `This will remove all ${schoolYear.year} data for ${studentToEdit.fullName}.`,\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes',\r\n      cancelButtonText: 'No'\r\n    });\r\n\r\n    if(!confirmResult.value) return;\r\n\r\n    const { store } = this.props;\r\n    if(studentToEdit) {\r\n      const removeTask = store.removeStudentFromSchoolYear(this.studentToEdit, schoolYear);\r\n      await removeTask;\r\n      if(removeTask.resolved) {\r\n        this.props.history.push('/Students');\r\n\r\n        await swal(\r\n          'Success',\r\n          `Student ${studentToEdit.fullName} removed`,\r\n          'success'\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  @action editExisting(student) {\r\n    const { postSchoolOutcome } = student;\r\n    this.studentToEdit = student;\r\n    this.firstName = student.firstName;\r\n    this.lastName = student.lastName;\r\n    this.birthday = student.birthdayDateString;\r\n    this.studentId = student.studentId;\r\n    this.gender = student.gender;\r\n    this.race = student.race || '';\r\n    this.ell = student.ell;\r\n    this.gradeLevel = student.gradeLevel;\r\n    this.exitCategory = student.exitCategory;\r\n    this.selectedDisabilities = student.disabilities.map(d => d.id);\r\n    if(enums.postSchoolOutcomes.includes(postSchoolOutcome)) {\r\n      this.postSchoolOutcome = postSchoolOutcome;\r\n    } else {\r\n      this.postSchoolOutcome = 'Other';\r\n      this.postSchoolOutcomeOther = postSchoolOutcome;\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this.props.student) {\r\n      this.editExisting(this.props.student);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { schoolYear } = this.props;\r\n    const {\r\n      studentToEdit,\r\n      firstName,\r\n      lastName,\r\n      birthday,\r\n      studentId,\r\n      gender,\r\n      race,\r\n      ell,\r\n      gradeLevel,\r\n      postSchoolOutcome,\r\n      postSchoolOutcomeOther,\r\n      exitCategory,\r\n      selectedDisabilities,\r\n      submitTask,\r\n    } = this;\r\n    const { disabilities } = this.props.store;\r\n    const disabilityRows = chunk(disabilities, 2);\r\n\r\n    const renderDisability = disability => {\r\n      const checked = selectedDisabilities.includes(disability.id);\r\n      return (\r\n        <DisabilityCheckbox\r\n          name={`disability__${disability.name}`}\r\n          checked={checked}\r\n          onChange={checked\r\n            ? this.handleRemoveDisability.bind(null, disability.id)\r\n            : this.handleAddDisability.bind(null, disability.id)\r\n          }\r\n          key={disability.id}\r\n          label={<div><b>{disability.name}</b> {disability.fullName}</div>}\r\n        />\r\n      );\r\n    };\r\n\r\n    return (\r\n      <Root>\r\n        <SpinnerOverlay open={submitTask && submitTask.pending}/>\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Header>\r\n            <Title>\r\n              {studentToEdit\r\n                ? 'EDIT STUDENT'\r\n                : 'ADD A NEW STUDENT'\r\n              }\r\n            </Title>\r\n            <XButton component={Link} to={`/${schoolYear.id}/students`}/>\r\n          </Header>\r\n\r\n          <Rejected task={submitTask}>\r\n            {() => <SubmitError error={submitTask.error}/>}\r\n          </Rejected>\r\n\r\n          <FormRow>\r\n            <FormColumn>\r\n              <InputLabel>Student First Name</InputLabel>\r\n              <Input name=\"firstName\" value={firstName} onChange={this.handleFirstNameChange}/>\r\n            </FormColumn>\r\n\r\n            <FormColumn>\r\n              <InputLabel>Student Last Name</InputLabel>\r\n              <Input name=\"lastName\" value={lastName} onChange={this.handleLastNameChange}/>\r\n            </FormColumn>\r\n          </FormRow>\r\n\r\n          <FormRow>\r\n            <FormColumn>\r\n              <InputLabel>Student ID</InputLabel>\r\n              <Input name=\"studentId\" value={studentId} onChange={this.handleStudentIdChange}/>\r\n            </FormColumn>\r\n\r\n            <FormColumn>\r\n              <InputLabel>Date of Birth</InputLabel>\r\n              <Input name=\"birthday\" type=\"date\" value={birthday} onChange={this.handleBirthdayChange}/>\r\n            </FormColumn>\r\n          </FormRow>\r\n        \r\n          <FormRow>\r\n            <FormColumn>\r\n              <InputLabel>Gender</InputLabel>\r\n              <RadioRow>\r\n                {enums.genders.map(g =>\r\n                  <RadioButton\r\n                    key={g}\r\n                    name={`gender__${g}`}\r\n                    label={capitalize(g)}\r\n                    onChange={this.handleGenderChange.bind(null, g)}\r\n                    checked={gender === g}\r\n                  />\r\n                )}\r\n              </RadioRow>\r\n            </FormColumn>\r\n\r\n            <FormColumn>\r\n              <InputLabel>ELL</InputLabel>\r\n              <RadioRow>\r\n                <RadioButton onChange={this.handleEllChange.bind(null, true)} checked={ell === true} name=\"ell__yes\" label=\"Yes\"/>\r\n                <RadioButton onChange={this.handleEllChange.bind(null, false)} checked={ell === false} name=\"ell__no\" label=\"No\"/>\r\n              </RadioRow>\r\n            </FormColumn>\r\n          </FormRow>\r\n\r\n          <FormRow>\r\n            <FormColumn>\r\n              <InputLabel>Race</InputLabel>\r\n              <RaceSelect onChange={this.handleRaceChange} value={race} format={formatRaceLabel}/>\r\n            </FormColumn>\r\n            <FormColumn>\r\n              <InputLabel>Grade</InputLabel>\r\n              <GradeSelect onChange={this.handleGradeLevelChange} value={gradeLevel}/>\r\n            </FormColumn>\r\n          </FormRow>\r\n\r\n          {gradeLevel === 'Post-school' &&\r\n            <FormRow>\r\n              <FormColumn>\r\n                <InputLabel>Exit Category</InputLabel>\r\n                <EnumSelect\r\n                  name=\"exitCategories\"\r\n                  placeholder=\"Exit Categories\"\r\n                  onChange={this.handleExitCategoryChange}\r\n                  value={exitCategory}\r\n                />\r\n              </FormColumn>\r\n              <FormColumn>\r\n                <InputLabel>Post School Outcome</InputLabel>\r\n                <EnumSelect\r\n                  name=\"postSchoolOutcomes\"\r\n                  placeholder=\"Post School Outcome\"\r\n                  onChange={this.handlePostSchoolOutcomeChange}\r\n                  value={postSchoolOutcome}\r\n                />\r\n              </FormColumn>\r\n              {postSchoolOutcome === 'Other' &&\r\n                <FormColumn>\r\n                  <InputLabel>&nbsp;{/* Non-breaking space for height */}</InputLabel>\r\n                  <Input\r\n                    placeholder=\"Post School Outcome\"\r\n                    onChange={this.handlePostSchoolOutcomeOtherChange}\r\n                    value={postSchoolOutcomeOther}\r\n                  />\r\n                </FormColumn>\r\n              }\r\n            </FormRow>\r\n          }\r\n\r\n          <DisabilitiesHeader>\r\n            <b>Disability Category</b> (select all that apply)\r\n          </DisabilitiesHeader>\r\n          <DisabilityCheckboxes>\r\n            {disabilityRows.map((disabilities, i) => \r\n              <DisabilityCheckboxRow key={i}>\r\n                {disabilities.map(renderDisability)}\r\n              </DisabilityCheckboxRow>\r\n            )}\r\n          </DisabilityCheckboxes>\r\n\r\n          <FormRow>\r\n            <FormColumn>\r\n              <SaveButton onClick={this.handleSubmit}>SAVE</SaveButton>\r\n            </FormColumn>\r\n            <FormColumn>\r\n              {studentToEdit &&\r\n                <RemoveButton onClick={this.handleDeleteClick}>DELETE</RemoveButton>\r\n              }\r\n            </FormColumn>\r\n          </FormRow>\r\n        </Form>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditStudentForm;\r\n\r\nconst Root = styled.div`\r\n  position: relative;\r\n  flex: 1;\r\n  padding: 33px 38px 33px 38px;\r\n  background-color: #F2F2F2;\r\n  overflow: auto;\r\n`;\r\n\r\nconst SubmitError = styled(FormError)`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n\tcolor: #D43425;\r\n  font-family: \"Oswald\";\r\n  font-weight: 200;\r\n\tfont-size: 16px;\r\n  line-height: 21px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  margin-bottom: 24px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  width: 100%;\r\n  max-width: 800px;\r\n`;\r\n\r\nconst InputLabel = styled.label`\r\n\tcolor: #555555;\r\n\tfont-family: \"Open Sans\";\r\n\tfont-size: 14px;\r\n\tfont-weight: bold;\r\n  line-height: 19px;\r\n  margin-bottom: 7px;\r\n`;\r\n\r\nconst RadioRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  height: 40px;\r\n\r\n  > div + div {\r\n    margin-left: 30px;\r\n  }\r\n`;\r\n\r\nconst GradeSelect = styled(EnumSelect).attrs({\r\n  name: 'grades',\r\n  inputName: 'gradeLevel',\r\n  placeholder: 'Select a grade',\r\n})``;\r\n\r\nconst RaceSelect = styled(EnumSelect).attrs({\r\n  name: 'races',\r\n  inputName: 'race',\r\n  placeholder: 'Select a race',\r\n})``;\r\n\r\nconst DisabilitiesHeader = styled.div`\r\n\tcolor: #555555;\r\n\tfont-family: \"Open Sans\";\r\n\tfont-size: 14px;\r\n  line-height: 19px;\r\n  margin: 24px 0 24px;\r\n`;\r\n\r\nconst DisabilityCheckboxes = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst DisabilityCheckboxRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  & + & {\r\n    margin-top: 20px;\r\n  }\r\n\r\n  > div + div {\r\n    margin-left: 50px;\r\n  }\r\n`;\r\n\r\nconst DisabilityCheckbox = styled(Checkbox)`\r\n  flex: 1 1 100%;\r\n  b {\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nconst SaveButton = styled(Button)`\r\n  color: white;\r\n  height: 50px;\r\n  background-color: #D43425;\r\n  width: 100%;\r\n  font-family: \"Oswald\";\r\n  font-size: 16px;\r\n  line-height: 21px;\r\n  font-weight: 200;\r\n`;\r\n\r\nconst RemoveButton = styled(Button)`\r\n  color: white;\r\n  height: 50px;\r\n  background-color: #4A4A4A;\r\n  width: 100%;\r\n  font-family: \"Oswald\";\r\n  font-size: 16px;\r\n  line-height: 21px;\r\n  font-weight: 200;\r\n`;\r\n","import React from 'react';\r\nimport EditStudentForm from './EditStudentForm';\r\n\r\nexport default function CreateStudentForm(props) {\r\n  return (<EditStudentForm {...props} student={null}/>);\r\n}","import styled from 'styled-components';\r\n\r\nexport default styled.ul`\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  flex: 1;\r\n  overflow: auto;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { identity } from 'lodash';\r\nimport { observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport List from './List';\r\nimport Button from './Button';\r\nimport * as Icons from './Icons';\r\nimport filterChildren from '../utils/filterChildren';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\n@observer\r\nclass ExpandableListItem extends Component {\r\n  @observable expanded = false;\r\n\r\n  @action.bound handleToggleExpanded() {\r\n    this.expanded = !this.expanded;\r\n  }\r\n\r\n  render() {\r\n    const { expanded } = this;\r\n    const { children, header, childHeight=60 } = this.props;\r\n    const childCount = filterChildren(children, identity).length;\r\n    const disabled = !childCount || this.props.disabled;\r\n\r\n    return (\r\n      <Root {...this.props}>\r\n        <Header>\r\n          <ExpandButton disabled={disabled} onClick={disabled ? undefined : this.handleToggleExpanded}>\r\n            <ExpandIcon expanded={!disabled && expanded}/>\r\n          </ExpandButton>\r\n          <HeaderChildren>\r\n            {header}\r\n          </HeaderChildren>\r\n        </Header>\r\n        <ExpandContent childCount={childCount} childHeight={childHeight} expanded={expanded}>\r\n          {children}\r\n        </ExpandContent>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ExpandableListItem;\r\n\r\nExpandableListItem.Item = styled.li`\r\n  padding: 0 40px 0 40px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  border-top: 1px solid #A20B0E;\r\n\r\n  @media ${breakpoints.small} {\r\n    padding: 0 20px 0 20px;\r\n  }\r\n`;\r\n\r\nconst Root = styled.li`\r\n  color: white;\r\n  margin: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  &:not(:first-child) {\r\n    border-top: 1px solid #A20B0E;\r\n  }\r\n\r\n  &:last-child {\r\n    border-bottom: 1px solid #A20B0E;\r\n  }\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  background-color: #D43425;\r\n  padding: 0 40px 0 40px;\r\n  height: 60px;\r\n\r\n  @media ${breakpoints.small} {\r\n    padding: 0 20px 0 20px;\r\n  }\r\n`;\r\n\r\nconst HeaderChildren = styled.div`\r\n  flex: 1;\r\n  justify-content: space-between;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nconst ExpandContent = styled(List)`\r\n  max-height: ${props => props.expanded ? props.childCount * props.childHeight : 0}px;\r\n  transition: max-height ${props => props.childCount * 0.025}s linear;\r\n  overflow: hidden;\r\n  background-color: white;\r\n  color: black;\r\n\r\n  > li {\r\n    height: ${props => props.childHeight}px;\r\n  }\r\n`;\r\n\r\nconst ExpandButton = styled(Button)`\r\n  margin-right: 34px;\r\n  opacity: ${props => props.disabled ? 0.3 : 1};\r\n  cursor: ${props => props.disabled ? 'default' : 'pointer'};\r\n`;\r\n\r\nconst ExpandIcon = styled(Icons.CircleArrow)`\r\n  width: 22px;\r\n  height: 22px;\r\n  opacity: 0.3;\r\n  transform: rotate(${props => props.expanded ? 180 : 0}deg);\r\n  transition: transform 0.1s;\r\n`;","import React from 'react';\r\n\r\nexport default function filterChildren(children, fn) {\r\n  const results = [];\r\n  React.Children.forEach(children, (child, i) => {\r\n    if(fn(child, i)) results.push(child);\r\n  });\r\n  return results;\r\n}","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport List from './List';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ExpandableListItem from './ExpandableListItem';\r\nimport Button from './Button';\r\nimport * as Icons from './Icons';\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass StudentActivityList extends Component {\r\n  @action.bound async handleActivityEditClick(activity) {\r\n    const { store, student, schoolYear, history } = this.props;\r\n    if(store.currentSchoolYear.id !== schoolYear.id) {\r\n      if(!await student.confirmHistoricEdit()) return;\r\n    }\r\n    history.push(student.getEditActivityRoute(schoolYear, activity));\r\n  }\r\n\r\n  @action.bound async handleActivityCreateClick(group) {\r\n    const { store, student, schoolYear, history } = this.props;\r\n    if(store.currentSchoolYear.id !== schoolYear.id) {\r\n      if(!await student.confirmHistoricEdit()) return;\r\n    }\r\n    history.push(student.getCreateActivityRoute(schoolYear, group));\r\n  }\r\n\r\n  render() {\r\n    const { store, activities } = this.props;\r\n    const { activityTypeGroups } = store;\r\n    const groups = groupActivities(activityTypeGroups, activities);\r\n\r\n    return (\r\n      <Root>\r\n        <GroupList>\r\n          {groups.map(([group, activities]) =>\r\n            <ExpandableListItem key={group.id} \r\n              header={\r\n                <React.Fragment>\r\n                  <GroupName>{group.name}</GroupName>\r\n                  <AddButton onClick={this.handleActivityCreateClick.bind(null, group)}>\r\n                    <AddIcon/>\r\n                  </AddButton>\r\n                </React.Fragment>\r\n              }\r\n            >\r\n              {activities.map(activity => \r\n                <ActivityListItem key={activity.id}>\r\n                  <EditActivityButton onClick={this.handleActivityEditClick.bind(null, activity)}>\r\n                    <EditIcon/>\r\n                  </EditActivityButton>\r\n                  <ActivityInfo>\r\n                    <ActivityName>{activity.activityType.name}</ActivityName>\r\n                    <ActivityFields>\r\n                      <ActivityField>\r\n                        # of Events: {activity.events.length}\r\n                      </ActivityField>\r\n                      <ActivityField>\r\n                        Frequency: {activity.frequency}\r\n                      </ActivityField>\r\n                      <ActivityField>\r\n                        <SpeechBubbleIcon/>\r\n                      </ActivityField>\r\n                    </ActivityFields>\r\n                  </ActivityInfo>\r\n                </ActivityListItem>\r\n              )}\r\n            </ExpandableListItem>\r\n          )}\r\n        </GroupList>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\n/* Returns an array of [group, activities] pairs */\r\nfunction groupActivities(activityTypeGroups, activities) {\r\n  return activityTypeGroups.map(typeGroup => [\r\n    typeGroup,\r\n    activities.filter(activity => activity.activityType.activityTypeGroupId === typeGroup.id)\r\n  ]);\r\n};\r\nexport default StudentActivityList;\r\n\r\nconst Root = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #D43425;\r\n`;\r\n\r\nconst GroupList = styled(List)`\r\n  flex: 1;\r\n  z-index: 2;\r\n  overflow: visible;\r\n`;\r\n\r\nconst GroupName = styled.span``;\r\n\r\nconst ActivityListItem = styled(ExpandableListItem.Item)``;\r\n\r\nconst AddButton = styled(Button)``;\r\n\r\nconst AddIcon = styled(Icons.RedCirclePlus)`\r\n  height: 22px;\r\n  width: 22px;\r\n`;\r\n\r\nconst EditActivityButton = styled(Button)`\r\n  margin-right: 24px;\r\n`;\r\n\r\nconst EditIcon = styled(Icons.PenSquare)`\r\n  width: 13px;\r\n  height: 14px;\r\n`;\r\n\r\nconst ActivityInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nconst ActivityName = styled.div`\r\n\tcolor: #555555;\r\n\tfont-size: 12px;\r\n\tfont-weight: bold;\r\n`;\r\n\r\nconst ActivityFields = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  margin-top: 3px;\r\n`;\r\n\r\nconst ActivityField = styled.div`\r\n\tcolor: #CE2D22;\r\n  font-size: 12px;\r\n`;\r\n\r\nconst SpeechBubbleIcon = styled(Icons.SpeechBubble)`\r\n  width: 15px;\r\n  height: 13px;\r\n`;","import styled from 'styled-components';\r\n\r\nexport default styled.label`\r\n  display: block;\r\n  font-weight: bold;\r\n  margin-bottom: 7px;\r\n`;","import React, { Component } from 'react';\r\nimport Select from './Select';\r\n\r\nconst YES_VALUE = 'YES';\r\nconst NO_VALUE = 'NO';\r\nconst NULL_VALUE = 'NULL';\r\n\r\nexport default class YesNoNullSelect extends Component {\r\n  handleChange = event => {\r\n    const { onChange } = this.props;\r\n    if(onChange) onChange(event.target.value === YES_VALUE);\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.props;\r\n    const selectValue = value == null \r\n      ? NULL_VALUE\r\n      : (value ? YES_VALUE : NO_VALUE);\r\n\r\n    return (\r\n      <Select {...this.props} value={selectValue} onChange={this.handleChange}>\r\n        <option value={NULL_VALUE} disabled>Choose yes/no</option>\r\n        <option value={YES_VALUE}>Yes</option>\r\n        <option value={NO_VALUE}>No</option>\r\n      </Select>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Input from './Input';\r\nimport EnumSelect from './EnumSelect';\r\n\r\nexport default function GradeInput(props) {\r\n  const { gradeType } = props;\r\n  switch(gradeType) {\r\n    case 'percent': return (<PercentGradeInput {...props}/>);\r\n    case 'gpa': return (<GpaGradeInput {...props}/>);\r\n    default: return (<LetterGradeInput {...props}/>);\r\n  }\r\n}\r\n\r\nfunction LetterGradeInput(props) {\r\n  return (<EnumSelect {...props} name=\"gradeLetters\" placeholder=\"Select a grade letter\"/>);\r\n}\r\n\r\nfunction PercentGradeInput(props) {\r\n  return (\r\n    <Input placeholder=\"Enter a grade percent\" {...props} type=\"number\" min=\"0\" max=\"100\" step=\"0.01\"/>\r\n  );\r\n}\r\n\r\nfunction GpaGradeInput(props) {\r\n  return (\r\n    <Input placeholder=\"Enter a GPA\" {...props} type=\"number\" min=\"0\" max=\"6\" step=\"0.01\"/>\r\n  )\r\n}\r\n","import Button from './Button';\r\nimport styled from 'styled-components';\r\n\r\nconst defaultColor = '#D43425'; // red\r\nconst defaultHoverColor = '#99251b'; // darker red\r\nconst defaultDisabledColor = '#757575';\r\n\r\nexport default styled(Button)`\r\n  color: ${props => props.textColor || 'white'};\r\n  background-color: ${props => props.color || defaultColor};\r\n  min-height: 50px;\r\n  font-family: 'Oswald', sans-serif;\r\n  font-size: 16px;\r\n  transition: background-color 0.3s;\r\n\r\n  &:hover {\r\n    background-color: ${props => props.hoverColor || props.color || defaultHoverColor};\r\n  }\r\n\r\n  &:disabled {\r\n    background-color: ${props => props.disabledColor || defaultDisabledColor};\r\n  }\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { observer } from 'mobx-react';\r\nimport FormRow from './FormRow';\r\nimport FormColumn from './FormColumn';\r\nimport FormError from './FormError';\r\nimport { Rejected } from './Task';\r\nimport BlockButton from './BlockButton';\r\nimport XButton from './XButton';\r\n\r\n@observer\r\nclass RiskFormWrapper extends Component {\r\n  render() {\r\n    const { title, student, schoolYear, term, dirty, saveTask, onSubmit, children } = this.props;\r\n\r\n    return (\r\n      <Root>\r\n        <Header>\r\n          <Title>{title}</Title>\r\n          <XButton component={Link} to={student.getRisksRoute(schoolYear, term)}/>\r\n        </Header>\r\n\r\n        <Rejected task={saveTask}>\r\n          {error => <FormError error={error}/>}\r\n        </Rejected>\r\n\r\n        <Form onSubmit={onSubmit}>\r\n          {children}\r\n          <FormRow>\r\n            <FormColumn>\r\n              <SaveButton disabled={!dirty}>SAVE</SaveButton>\r\n            </FormColumn>\r\n            <FormColumn/>\r\n          </FormRow>\r\n        </Form>\r\n      </Root>\r\n    );\r\n  }\r\n};\r\nexport default RiskFormWrapper;\r\n\r\nconst Root = styled.div``;\r\n\r\nconst Form = styled.form`\r\n  margin-top: 30px;\r\n  padding-bottom: 30px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  color: #D43425;\r\n  font-family: \"Oswald\";\r\n  font-size: 16px;\r\n  line-height: 21px;\r\n`;\r\n\r\nconst SaveButton = styled(BlockButton)`\r\n  margin-top: 18px;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport swal from 'sweetalert2';\r\nimport Input from './Input';\r\nimport Label from './Label';\r\nimport RadioButton from './RadioButton';\r\nimport YesNoNullSelect from './YesNoNullSelect';\r\nimport GradeInput from './GradeInput';\r\nimport FormRow from './FormRow';\r\nimport FormColumn from './FormColumn';\r\nimport SpinnerOverlay from './SpinnerOverlay';\r\nimport RiskFormWrapper from './RiskFormWrapper';\r\n\r\n@inject('store')\r\n@observer\r\nclass RiskFactorEditForm extends Component {\r\n  @observable grade = '';\r\n  @observable gradeType = null;\r\n  @observable absentPercent = null;\r\n  @observable behaviorMarks = null;\r\n  @observable suspended = null;\r\n  @observable failingEnglish = null;\r\n  @observable failingMath = null;\r\n  @observable failingOther = null;\r\n  @observable onTrack = null;\r\n  @observable retained = null;\r\n  @observable schoolsAttended = null;\r\n  @observable hasExtracurricular = null;\r\n  @observable dirty = false;\r\n  @observable saveTask = null;\r\n\r\n  @action setKey(key, value) {\r\n    this.dirty = true;\r\n    this[key] = value;\r\n  }\r\n\r\n  handleBoolChange = key => value => this.setKey(key, value);\r\n  handleStringChange = key => event => this.setKey(key, event.target.value);\r\n  handleNumberChange = key => event => this.setKey(key, +event.target.value);\r\n\r\n  handleGradeChange = this.handleStringChange('grade');\r\n  handleAbsentPercentChange = this.handleNumberChange('absentPercent');\r\n  handleBehaviorMarksChange = this.handleNumberChange('behaviorMarks');\r\n  handleSuspendedChange = this.handleBoolChange('suspended');\r\n  handleFailingEnglishChange = this.handleBoolChange('failingEnglish');\r\n  handleFailingMathChange = this.handleBoolChange('failingMath');\r\n  handleFailingOtherChange = this.handleBoolChange('failingOther');\r\n  handleOnTrackChange = this.handleBoolChange('onTrack');\r\n  handleRetainedChange = this.handleBoolChange('retained');\r\n  handleschoolsAttendedChange = this.handleNumberChange('schoolsAttended');\r\n  handleHasExtracurricularChange = this.handleBoolChange('hasExtracurricular');\r\n  handleGradeTypeChange = gradeType => {\r\n    this.setKey('gradeType', gradeType);\r\n    this.setKey('grade', '');\r\n  };\r\n\r\n  @action.bound async handleSubmit(event) {\r\n    const { store, student } = this.props;\r\n    event.preventDefault();\r\n    this.saveTask = store.editStudentTermInfo(student, {\r\n      grade: this.grade,\r\n      gradeType: this.gradeType,\r\n      absentPercent: this.absentPercent,\r\n      behaviorMarks: this.behaviorMarks,\r\n      suspended: this.suspended,\r\n      failingEnglish: this.failingEnglish,\r\n      failingMath: this.failingMath,\r\n      failingOther: this.failingOther,\r\n      onTrack: this.onTrack,\r\n      retained: this.retained,\r\n      schoolsAttended: this.schoolsAttended,\r\n      hasExtracurricular: this.hasExtracurricular,\r\n    });\r\n\r\n    await this.saveTask;\r\n    this.dirty = false;\r\n    swal('Success', 'Student risk factors saved successfully.', 'success');\r\n  }\r\n\r\n  edit(student) {\r\n    this.grade = student.grade;\r\n    this.gradeType = student.gradeType;\r\n    this.absentPercent = student.absentPercent;\r\n    this.behaviorMarks = student.behaviorMarks;\r\n    this.suspended = student.suspended;\r\n    this.failingEnglish = student.failingEnglish;\r\n    this.failingMath = student.failingMath;\r\n    this.failingOther = student.failingOther;\r\n    this.onTrack = student.onTrack;\r\n    this.retained = student.retained;\r\n    this.schoolsAttended = student.schoolsAttended;\r\n    this.hasExtracurricular = student.hasExtracurricular;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.edit(this.props.student);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if(prevProps.student !== this.props.student) {\r\n      this.edit(this.props.student);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      grade,\r\n      gradeType,\r\n      absentPercent,\r\n      behaviorMarks,\r\n      suspended,\r\n      failingEnglish,\r\n      failingMath,\r\n      failingOther,\r\n      onTrack,\r\n      retained,\r\n      schoolsAttended,\r\n      hasExtracurricular,\r\n      dirty,\r\n      saveTask,\r\n    } = this;\r\n\r\n    return (\r\n      <RiskFormWrapper {...this.props} title=\"EDIT RISK FACTORS\" onSubmit={this.handleSubmit} dirty={dirty} saveTask={saveTask}>\r\n        <SpinnerOverlay open={saveTask && saveTask.pending}/>\r\n        <FormRow>\r\n          <RadioColumn>\r\n            <RadioColumnLabel>Grade</RadioColumnLabel>\r\n            <RadioButton name=\"gradeType__letter\" label=\"Letter Grade\" checked={gradeType === 'letter'} onChange={this.handleGradeTypeChange.bind(null, 'letter')}/>\r\n            <RadioButton name=\"gradeType__percent\" label=\"Percentage\" checked={gradeType === 'percent'} onChange={this.handleGradeTypeChange.bind(null, 'percent')}/>\r\n            <RadioButton name=\"gradeType__gpa\" label=\"GPA Point\" checked={gradeType === 'gpa'} onChange={this.handleGradeTypeChange.bind(null, 'gpa')}/>\r\n          </RadioColumn>\r\n\r\n          <FormColumn>\r\n            <GradeInput name=\"grade\" gradeType={gradeType} value={maybeString(grade)} onChange={this.handleGradeChange}/>\r\n          </FormColumn>\r\n        </FormRow>\r\n\r\n        <Divider/>\r\n\r\n        <FormRow>\r\n          <FormColumn>\r\n            <Label>% of school time absent (excused or not)</Label>\r\n            <Input\r\n              value={maybeString(absentPercent)}\r\n              onChange={this.handleAbsentPercentChange}\r\n              name=\"absentPercent\"\r\n              type=\"number\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              placeholder=\"Enter as percentage (0.0 – 100.0)\"\r\n              step=\"0.01\"\r\n            />\r\n          </FormColumn>\r\n          <FormColumn>\r\n            <Label># of behavior marks/office referrals</Label>\r\n            <Input\r\n              value={maybeString(behaviorMarks)}\r\n              onChange={this.handleBehaviorMarksChange}\r\n              name=\"behaviorMarks\"\r\n              type=\"number\"\r\n              min=\"0\"\r\n              placeholder=\"Enter a number\"\r\n            />\r\n          </FormColumn>\r\n        </FormRow>\r\n\r\n        <FormRow>\r\n          <FormColumn>\r\n            <Label>Was student suspended?</Label>\r\n            <YesNoNullSelect name=\"suspended\" value={suspended} onChange={this.handleSuspendedChange}/>\r\n          </FormColumn>\r\n          <FormColumn>\r\n            <Label>Did student fail English/ELA?</Label>\r\n            <YesNoNullSelect name=\"failingEnglish\" value={failingEnglish} onChange={this.handleFailingEnglishChange}/>\r\n          </FormColumn>\r\n        </FormRow>\r\n\r\n        <FormRow>\r\n          <FormColumn>\r\n            <Label>Did student fail Math?</Label>\r\n            <YesNoNullSelect name=\"failingMath\" value={failingMath} onChange={this.handleFailingMathChange}/>\r\n          </FormColumn>\r\n          <FormColumn>\r\n            <Label>Did student fail any other class?</Label>\r\n            <YesNoNullSelect name=\"failingOther\" value={failingOther} onChange={this.handleFailingOtherChange}/>\r\n          </FormColumn>\r\n        </FormRow>\r\n\r\n        <FormRow>\r\n          <FormColumn>\r\n            <Label>On-track (enough credits) for grade?</Label>\r\n            <YesNoNullSelect name=\"onTrack\" value={onTrack} onChange={this.handleOnTrackChange}/>\r\n          </FormColumn>\r\n          <FormColumn>\r\n            <Label>Retained one or more years?</Label>\r\n            <YesNoNullSelect name=\"retained\" value={retained} onChange={this.handleRetainedChange}/>\r\n          </FormColumn>\r\n        </FormRow>\r\n\r\n        <FormRow>\r\n          <FormColumn>\r\n            <Label># of schools enrolled in through present</Label>\r\n            <Input\r\n              name=\"schoolsAttended\"\r\n              value={maybeString(schoolsAttended)}\r\n              onChange={this.handleschoolsAttendedChange}\r\n              placeholder=\"Enter a number\"\r\n              type=\"number\"\r\n              min=\"0\"\r\n            />\r\n          </FormColumn>\r\n          <FormColumn>\r\n            <Label>Any extracurricular activities?</Label>\r\n            <YesNoNullSelect name=\"hasExtracurricular\" value={hasExtracurricular} onChange={this.handleHasExtracurricularChange}/>\r\n          </FormColumn>\r\n        </FormRow>\r\n      </RiskFormWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RiskFactorEditForm;\r\n\r\nfunction maybeString(string) {\r\n  return string == null ? '' : string;\r\n}\r\n\r\nconst Divider = styled.div`\r\n  width: 100%;\r\n  height: 1px;\r\n  background-color: #D43425;\r\n  margin: 24px 0 24px;\r\n`;\r\n\r\nconst RadioColumn = styled(FormColumn)`\r\n  >div {\r\n    max-width: 200px;\r\n  }\r\n  >div + div {\r\n    margin-top: 10px;\r\n  };\r\n`;\r\n\r\nconst RadioColumnLabel = styled(Label)`\r\n  margin-bottom: 15px;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { observable, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport swal from 'sweetalert2';\r\nimport Label from './Label';\r\nimport YesNoNullSelect from './YesNoNullSelect';\r\nimport FormRow from './FormRow';\r\nimport FormColumn from './FormColumn';\r\nimport RiskFormWrapper from './RiskFormWrapper';\r\n\r\n@inject('store')\r\n@observer\r\nclass SkillsEditForm extends Component {\r\n  @observable hasSelfDeterminationSkills = null;\r\n  @observable hasIndependentLivingSkills = null;\r\n  @observable hasTravelSkills = null;\r\n  @observable hasSocialSkills = null;\r\n  @observable dirty = false;\r\n  @observable saveTask = null;\r\n\r\n  @action setKey(key, value) {\r\n    this.dirty = true;\r\n    this[key] = value;\r\n  }\r\n\r\n  handleBoolChange = key => value => this.setKey(key, value);\r\n  handleHasSelfDeterminationSkillsChange = this.handleBoolChange('hasSelfDeterminationSkills');\r\n  handleHasIndependentLivingSkillsChange = this.handleBoolChange('hasIndependentLivingSkills');\r\n  handleHasTravelSkillsChange = this.handleBoolChange('hasTravelSkills');\r\n  handleHasSocialSkillsChange = this.handleBoolChange('hasSocialSkills');\r\n\r\n  @action.bound async handleSubmit(event) {\r\n    const { store, student } = this.props;\r\n    event.preventDefault();\r\n    this.saveTask = store.editStudentTermInfo(student, {\r\n      hasSelfDeterminationSkills: this.hasSelfDeterminationSkills,\r\n      hasIndependentLivingSkills: this.hasIndependentLivingSkills,\r\n      hasTravelSkills: this.hasTravelSkills,\r\n      hasSocialSkills: this.hasSocialSkills,\r\n    });\r\n    \r\n    await this.saveTask;\r\n    this.dirty = false;\r\n    await swal('Success', 'Student skills saved successfully.', 'success');\r\n  }\r\n\r\n  edit(student) {\r\n    this.hasSelfDeterminationSkills = student.hasSelfDeterminationSkills;\r\n    this.hasIndependentLivingSkills = student.hasIndependentLivingSkills;\r\n    this.hasTravelSkills = student.hasTravelSkills;\r\n    this.hasSocialSkills = student.hasSocialSkills;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.edit(this.props.student);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if(prevProps.student !== this.props.student) {\r\n      this.edit(this.props.student);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      hasSelfDeterminationSkills,\r\n      hasIndependentLivingSkills,\r\n      hasTravelSkills,\r\n      hasSocialSkills,\r\n      dirty,\r\n      saveTask,\r\n    } = this;\r\n\r\n    return (\r\n      <RiskFormWrapper {...this.props} title=\"EDIT STUDENT SKILLS\" onSubmit={this.handleSubmit} dirty={dirty} saveTask={saveTask}>\r\n        <FormRow>\r\n          <FormColumn>\r\n            <Label>Self-determination skills</Label>\r\n            <YesNoNullSelect value={hasSelfDeterminationSkills} onChange={this.handleHasSelfDeterminationSkillsChange}/>\r\n          </FormColumn>\r\n          <FormColumn>\r\n            <Label>Independent living skills</Label>\r\n            <YesNoNullSelect value={hasIndependentLivingSkills} onChange={this.handleHasIndependentLivingSkillsChange}/>\r\n          </FormColumn>\r\n        </FormRow>\r\n\r\n        <FormRow>\r\n          <FormColumn>\r\n            <Label>Travel skills</Label>\r\n            <YesNoNullSelect value={hasTravelSkills} onChange={this.handleHasTravelSkillsChange}/>\r\n          </FormColumn>\r\n          <FormColumn>\r\n            <Label>Social skills</Label>\r\n            <YesNoNullSelect value={hasSocialSkills} onChange={this.handleHasSocialSkillsChange}/>\r\n          </FormColumn>\r\n        </FormRow>\r\n      </RiskFormWrapper>\r\n    );\r\n  }\r\n};\r\nexport default SkillsEditForm;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.textarea`\r\n  border: none;\r\n  outline: none;\r\n  padding: 10px;\r\n`;","import React, { Component } from 'react';\r\nimport { observable, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport swal from 'sweetalert2';\r\nimport Label from './Label';\r\nimport YesNoNullSelect from './YesNoNullSelect';\r\nimport FormRow from './FormRow';\r\nimport FormColumn from './FormColumn';\r\nimport RiskFormWrapper from './RiskFormWrapper';\r\nimport EnumSelect from './EnumSelect';\r\nimport Textarea from './Textarea'; \r\n\r\n@inject('store')\r\n@observer\r\nclass SkillsCareerDevForm extends Component {\r\n  @observable attendedIepMeeting = null;\r\n  @observable iepRole = null;\r\n  @observable hasGraduationPlan = null;\r\n  @observable dirty = false;\r\n  @observable postSchoolGoals = null; \r\n  @observable saveTask = null;\r\n\r\n  @action setKey(key, value) {\r\n    this.dirty = true;\r\n    this[key] = value;\r\n  }\r\n\r\n  handleBoolChange = key => value => this.setKey(key, value);\r\n  handleStringChange = key => event => this.setKey(key, event.target.value);\r\n  handleAttendedIepMeetingChange = attended => {\r\n    this.setKey('attendedIepMeeting', attended);\r\n    if(!attended) this.setKey('iepRole', null);\r\n  };\r\n\r\n  handleIepRoleChange = this.handleStringChange('iepRole')\r\n  handleHasGraduationPlanChange = this.handleBoolChange('hasGraduationPlan');\r\n  handlePostSchoolGoals = this.handleStringChange('postSchoolGoals'); \r\n\r\n  @action.bound async handleSubmit(event) {\r\n    const { store, student } = this.props;\r\n    event.preventDefault();\r\n    this.saveTask = store.editStudentTermInfo(student, {\r\n      attendedIepMeeting: this.attendedIepMeeting,\r\n      iepRole: this.iepRole,\r\n      postSchoolGoals: this.postSchoolGoals,\r\n      hasGraduationPlan: this.hasGraduationPlan,\r\n    });\r\n    \r\n    await this.saveTask;\r\n    this.dirty = false;\r\n    await swal('Success', 'Student skills saved successfully.', 'success');\r\n  }\r\n\r\n  edit(student) {\r\n    this.attendedIepMeeting = student.attendedIepMeeting;\r\n    this.iepRole = student.iepRole;\r\n    this.postSchoolGoals = student.postSchoolGoals; \r\n    this.hasGraduationPlan = student.hasGraduationPlan;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.edit(this.props.student);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if(prevProps.student !== this.props.student) {\r\n      this.edit(this.props.student);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      attendedIepMeeting,\r\n      iepRole,\r\n      hasGraduationPlan,\r\n      dirty,\r\n      postSchoolGoals,\r\n      saveTask,\r\n    } = this;\r\n\r\n    return (\r\n      <RiskFormWrapper {...this.props} title=\"EDIT STUDENT CAREER DEV & IEP\" onSubmit={this.handleSubmit} dirty={dirty} saveTask={saveTask}>\r\n        <FormRow>\r\n          <FormColumn>\r\n            <Label>Attended IEP meeting</Label>\r\n            <YesNoNullSelect value={attendedIepMeeting} onChange={this.handleAttendedIepMeetingChange}/>\r\n          </FormColumn>\r\n          <FormColumn>\r\n            <Label>If yes, what was their role</Label>\r\n            <EnumSelect\r\n              name=\"iepRoles\"\r\n              value={iepRole}\r\n              onChange={this.handleIepRoleChange}\r\n              disabled={!attendedIepMeeting}\r\n              placeholder=\"Choose a role\"\r\n            />\r\n          </FormColumn>\r\n        </FormRow>\r\n\r\n        <FormRow>\r\n          <FormColumn>\r\n            <Label>Career development or graduation plan</Label>\r\n            <YesNoNullSelect value={hasGraduationPlan} onChange={this.handleHasGraduationPlanChange}/>\r\n          </FormColumn>\r\n          <FormColumn/>\r\n        </FormRow>\r\n        <FormRow>\r\n          <FormColumn>\r\n            <Label>Post-school goals</Label>\r\n            <Textarea value={postSchoolGoals} onChange={this.handlePostSchoolGoals}/>\r\n          </FormColumn>\r\n          <FormColumn/>\r\n        </FormRow>\r\n      </RiskFormWrapper>\r\n    );\r\n  }\r\n};\r\nexport default SkillsCareerDevForm;\r\n","/*\r\n  Passes breakpoint changes to the wrapped component.\r\n  The wrapped component must be a mobx observer.\r\n  The `breakpoints` prop passed to wrapped component looks like this:\r\n  {\r\n    small: true,\r\n    medium: false,\r\n    large: false,\r\n    ... any other breakpoints defined in breakpoints.js\r\n  }\r\n*/\r\n\r\nimport React, { Component } from 'react';\r\nimport * as breakpoints from '../breakpoints';\r\nimport { observable } from 'mobx';\r\n\r\nexport default function responsive(Wrapped) {\r\n  return class Responsive extends Component {\r\n    @observable breakpoints = Object.keys(breakpoints).reduce((bps, key) => {\r\n      bps[key] = false;\r\n      return bps;\r\n    }, {});\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this._queryList = Object.entries(breakpoints).map(([key, breakpoint]) => {\r\n        const query = window.matchMedia(breakpoint);\r\n        query._key = key;\r\n        query.addListener(this.computeBreakpointMatches);\r\n        return query;\r\n      });\r\n      this.computeBreakpointMatches();\r\n    }\r\n\r\n    computeBreakpointMatches = () => {\r\n      const { breakpoints } = this;\r\n      for(let query of this._queryList) {\r\n        breakpoints[query._key] = query.matches;\r\n      }\r\n    };\r\n\r\n    componentWillUnmount() {\r\n      this._queryList.forEach(q => q.removeListener(this.computeBreakpointMatches));\r\n    }\r\n\r\n    render() {\r\n      return (<Wrapped {...this.props} breakpoints={this.breakpoints}/>);\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, computed, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Route, Switch, withRouter } from 'react-router-dom';\r\nimport Button from './Button';\r\nimport ExpandableListItem from './ExpandableListItem';\r\nimport EditRiskFactorForm  from './EditRiskFactorForm';\r\nimport EditSkillsForm  from './EditSkillsForm';\r\nimport EditCareerDevForm  from './EditCareerDevForm';\r\nimport responsive from '../utils/responsive';\r\nimport formatGrade from '../utils/formatGrade';\r\n\r\n@responsive\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass StudentRisksView extends Component {\r\n  @observable loadTask = null;\r\n\r\n  @computed get termStudent() {\r\n    const { term, student } = this.props;\r\n    return term.students.find(s => s.id === student.id);\r\n  }\r\n\r\n  confirmHistoricEdit() {\r\n    const { store, student, term } = this.props;\r\n    if(store.isCurrentTerm(term)) return true;\r\n    return student.confirmHistoricEdit();\r\n  }\r\n\r\n  @action.bound async handleEditRiskFactorsClick() {\r\n    if(!await this.confirmHistoricEdit()) return;\r\n    this.props.history.push(this.props.location.pathname + '/riskFactors');\r\n  }\r\n\r\n  @action.bound async handleEditStudentSkillsClick() {\r\n    if(!await this.confirmHistoricEdit()) return;\r\n    this.props.history.push(this.props.location.pathname + '/skills');\r\n  }\r\n\r\n  @action.bound async handleEditCareerDevClick() {\r\n    if(!await this.confirmHistoricEdit()) return;\r\n    this.props.history.push(this.props.location.pathname + '/careerDev');\r\n  }\r\n\r\n  render() {\r\n    const { schoolYear, term, breakpoints } = this.props;\r\n    const groupListItemHeight = breakpoints.small ? 40 : 60;\r\n    const student = this.termStudent;\r\n\r\n    return (\r\n      <Root>\r\n        <GroupList\r\n          title=\"Risk Factors\"\r\n          completePercent={student.riskFactorPercentage}\r\n          onEditClick={this.handleEditRiskFactorsClick}\r\n          childHeight={groupListItemHeight}\r\n        >\r\n          <ValueRow name=\"Grade\" value={formatGrade(student.gradeType, student.grade)}/>\r\n          <ValueRow name=\"% of school time absent (excused or not)\" value={student.absentPercent}/>\r\n          <ValueRow name=\"# of behavior marks/office referrals this yr\" value={student.behaviorMarks}/>\r\n          <ValueRow name=\"Suspended this year\" value={student.suspended}/>\r\n          <ValueRow name=\"Failing English/ELA class\" value={student.failingEnglish}/>\r\n          <ValueRow name=\"Failing Math class\" value={student.failingMath}/>\r\n          <ValueRow name=\"Failing any other course\" value={student.failingOther}/>\r\n          <ValueRow name=\"On-track for grade level\" value={student.onTrack}/>\r\n          <ValueRow name=\"Retained one or more years\" value={student.retained}/>\r\n          <ValueRow name=\"Number of schools attended K-present\" value={student.schoolsAttended}/>\r\n          <ValueRow name=\"Participated in at least 1 extracurricular activity\" value={student.hasExtracurricular}/>\r\n        </GroupList>\r\n\r\n        <GroupList \r\n          title=\"Student Skills\" \r\n          completePercent={student.skillPercentage}\r\n          onEditClick={this.handleEditStudentSkillsClick}\r\n          childHeight={groupListItemHeight}\r\n        >\r\n          <ValueRow name=\"Self-determination skills\" value={student.hasSelfDeterminationSkills}/>\r\n          <ValueRow name=\"Independent-living skills\" value={student.hasIndependentLivingSkills}/>\r\n          <ValueRow name=\"Travel skills\" value={student.hasTravelSkills}/>\r\n          <ValueRow name=\"Social skills\" value={student.hasSocialSkills}/>\r\n        </GroupList>\r\n\r\n        <GroupList\r\n          title=\"Career Dev and IEP\"\r\n          completePercent={student.careerDevPercentage}\r\n          onEditClick={this.handleEditCareerDevClick}\r\n          childHeight={groupListItemHeight}\r\n        >\r\n          <ValueRow name=\"Student attended IEP meeting\" value={student.attendedIepMeeting}/>\r\n          {student.attendedIepMeeting &&\r\n            <ValueRow name=\"IEP Meeting Role\" value={student.iepRole}/>\r\n          }\r\n          <ValueRow name=\"Career development/Graduation plan\" value={student.hasGraduationPlan}/>\r\n          <ValueRow name=\"Post-school goals\" value={student.postSchoolGoals}/>\r\n        </GroupList>\r\n\r\n        <Switch>\r\n          <Route path=\"/*/riskFactors\" render={props =>\r\n            <Overlay>\r\n              <EditRiskFactorForm \r\n                key={student.id} \r\n                student={student}\r\n                schoolYear={schoolYear}\r\n                term={term}\r\n              />\r\n            </Overlay>\r\n          }/>\r\n          <Route path=\"/*/skills\" render={props =>\r\n            <Overlay>\r\n              <EditSkillsForm \r\n                key={student.id} \r\n                student={student}\r\n                schoolYear={schoolYear}\r\n                term={term}\r\n              />\r\n            </Overlay>\r\n          }/>\r\n          <Route path=\"/*/careerDev\" render={props =>\r\n            <Overlay>\r\n              <EditCareerDevForm \r\n                key={student.id} \r\n                student={student}\r\n                schoolYear={schoolYear}\r\n                term={term}\r\n              />\r\n            </Overlay>\r\n          }/>\r\n        </Switch>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StudentRisksView;\r\n\r\nconst Root = styled.div`\r\n  position: relative;\r\n  flex: 1;\r\n  background-color: #D43425;\r\n`;\r\n\r\nfunction GroupList(props) {\r\n  const { title, completePercent, onEditClick, ...rest } = props;\r\n\r\n  return (\r\n    <ExpandableListItem {...rest}\r\n      header={\r\n        <GroupListHeader>\r\n          <GroupTitle>{title}</GroupTitle>\r\n          <GroupCompletePercent>{completePercent}% complete</GroupCompletePercent>\r\n          <EditButton onClick={onEditClick}><EditIcon/></EditButton>\r\n        </GroupListHeader>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nconst ValueRow = styled(ExpandableListItem.Item).attrs({\r\n  children(props) {\r\n    return (\r\n      <React.Fragment>\r\n        <Key>{props.name}</Key>\r\n        <Value>{formatValue(props.value)}</Value>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n})`\r\n  justify-content: space-between;\r\n`;\r\n\r\nfunction formatValue(value) {\r\n  if(value == null) return '--';\r\n  if(value === true) return 'Yes';\r\n  if(value === false) return 'No';\r\n  return value;\r\n}\r\n\r\nconst Key = styled.div``;\r\nconst Value = styled.div`\r\n  color: #D43425;\r\n`;\r\n\r\nconst EditIcon = styled.img.attrs({\r\n  src: require('../assets/edit_icon.png')\r\n})`\r\n  opacity: 0.5;\r\n  transition: opacity 0.2s;\r\n  width: 20px;\r\n  height: 19px;\r\n`;\r\n\r\nconst EditButton = styled(Button)`\r\n  &:hover img {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst GroupListHeader = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  height: 100%;\r\n  flex: 1;\r\n`;\r\n\r\nconst GroupTitle = styled.div`\r\n  flex: 1;\r\n  font-size: 16px;\r\n`;\r\n\r\nconst GroupCompletePercent = styled.div`\r\n  color: #A20B0E;\r\n  margin-right: 32px;\r\n  font-size: 12px;\r\n  font-style: italic;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  width: 100%;\r\n\r\n  // 44px is the height of the tabs\r\n  height: calc(100% + 44px);\r\n  top: -44px;\r\n  background-color: #F2F2F2;\r\n  border-top: 1px solid #D43425;\r\n  padding: 29px 35px 29px 35px;\r\n\r\n  > * {\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n`;\r\n","export default function formatGrade(gradeType, grade) {\r\n  if(gradeType == null || grade == null) return null;\r\n\r\n  if(gradeType === 'letter') return grade;\r\n  if(gradeType === 'percent') return Number.parseFloat(grade).toPrecision(3) + '%';\r\n  return Number.parseFloat(grade).toPrecision(3);\r\n}\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nclass Tooltip extends Component {\r\n  render() {\r\n     const { children, text } = this.props\r\n     return (\r\n       <TooltipComponent> \r\n         {children}\r\n         <span className=\"tooltiptext\">\r\n           {text}\r\n         </span>\r\n       </TooltipComponent>\r\n     )\r\n  }\r\n}\r\nexport default Tooltip;\r\n\r\nconst TooltipComponent = styled.div`\r\n  position: relative;\r\n  display: inline-block;\r\n\r\n  .tooltiptext {\r\n    display: flex;\r\n    width: 140px;\r\n    background-color: #F5633A;\r\n    color: #FFF;\r\n    text-align: center;\r\n    border-radius: 2px;\r\n    padding: 3px;\r\n    position: absolute;\r\n    z-index: 1;\r\n    margin: -60px;\r\n    font-size: 12px;\r\n    font-style: italic;\r\n    top: 25%;\r\n  }\r\n\r\n  .tooltiptext::after {\r\n    content: \" \";\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 50%;\r\n    margin-left: -5px;\r\n    border-width: 5px;\r\n    border-style: solid;\r\n    border-color: #F5633A transparent transparent transparent;\r\n  }\r\n`","import React, { Component } from 'react';\r\nimport Button from './Button';\r\nimport DayPicker from 'react-day-picker/DayPicker';\r\nimport 'react-day-picker/lib/style.css';\r\nimport styled from 'styled-components';\r\nimport { observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Calendar } from './Icons';\r\nimport Tooltip from './Tooltip';\r\n\r\n@observer\r\nclass MultipleDatePicker extends Component {\r\n  @observable show = false\r\n  @observable current = new Date()\r\n\r\n  @action.bound handleMonthYearChange(e) {\r\n    const { year, month } = e.target.form\r\n    this.current = new Date(year.value, month.value)\r\n  }\r\n\r\n  YearMonthForm = ({ date, localeUtils }) => {\r\n    const { handleMonthYearChange } = this\r\n    const currentYear = new Date().getFullYear()\r\n    const fromMonth = new Date(currentYear - 1, 0)\r\n    const toMonth = new Date(currentYear + 5, 11)\r\n\r\n    const months = localeUtils.getMonths()\r\n    const years = []\r\n    for (let i = fromMonth.getFullYear(); i <= toMonth.getFullYear(); i += 1) {\r\n      years.push(i)\r\n    }\r\n\r\n    return (\r\n      <div className=\"DayPicker-Caption\">\r\n        <select name=\"month\" onChange={handleMonthYearChange} value={date.getMonth()}>\r\n          {months.map((month, i) => (\r\n            <option key={month} value={i}>\r\n              {month}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <select name=\"year\" onChange={handleMonthYearChange} value={date.getFullYear()}>\r\n          {years.map(year => (\r\n            <option key={year} value={year}>\r\n              {year}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  @action.bound renderDay(day) {\r\n    const { value } = this.props\r\n    const date = day.getDate()\r\n    const [first] = value\r\n    const Date = () => \r\n      value.length === 1 && first.getTime() === day.getTime() ? <Tooltip text={\"Select an additional occurrence or click done.\"}>{date}</Tooltip> : date\r\n\r\n    return <Date />\r\n  }\r\n\r\n  @action.bound showCalendar(event) {\r\n    event.preventDefault()\r\n    this.show = true\r\n  }\r\n\r\n  @action.bound closeCalendar(event) {\r\n    event.preventDefault()\r\n    this.show = false\r\n  }\r\n\r\n  render() {\r\n    const { className, value, handleDayClick } = this.props\r\n    const {\r\n      showCalendar,\r\n      closeCalendar,\r\n      show,\r\n      YearMonthForm,\r\n      current,\r\n      renderDay\r\n    } = this\r\n\r\n    const daysSelected = value.length\r\n    const CalendarText = () =>\r\n      daysSelected === 0 ? <NoDateText> Add New Events to this Activity </NoDateText> : <DateSelectedText>{`${daysSelected} days selected`}</DateSelectedText>\r\n\r\n    return (\r\n      <Container>\r\n        <Button onClick={showCalendar}>\r\n          <div className={className}>\r\n            <CalendarText />\r\n            <CalendarIcon />\r\n          </div>\r\n        </Button>\r\n        {show &&\r\n          <CalendarItems>\r\n            <DayPicker\r\n              month={current}\r\n              selectedDays={value.toJS()}\r\n              onDayClick={handleDayClick}\r\n              modifiers={modifiers}\r\n              modifiersStyles={modifiersStyles}\r\n              renderDay={renderDay}\r\n              fixedWeeks\r\n              captionElement={({ date, localeUtils }) =>\r\n                <YearMonthForm date={date} localeUtils={localeUtils} />\r\n              }\r\n            />\r\n            <DoneButton onClick={closeCalendar}> DONE </DoneButton>\r\n          </CalendarItems>\r\n        }\r\n      </Container>\r\n    )\r\n  }\r\n}\r\nexport default MultipleDatePicker;\r\n\r\nconst NoDateText = styled.div`\r\n  font-style: italic;\r\n`\r\n\r\nconst DateSelectedText = styled.div`\r\n  font-weight: bold;\r\n`\r\n\r\nconst modifiers = {\r\n  weekends: {\r\n    daysOfWeek: [0, 6]\r\n  }\r\n}\r\n\r\nconst modifiersStyles = {\r\n  weekends: {\r\n    color: 'red',\r\n  }\r\n}\r\n\r\nconst CalendarIcon = styled(Calendar)`\r\n  margin-left: 24px;\r\n`\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n`\r\n\r\nconst DoneButton = styled(Button)`\r\n  background-color: #F5633A;\r\n  color: white;\r\n  width: 100%;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  font-family: 'Oswald';\r\n  line-height: 24px;\r\n`\r\n\r\nconst CalendarItems = styled.div`\r\n  border: 1px solid #E8E8E8;\r\n  box-shadow: 0 3px 8px 0 rgba(0, 0, 0, 0.1);\r\n  background-color: white;\r\n  display: block;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 80%;\r\n  transform: translateY(100%);\r\n  z-index: 200;\r\n`","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport swal from 'sweetalert2';\r\nimport isValidDate from '../utils/isValidDate';\r\nimport Label from './Label';\r\nimport Select from './Select';\r\nimport Textarea from './Textarea';\r\nimport Button from './Button';\r\nimport FormError from './FormError';\r\nimport FormRow from './FormRow';\r\nimport FormColumn from './FormColumn';\r\nimport { Rejected } from './Task';\r\nimport List from './List';\r\nimport * as Icons from './Icons';\r\nimport EnumSelect from './EnumSelect';\r\nimport XButton from './XButton';\r\nimport SpinnerOverlay from './SpinnerOverlay';\r\nimport * as breakpoints from '../breakpoints';\r\nimport MultipleDatePicker from './MultipleDatePicker';\r\nimport { DateUtils } from 'react-day-picker/DayPicker';\r\n\r\nconst NONE = '';\r\nconst eventSortFn = (a, b) => b.eventTime - a.eventTime; // most recent first\r\nlet tempIdCounter = 0;\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass EditActivityForm extends Component {\r\n  @observable activityToEdit = null;\r\n  @observable activityTypeId = null;\r\n  @observable frequency = null;\r\n  @observable eventTimes = [];\r\n  @observable events = [];\r\n  @observable dirty = true;\r\n  @observable invalidDateError = null;\r\n\r\n  @observable notes = '';\r\n  @observable submitTask = null;\r\n\r\n  @computed get edit() {\r\n    return !!this.activityToEdit;\r\n\r\n  }\r\n\r\n  @action handleChange() {\r\n    this.dirty = true;\r\n  }\r\n\r\n  @action.bound handleActivityTypeChange(event) {\r\n    this.handleChange();\r\n    const value = event.target.value;\r\n    this.activityTypeId = value === NONE ? null : +value;\r\n  }\r\n\r\n  @action.bound handleFrequencyChange(event) {\r\n    this.handleChange();\r\n    this.frequency = event.target.value;\r\n  }\r\n\r\n  @action.bound handleAddEventClick(event) {\r\n    this.handleChange();\r\n    event.preventDefault();\r\n    this.eventTimes.forEach(event => {\r\n      const date = new Date(event);\r\n      if (!isValidDate(date)) {\r\n        this.invalidDateError = new Error(`Invalid date. Format should be: YYYY-MM-DD`);\r\n        return;\r\n      }\r\n      if (this.events.every(event => event.eventTime.getTime() !== date.getTime())) {\r\n        this.events.push({\r\n          id: `event-${tempIdCounter++}`,\r\n          eventTime: date\r\n        });\r\n      }\r\n    })\r\n    this.eventTimes = []\r\n    this.events = this.events.sort(eventSortFn);\r\n    return false;\r\n  }\r\n\r\n  @action.bound handleEventTimeChange(event) {\r\n    this.handleChange();\r\n    this.eventTimes = event.target.value;\r\n  }\r\n\r\n  @action.bound async handleEventRemove(activityEvent, event) {\r\n    event.preventDefault();\r\n    const confirmResult = await swal({\r\n      title: 'Are you sure?',\r\n      text: `This will delete the event permanently.`,\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes',\r\n      cancelButtonText: 'No'\r\n    });\r\n\r\n    if (!confirmResult.value) return;\r\n\r\n    this.handleChange();\r\n    this.events.remove(activityEvent);\r\n\r\n    return false;\r\n  }\r\n\r\n  @action.bound handleNotesChange(event) {\r\n    this.handleChange();\r\n    this.notes = event.target.value;\r\n  }\r\n\r\n  @action.bound async handleSubmit(event) {\r\n    event.preventDefault();\r\n    const { store, student, students, schoolYear } = this.props;\r\n    const {\r\n      edit,\r\n      frequency,\r\n      activityToEdit,\r\n      activityTypeId,\r\n      notes,\r\n      events,\r\n    } = this;\r\n\r\n    const fields = {\r\n      activityTypeId,\r\n      frequency,\r\n      notes,\r\n      events,\r\n    };\r\n\r\n    if (edit) {\r\n      this.submitTask = store.editStudentActivity(student, schoolYear, activityToEdit, fields);\r\n      const activity = await this.submitTask;\r\n      activityToEdit.patch(activity);\r\n      swal('Success', 'Activity saved', 'success');\r\n    } else {\r\n      this.createStudentActivity(students || [student], schoolYear, fields)\r\n      swal('Success', students ? 'Activities created' : 'Activity created', 'success');\r\n    }\r\n\r\n    this.close();\r\n  }\r\n\r\n  @action.bound async createStudentActivity(students, schoolYear, fields) {\r\n    const { onCreateActivity, store } = this.props\r\n    this.submitTask = store.createStudentActivity(students, schoolYear, fields);\r\n    const activity = await this.submitTask;\r\n    if (onCreateActivity) onCreateActivity(activity);\r\n  }\r\n\r\n  @action async delete() {\r\n    const confirmResult = await swal({\r\n      title: 'Are you sure?',\r\n      text: `This will delete this activity permanently.`,\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes',\r\n      cancelButtonText: 'No'\r\n    });\r\n\r\n    if (!confirmResult.value) return false;\r\n    const { store, onDeleteActivity } = this.props;\r\n    try {\r\n      await store.deleteActivity(this.activityToEdit);\r\n      if (onDeleteActivity) onDeleteActivity(this.activityToEdit);\r\n      this.close();\r\n    } catch (error) {\r\n      await swal({\r\n        type: 'error',\r\n        title: 'Oops...',\r\n        text: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  @action.bound handleDeleteClick(event) {\r\n    event.preventDefault();\r\n    this.delete();\r\n    return false;\r\n  }\r\n\r\n  @action close() {\r\n    const { history, student, students, schoolYear } = this.props;\r\n    history.push(students ? `/${schoolYear.id}/students/multiple` : student.getViewRoute(schoolYear));\r\n  }\r\n\r\n  @action.bound handleDayClick(day, { selected }) {\r\n    const { eventTimes } = this\r\n    if (selected) {\r\n      const selectedIndex = eventTimes.findIndex(selectedDay => DateUtils.isSameDay(selectedDay, day))\r\n      eventTimes.splice(selectedIndex, 1)\r\n    } else {\r\n      eventTimes.push(day)\r\n    }\r\n  }\r\n\r\n  @action componentDidMount() {\r\n    const { activity } = this.props;\r\n\r\n    if (activity) {\r\n      this.activityToEdit = activity;\r\n      this.activityTypeId = activity.activityType.id;\r\n      this.events = activity.events.sort(eventSortFn);\r\n      this.frequency = activity.frequency;\r\n      this.notes = activity.notes;\r\n      this.dirty = false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { student, students, schoolYear, group } = this.props;\r\n    const {\r\n      edit,\r\n      activityTypeId,\r\n      frequency,\r\n      notes,\r\n      eventTimes,\r\n      events,\r\n      submitTask,\r\n      dirty,\r\n      invalidDateError,\r\n      handleDayClick\r\n    } = this;\r\n\r\n    return (\r\n      <Root>\r\n        <SpinnerOverlay open={submitTask && submitTask.pending} />\r\n        <Rejected task={submitTask}>\r\n          {error =>\r\n            <FormError\r\n              error={error}\r\n              keyNames={{\r\n                activityTypeId: 'Activity Type'\r\n              }}\r\n            />\r\n          }\r\n        </Rejected>\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Header>\r\n            <Title>{edit ? 'EDIT' : 'ADD'} {group.name.toUpperCase()} ACTIVITY</Title>\r\n            <XButton component={Link} to={students ? `/${schoolYear.id}/students/multiple` : student.getViewRoute(schoolYear)} />\r\n          </Header>\r\n\r\n          <FormRow>\r\n            <FormColumn>\r\n              <Label>{group.name} Activity</Label>\r\n              <Select value={activityTypeId} onChange={this.handleActivityTypeChange} placeholder=\"Select an activity type\">\r\n                {group.activityTypes.map(type =>\r\n                  <option key={type.id} value={type.id}>{type.name}</option>\r\n                )}\r\n              </Select>\r\n            </FormColumn>\r\n\r\n            <FormColumn>\r\n              <Label>Frequency</Label>\r\n              <EnumSelect name=\"activityFrequencies\" value={frequency} onChange={this.handleFrequencyChange} placeholder=\"Select a frequency\" />\r\n            </FormColumn>\r\n          </FormRow>\r\n\r\n          <FormRow>\r\n            <FormColumn>\r\n              <Label>Number of Events: {events.length}</Label>\r\n              <EventTimeContainer>\r\n                <EventTimeInputRow>\r\n                  {/* onChange={this.handleEventTimeChange} */}\r\n                  <EventTimePicker value={eventTimes} handleDayClick={handleDayClick} />\r\n                  <EventAddButton onClick={this.handleAddEventClick} disabled={eventTimes.length === 0}>\r\n                    ADD {eventTimes.length > 1 ? \"EVENTS\" : \"EVENT\"}\r\n                  </EventAddButton>\r\n                </EventTimeInputRow>\r\n\r\n                {events.length > 0 &&\r\n                  <EventListContainer>\r\n                    <EventListLabel>Event Dates</EventListLabel>\r\n                    <EventList>\r\n                      {events.map(event =>\r\n                        <EventListItem key={event.id}>\r\n                          {event.eventTime.toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric' })}\r\n\r\n                          <EventDeleteButton onClick={this.handleEventRemove.bind(null, event)}><EventDeleteIcon /></EventDeleteButton>\r\n                        </EventListItem>\r\n                      )}\r\n                    </EventList>\r\n                  </EventListContainer>\r\n                }\r\n              </EventTimeContainer>\r\n            </FormColumn>\r\n            <FormColumn>\r\n              {invalidDateError && <FormError error={invalidDateError} />}\r\n            </FormColumn>\r\n          </FormRow>\r\n\r\n          <FormRow>\r\n            <FormColumn>\r\n              <Label>Notes</Label>\r\n              <NoteTextarea value={notes} onChange={this.handleNotesChange} />\r\n            </FormColumn>\r\n          </FormRow>\r\n\r\n          <ButtonRow>\r\n            <SaveButton disabled={!dirty}>SAVE</SaveButton>\r\n            <DeleteButton invisible={!edit} onClick={this.handleDeleteClick}>DELETE ACTIVITY</DeleteButton>\r\n          </ButtonRow>\r\n        </Form>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditActivityForm;\r\n\r\nconst Root = styled.div`\r\n  position: relative;\r\n  padding: 29px 35px 29px 35px;\r\n  border-top: 1px solid #D43425;\r\n  background-color: #F2F2F2;\r\n  margin-bottom: 29px;\r\n  min-height: 100%;\r\n\r\n  @media ${breakpoints.small} {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n\tcolor: #D43425;\r\n\tfont-family: \"Oswald\";\r\n\tfont-size: 16px;\r\n\tline-height: 21px;\r\n`;\r\n\r\nconst NoteTextarea = styled(Textarea)`\r\n  min-height: 131px;\r\n  resize: none;\r\n  overflow: auto;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst ButtonRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-top: 30px;\r\n`;\r\n\r\nconst FormButton = styled(Button)`\r\n  flex: 1;\r\n  height: 50px;\r\n  color: white;\r\n  font-family: \"Oswald\";\r\n  font-size: 16px;\r\n  transition: background-color 0.3s;\r\n`;\r\n\r\nconst SaveButton = styled(FormButton)`\r\n  background-color: #D43425;\r\n  margin-right: 20px;\r\n\r\n  &:hover {\r\n    background-color: #9e271c;\r\n  }\r\n\r\n  &:disabled {\r\n    background-color: gray;\r\n  }\r\n`;\r\n\r\nconst DeleteButton = styled(FormButton)`\r\n  background-color: #4A4A4A;\r\n  visibility: ${props => props.invisible ? 'hidden' : 'visible'};\r\n\r\n  &:hover {\r\n    background-color: #282828;\r\n  }\r\n`;\r\n\r\nconst EventTimeContainer = styled.div`\r\n  padding: 15px;\r\n  background-color: white;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n  @media ${breakpoints.small} {\r\n    input {\r\n      flex: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nconst EventTimeInputRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nconst EventTimePicker = styled(MultipleDatePicker)`\r\n  background-color: #F2F2F2;\r\n  height: 40px;\t\r\n  width: 234px;\r\n  font-size: 12px;\r\n  margin-right: 15px;\r\n  font-family: \"Open Sans\";\r\n  color: #4A4A4A;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center\r\n`;\r\n\r\nconst EventAddButton = styled(Button)`\r\n  flex: 1;\r\n  color: white;\r\n  background-color: #F36442;\r\n  font-size: 15px;\r\n  font-family: 'Oswald';\r\n  transition: background-color 0.3s;\r\n  \r\n  min-width: 80px;\r\n  max-width: 150px;\r\n\r\n  &:hover {\r\n    background-color: #c95238;\r\n  }\r\n\r\n  &:disabled {\r\n    background-color: gray;\r\n  }\r\n`;\r\n\r\nconst EventListContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 30px;\r\n`;\r\n\r\nconst EventList = styled(List)``;\r\n\r\nconst EventListLabel = styled(Label)``;\r\n\r\nconst EventListItem = styled.li`\r\n  background-color: #4A4A4A;\r\n  color: white;\r\n  height: 50px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 15px 17px 15px 17px;\r\n  color: #D8D8D8;\r\n\r\n  & + & {\r\n    margin-top: 12px;\r\n  };\r\n`;\r\n\r\nconst EventDeleteIcon = styled(Icons.X)`\r\n  width: 20px;\r\n  height: 20px;\r\n`;\r\n\r\nconst EventDeleteButton = styled(Button)``;\r\n","\r\nexport default function isValidDate(date) {\r\n  return date instanceof Date && !Number.isNaN(date.getTime());\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  background: #000;\r\n`;\r\n","import styled from 'styled-components';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\nexport default styled.li`\r\n    color: ${props => props.active \r\n        ? (props.activeTextColor || '#D43425' )\r\n        : (props.inactiveTextColor || 'white')\r\n    };\r\n    background-color: ${props => props.active\r\n        ? (props.activeBackgroundColor || 'white') \r\n        : (props.inactiveBackgroundColor || '#D43425')\r\n    };\r\n    font-family: 'Oswald', sans-serif;\r\n    font-size: 16px;\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    min-width: 142px;\r\n    padding: 10px 20px 10px 20px;\r\n    border-radius: 5px 5px 0 0;\r\n    cursor: pointer;\r\n\r\n    * + & {\r\n        margin-left: 8px;\r\n    }\r\n\r\n    &:last-child {\r\n        margin-right: 8px;\r\n    }\r\n\r\n    @media ${breakpoints.small} {\r\n        flex: 1 1 100%;\r\n        font-size: 14px;\r\n        min-width: 0;\r\n\r\n        &:last-child {\r\n            border-top-right-radius: 0;\r\n            margin-right: 0;\r\n        }\r\n\r\n        &:first-child {\r\n            border-top-left-radius: 0;\r\n        }\r\n    }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.ul`\r\n  list-style: none;\r\n  display: flex;\r\n  justify-content: ${props => props.flipped ? 'flex-start' : 'flex-end'};\r\n  padding-top: 26px;\r\n  padding-left: 0; // override default user agent ul style\r\n  margin: 0;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport Select from './Select';\r\nimport getId from '../utils/getId';\r\n\r\n@observer\r\nclass TermSelect extends Component {\r\n  render() {\r\n    const { schoolYear, value, ...rest } = this.props;\r\n\r\n    return (\r\n      <Select {...rest} value={(schoolYear && getId(value)) || null}>\r\n        {schoolYear && schoolYear.sortedTerms.map(term =>\r\n          <option\r\n            key={term.id}\r\n            value={term.id}\r\n            disabled={term.isInFuture}\r\n          >\r\n            {schoolYear.capitalizedTermType} {term.index + 1}\r\n          </option>\r\n        )}\r\n      </Select>\r\n    );\r\n  }\r\n};\r\nexport default TermSelect;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Route, Switch, withRouter } from 'react-router-dom';\r\nimport { observable, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\n\r\nimport StudentActivityList from './StudentActivityList';\r\nimport StudentRisksView from './StudentRisksView';\r\nimport EditActivityForm from './EditActivityForm';\r\nimport TabContainer from './TabContainer';\r\nimport Tab from './Tab';\r\nimport Tabs from './Tabs';\r\nimport TermSelect from './TermSelect';\r\nimport { Pending, Resolved, Rejected } from './Task';\r\nimport * as breakpoints from '../breakpoints';\r\nimport Button from './Button';\r\nimport { PenSquare } from './Icons';\r\n\r\nconst checkIsRiskRoute = pathname => /\\/risks\\/\\d+\\/?/.test(pathname);\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass StudentInfoView extends Component {\r\n  @observable loadActivitiesTask = null;\r\n  @observable activities = [];\r\n  @observable expandedGroups = [];\r\n\r\n  componentDidMount() {\r\n    this.loadActivities();\r\n  }\r\n\r\n  async loadActivities() {\r\n    const { store } = this.props;\r\n    const { student, schoolYear } = this.props;\r\n    if (student.isPostSchool) return;\r\n    this.loadActivitiesTask = store.fetchStudentActivities(student, schoolYear);\r\n    this.activities = await this.loadActivitiesTask;\r\n  }\r\n\r\n  @action.bound handleTermChange(event) {\r\n    const termId = +event.target.value;\r\n    const { student, schoolYear } = this.props;\r\n\r\n    this.props.history.push(student.getRisksRoute(schoolYear, termId));\r\n  }\r\n\r\n  @action.bound handleActivitiesTabClick() {\r\n    const { student, schoolYear } = this.props;\r\n    this.props.history.push(student.getViewRoute(schoolYear));\r\n  }\r\n\r\n  @action.bound handleRisksTabClick() {\r\n    const { student, schoolYear } = this.props;\r\n    this.props.history.push(student.getRisksRoute(schoolYear));\r\n  }\r\n\r\n  @action.bound handleActivityCreated(activity) {\r\n    const [newActivity] = activity\r\n    this.activities.push(newActivity);\r\n  }\r\n\r\n  @action.bound handleActivityDeleted(activity) {\r\n    this.activities.remove(activity);\r\n  }\r\n\r\n  @action.bound async handleStudentEditClick(student) {\r\n    const { history, store, schoolYear } = this.props;\r\n\r\n    if (!store.isCurrentSchoolYear(schoolYear) && !await student.confirmHistoricEdit()) return;\r\n\r\n    history.push(student.getEditRoute(schoolYear));\r\n  }\r\n\r\n  renderTabs() {\r\n    const { pathname } = this.props.location;\r\n    const isRiskRoute = checkIsRiskRoute(pathname);\r\n\r\n    return (\r\n      <StudentTabContainer>\r\n        <StudentTabs>\r\n          <StudentTab\r\n            onClick={this.handleActivitiesTabClick}\r\n            active={!isRiskRoute}\r\n          >\r\n            ACTIVITIES\r\n          </StudentTab>\r\n          <StudentTab\r\n            onClick={this.handleRisksTabClick}\r\n            active={isRiskRoute}\r\n            data-risk-tab\r\n          >\r\n            RISK FACTORS & SKILLS\r\n          </StudentTab>\r\n        </StudentTabs>\r\n      </StudentTabContainer>\r\n    );\r\n  }\r\n\r\n  renderSubroutes = () => {\r\n    const { activities } = this;\r\n    const { store, student, schoolYear } = this.props;\r\n\r\n    return (\r\n      <Switch>\r\n\r\n        <Route path=\"/*/risks/:termId\" render={props => {\r\n          const termId = +props.match.params.termId;\r\n          const term = schoolYear.terms.find(term => term.id === termId);\r\n          if (!term) return null;\r\n\r\n          return (\r\n            <React.Fragment>\r\n              {this.renderTabs()}\r\n              <StudentRisksView student={student} schoolYear={schoolYear} term={term} />\r\n            </React.Fragment>\r\n          );\r\n        }} />\r\n\r\n        <Route path=\"/*/activities/create/:groupId\" render={props => {\r\n          const groupId = +props.match.params.groupId;\r\n          const group = store.getActivityTypeGroupById(groupId);\r\n\r\n          return (\r\n            <EditActivityForm\r\n              key=\"create-activity\"\r\n              student={student}\r\n              schoolYear={schoolYear}\r\n              group={group}\r\n              onCreateActivity={this.handleActivityCreated}\r\n            />\r\n          );\r\n        }} />\r\n\r\n        <Route path=\"/*/activities/edit/:activityId\" render={props => {\r\n          const activityId = +props.match.params.activityId;\r\n          const activity = activities.find(activity => activity.id === activityId);\r\n          if (!activity) return null;\r\n\r\n          const group = store.getActivityTypeGroupById(activity.activityType.activityTypeGroupId);\r\n\r\n          return (\r\n            <EditActivityForm\r\n              key=\"edit-activity\"\r\n              student={student}\r\n              schoolYear={schoolYear}\r\n              group={group}\r\n              activity={activity}\r\n              onDeleteActivity={this.handleActivityDeleted}\r\n            />\r\n          );\r\n        }} />\r\n\r\n        <Route path=\"/\" render={() =>\r\n          <>\r\n            {this.renderTabs()}\r\n            <StudentActivityList\r\n              student={student}\r\n              schoolYear={schoolYear}\r\n              activities={activities}\r\n            />\r\n          </>\r\n        } />\r\n\r\n      </Switch>\r\n    );\r\n  };\r\n\r\n  renderPostSchoolContent() {\r\n    const { student } = this.props;\r\n    const { postSchoolOutcome, exitCategory } = student;\r\n    return (\r\n      <PostSchoolContent>\r\n        <StudentTabContainer>\r\n          <StudentTabs>\r\n            <StudentTab active>\r\n              POST-SCHOOL TRACKING\r\n            </StudentTab>\r\n          </StudentTabs>\r\n        </StudentTabContainer>\r\n        <PostSchoolContentBody>\r\n          <h2>Exit Category</h2>\r\n          <h3>{exitCategory || 'No Data'}</h3>\r\n\r\n          <h2>Post School Category</h2>\r\n          <h3>{postSchoolOutcome || 'No Data'}</h3>\r\n        </PostSchoolContentBody>\r\n      </PostSchoolContent>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { student, schoolYear } = this.props;\r\n    const { loadActivitiesTask } = this;\r\n\r\n    return (\r\n      <Root>\r\n        <Main>\r\n          <Header>\r\n            <StudentText>\r\n              <StudentName>{student.fullName}</StudentName>\r\n              <StudentDescription>{student.description}</StudentDescription>\r\n            </StudentText>\r\n            <SideHeader>\r\n              <Route path=\"/*/risks/:termId\" render={props =>\r\n                <StyledTermSelect\r\n                  hidden={schoolYear.termType === 'annual'}\r\n                  value={props.match.params.termId}\r\n                  schoolYear={schoolYear}\r\n                  onChange={this.handleTermChange}\r\n                />\r\n              } />\r\n\r\n              <Button onClick={this.handleStudentEditClick.bind(null, student)}>\r\n                <EditIcon />\r\n              </Button>\r\n            </SideHeader>\r\n          </Header>\r\n          {student.isPostSchool\r\n            ? this.renderPostSchoolContent()\r\n            : <Content>\r\n              <Resolved task={loadActivitiesTask}>\r\n                {this.renderSubroutes}\r\n              </Resolved>\r\n\r\n              <Rejected task={loadActivitiesTask}>\r\n                {error => error.message}\r\n              </Rejected>\r\n\r\n              <Pending task={loadActivitiesTask}>\r\n                {this.renderSubroutes}\r\n              </Pending>\r\n            </Content>\r\n          }\r\n        </Main>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StudentInfoView;\r\n\r\nconst SideHeader = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst EditIcon = styled(PenSquare)`\r\n  width: 19px;\r\n  height: 19px;\r\n`;\r\n\r\nconst Root = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  background-color: #F0F0F0;\r\n  max-width: 100vw;\r\n`;\r\n\r\nconst Main = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  position: relative;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst PostSchoolContent = styled(Content)`\r\n  flex: 1;\r\n`;\r\n\r\nconst PostSchoolContentBody = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #D43425;\r\n  flex: 1;\r\n  padding: 50px;\r\n\r\n  h2 {\r\n    color: white;\r\n    margin: 0;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    line-height: 19px;\r\n  }\r\n\r\n  h3 {\r\n    margin: 7px 0 23px;\r\n    color: #A20B0E;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    line-height: 17px;\r\n  }\r\n`;\r\n\r\nconst StudentTabs = styled(Tabs).attrs({ flipped: true })`\r\n  padding-left: 38px;\r\n  padding-top: 0;\r\n  max-width: 100%;\r\n\r\n  @media ${breakpoints.small} {\r\n    padding-left: 0;\r\n  }\r\n`;\r\n\r\nconst StudentTabContainer = styled(TabContainer)`\r\n  border-bottom: 0px solid white;\r\n  background-color: #F0F0F0;\r\n  height: auto;\r\n  max-width: 100%;\r\n`;\r\n\r\nconst StudentTab = styled(Tab).attrs({\r\n  activeBackgroundColor: '#D43425',\r\n  inactiveBackgroundColor: 'white',\r\n  activeTextColor: 'white',\r\n  inactiveTextColor: '#D43425',\r\n})``;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  max-height: 75px;\r\n  min-height: 75px;\r\n  margin: 9px 30px 9px 0;\r\n\r\n  @media ${breakpoints.small} {\r\n    max-height: none;\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    margin-bottom: 0;\r\n    margin-right: 0;\r\n  }\r\n`;\r\n\r\nconst StudentText = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  color: #4A4A4A;\r\n  padding: 0 30px 11px 30px;\r\n\r\n  @media ${breakpoints.small} {\r\n    border-bottom: 1px solid #D43425;\r\n  }\r\n`;\r\n\r\nconst StudentName = styled.h1`\r\n  font-size: 22px;\r\n  font-weight: bold;\r\n  margin: 0 0 0 0;\r\n`;\r\n\r\nconst StudentDescription = styled.h2`\r\n  font-size: 12px;\r\n  line-height: 14px;\r\n  margin: 5px 0 0 0;\r\n`;\r\n\r\nconst StyledTermSelect = styled(TermSelect)`\r\n  margin-right: 8px;\r\n  min-width: 150px;\r\n  background-color: #E7E7E7;\r\n  border-radius: 4px;\r\n  color: #9B9B9B;\r\n  overflow: hidden;\r\n  @media ${breakpoints.small} {\r\n    margin: 8px 10px 12px 10px;\r\n  }\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport capitalize from 'lodash/capitalize';\r\nimport Button from './Button';\r\nimport Checkbox from './Checkbox';\r\nimport toggleArrayValue from '../utils/toggleArrayValue';\r\nimport * as Icons from './Icons';\r\nimport enums from '../enums';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\n@inject('store')\r\n@observer\r\nclass StudentFilterForm extends Component {\r\n  @observable selectedGrades = (this.props.filter && this.props.filter.grades.slice()) || [];\r\n  @observable selectedDisabilities =  (this.props.filter && this.props.filter.disabilities.slice()) || [];\r\n  @observable selectedRiskLevels = (this.props.filter && this.props.filter.riskLevels.slice()) || [];\r\n  @observable selectedSupportNeeded = (this.props.filter && this.props.filter.supportNeeded.slice()) || [];\r\n  @observable selectedRaces = (this.props.filter && this.props.filter.races.slice()) || [];\r\n\r\n  @action.bound handleGradeToggle(grade) {\r\n    toggleArrayValue(this.selectedGrades, grade);\r\n  }\r\n\r\n  @action.bound handleGradeHeaderClick() {\r\n    if(this.selectedGrades.length === enums.grades.length) {\r\n      this.selectedGrades = [];\r\n    } else {\r\n      this.selectedGrades = enums.grades.slice();\r\n    }\r\n  }\r\n\r\n  @action.bound handleRiskLevelToggle(riskLevel) {\r\n    toggleArrayValue(this.selectedRiskLevels, riskLevel);\r\n  }\r\n\r\n  @action.bound handleRiskLevelHeaderClick() {\r\n    if(this.selectedRiskLevels.length === enums.riskLevels.length) {\r\n      this.selectedRiskLevels = [];\r\n    } else {\r\n      this.selectedRiskLevels = enums.riskLevels.slice();\r\n    }\r\n  }\r\n\r\n  @action.bound handleDisabilityToggle(disability) {\r\n    toggleArrayValue(this.selectedDisabilities, disability);\r\n  }\r\n\r\n  @action.bound handleDisabilityHeaderClick() {\r\n    const { disabilities } = this.props.store;\r\n    if(this.selectedDisabilities.length === disabilities.length) {\r\n      this.selectedDisabilities = [];\r\n    } else {\r\n      this.selectedDisabilities = disabilities.slice();\r\n    }\r\n  }\r\n\r\n  @action.bound handleSupportNeededToggle(supportNeeded) {\r\n    toggleArrayValue(this.selectedSupportNeeded, supportNeeded);\r\n  }\r\n\r\n  @action.bound handleRaceToggle(race) {\r\n    toggleArrayValue(this.selectedRaces, race);\r\n  }\r\n\r\n  @action.bound handleSupportNeededHeaderClick() {\r\n    if(this.selectedSupportNeeded.length === enums.supportNeeded.length) {\r\n      this.selectedSupportNeeded = [];\r\n    } else {\r\n      this.selectedSupportNeeded = enums.supportNeeded.slice();\r\n    }\r\n  }\r\n\r\n  @action.bound handleRaceHeaderClick() {\r\n    if(this.selectedRaces.length === enums.races.length) {\r\n      this.selectedRaces = [];\r\n    } else {\r\n      this.selectedRaces = enums.races.slice();\r\n    }\r\n  }\r\n\r\n  @action.bound handleClearClick() {\r\n    this.selectedGrades = [];\r\n    this.selectedDisabilities = [];\r\n    this.selectedRiskLevels = [];\r\n    this.selectedSupportNeeded = [];\r\n    this.selectedRaces = [];\r\n  }\r\n\r\n  @action.bound handleSubmitClick() {\r\n    const { onSubmit } = this.props;\r\n    if(onSubmit) {\r\n      const { selectedGrades, selectedDisabilities, selectedRiskLevels, selectedSupportNeeded, selectedRaces } = this;\r\n      if(\r\n        !selectedGrades.length &&\r\n        !selectedDisabilities.length &&\r\n        !selectedRiskLevels.length &&\r\n        !selectedSupportNeeded.length &&\r\n        !selectedRaces.length\r\n      ) {\r\n        onSubmit(null);\r\n      } else {\r\n        onSubmit({\r\n          grades: selectedGrades.slice(),\r\n          disabilities: selectedDisabilities.slice(),\r\n          riskLevels: selectedRiskLevels.slice(),\r\n          supportNeeded: selectedSupportNeeded.slice(),\r\n          races: selectedRaces.slice(),\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { disabilities } = this.props.store;\r\n    const { onClose, ...rest } = this.props;\r\n    const { selectedDisabilities, selectedGrades, selectedRiskLevels, selectedSupportNeeded, selectedRaces } = this;\r\n\r\n    return (\r\n      <Root {...rest}>\r\n\r\n        <Header>\r\n          <ClearButton onClick={this.handleClearClick}>clear filters</ClearButton>\r\n          <Title>FILTER STUDENTS</Title>\r\n          <CloseButton onClick={onClose}>\r\n            <CloseIcon/>\r\n          </CloseButton>\r\n        </Header>\r\n\r\n        <Checkboxes>\r\n          <CheckboxRow>\r\n            <CheckboxColumn>\r\n              <CheckboxColumnHeader onClick={this.handleGradeHeaderClick}>Grade</CheckboxColumnHeader>\r\n              {enums.grades.slice(0,7).map(grade =>\r\n                <FilterCheckbox\r\n                  key={grade}\r\n                  label={grade}\r\n                  checked={selectedGrades.includes(grade)}\r\n                  onChange={this.handleGradeToggle.bind(null, grade)}\r\n                />\r\n              )}\r\n            </CheckboxColumn>\r\n            <CheckboxColumn>\r\n              <CheckboxColumnHeader/>\r\n              {enums.grades.slice(7).map(grade =>\r\n                <FilterCheckbox\r\n                  key={grade}\r\n                  label={grade}\r\n                  checked={selectedGrades.includes(grade)}\r\n                  onChange={this.handleGradeToggle.bind(null, grade)}\r\n                />\r\n              )}\r\n            </CheckboxColumn>\r\n            <CheckboxColumn>\r\n              <CheckboxColumnHeader onClick={this.handleDisabilityHeaderClick}>Category</CheckboxColumnHeader>\r\n              {disabilities.slice(0, 6).map(disability =>\r\n                <FilterCheckbox\r\n                  key={disability.id}\r\n                  label={disability.name}\r\n                  checked={selectedDisabilities.includes(disability)}\r\n                  onChange={this.handleDisabilityToggle.bind(null, disability)}\r\n                />\r\n              )}\r\n            </CheckboxColumn>\r\n            <CheckboxColumn>\r\n              <CheckboxColumnHeader/>\r\n              {disabilities.slice(6).map(disability =>\r\n                <FilterCheckbox\r\n                  key={disability.id}\r\n                  label={disability.name}\r\n                  checked={selectedDisabilities.includes(disability)}\r\n                  onChange={this.handleDisabilityToggle.bind(null, disability)}\r\n                />\r\n              )}\r\n            </CheckboxColumn>\r\n          </CheckboxRow>\r\n\r\n          <CheckboxRow>\r\n            <CheckboxColumn>\r\n              <CheckboxColumnHeader onClick={this.handleRiskLevelHeaderClick}>Risk Level</CheckboxColumnHeader>\r\n              {enums.riskLevels.map(riskLevel =>\r\n                <FilterCheckbox\r\n                  key={riskLevel}\r\n                  label={capitalize(riskLevel)}\r\n                  checked={selectedRiskLevels.includes(riskLevel)}\r\n                  onChange={this.handleRiskLevelToggle.bind(null, riskLevel)}\r\n                />  \r\n              )}\r\n            </CheckboxColumn>\r\n\r\n            <CheckboxColumn>\r\n              <CheckboxColumnHeader onClick={this.handleSupportNeededHeaderClick}>Intervention</CheckboxColumnHeader>\r\n              {enums.supportNeeded.map(supportType =>\r\n                <FilterCheckbox\r\n                  key={supportType}\r\n                  label={capitalize(supportType)}\r\n                  checked={selectedSupportNeeded.includes(supportType)}\r\n                  onChange={this.handleSupportNeededToggle.bind(null, supportType)}\r\n                />  \r\n              )}\r\n            </CheckboxColumn>\r\n          </CheckboxRow>\r\n\r\n          <CheckboxRow>\r\n            <CheckboxColumn>\r\n              <CheckboxColumnHeader onClick={this.handleRaceHeaderClick}>Race</CheckboxColumnHeader>\r\n              {enums.races.slice(0, 4).map(race =>\r\n                <FilterCheckbox\r\n                  key={race}\r\n                  label={enums.raceLabels[race]}\r\n                  checked={selectedRaces.includes(race)}\r\n                  onChange={this.handleRaceToggle.bind(null, race)}\r\n                />  \r\n              )}\r\n            </CheckboxColumn>\r\n\r\n            <CheckboxColumn>\r\n              <CheckboxColumnHeader/>\r\n              {enums.races.slice(4).map(race =>\r\n                <FilterCheckbox\r\n                  key={race}\r\n                  label={enums.raceLabels[race]}\r\n                  checked={selectedRaces.includes(race)}\r\n                  onChange={this.handleRaceToggle.bind(null, race)}\r\n                />  \r\n              )}\r\n            </CheckboxColumn>\r\n          </CheckboxRow>\r\n        </Checkboxes>\r\n\r\n        <Spacer/>\r\n        <SaveButton onClick={this.handleSubmitClick}>SAVE FILTERS</SaveButton>\r\n        <SaveButtonPlaceholder/>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StudentFilterForm;\r\n\r\nconst Root = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(74, 74, 74, 0.95);\r\n  z-index: 10;\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 80px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 40px 0 40px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  color: white;\r\n  font-family: \"Oswald\";\r\n  font-size: 16px;\r\n`;\r\n\r\nconst SaveButton = styled(Button)`\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  max-width: 450px;\r\n  height: 50px;\r\n  color: white;\r\n  font-family: \"Oswald\";\r\n  font-size: 16px;\r\n  background-color: #F5633A;\r\n  flex-shrink: 0;\r\n\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    max-width: 100%;\r\n  }\r\n`;\r\n\r\nconst SaveButtonPlaceholder = styled.div`\r\n  width: 100%;\r\n  height: 50px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst Spacer = styled.div`\r\n  flex: 1 1 auto;\r\n  min-height: 20px;\r\n`;\r\n\r\nconst CloseButton = styled(Button)`\r\n  width: 80px;\r\n  text-align: right;\r\n`;\r\n\r\nconst CloseIcon = styled(Icons.X)`\r\n  width: 22px;\r\n  height: 22px;\r\n`;\r\n\r\nconst ClearButton = styled(Button)`\r\n  color: black;\r\n  font-size: 12px;\r\n  text-decoration: underline;\r\n  width: 80px;\r\n`;\r\n\r\nconst Checkboxes = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  margin: 0 40px 0 40px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst FilterCheckbox = styled(Checkbox).attrs({\r\n  checkboxColor:'black', \r\n  labelColor:'white',\r\n})`\r\n  & + & {\r\n    margin-top: 12px;\r\n  }\r\n`;\r\n\r\nconst CheckboxColumn = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: visible;\r\n  flex: 1 1 100%;\r\n`;\r\n\r\nconst CheckboxRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  * + & {\r\n    margin-top: 15px;\r\n  }\r\n  height: 100%;\r\n`;\r\n\r\nconst CheckboxColumnHeader = styled.div`\r\n\tcolor: #F5633A;\r\n\tfont-size: 14px;\r\n  font-weight: bold;\r\n  margin-bottom: 7px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n`;","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  max-width: 7px;\r\n  min-width: 7px;\r\n  height: 100%;\r\n  background-color: white;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from './Button';\r\nimport * as Icons from '../components/Icons';\r\n\r\n\r\nexport default props => {\r\n    return (\r\n        <Root {...props}>\r\n            <FiltersIcon />\r\n        </Root>\r\n    );\r\n}\r\n\r\n\r\nconst Root = styled(Button)`\r\n  width: 50px;\r\n  background: inherit;\r\n`\r\n\r\nconst FiltersIcon = styled(Icons.OrangeSettings)`\r\n  width: 25px;\r\n  height: 20px;\r\n`;","import React, { Component } from 'react'\r\nimport styled from 'styled-components';\r\nimport Button from './Button';\r\nimport { observer } from 'mobx-react';\r\nimport { action } from 'mobx';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { RedCirclePlus } from './Icons';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\n@withRouter\r\n@observer\r\nclass MultipleStudentActivityListItem extends Component {\r\n  @action.bound handleActivityCreateClick() {\r\n    const { history, group, location } = this.props\r\n    history.push(`${location.pathname}/activities/create/${group.id}`)\r\n  }\r\n\r\n  render() {\r\n    const { group } = this.props\r\n    const { handleActivityCreateClick } = this\r\n\r\n    return (\r\n      <Root>\r\n        <ActivityListItem>\r\n          <ActivityListItemContainer>\r\n            <ActivityGroupName>{group.name}</ActivityGroupName>\r\n            <Button onClick={handleActivityCreateClick}>\r\n              <AddIcon />\r\n            </Button>\r\n          </ActivityListItemContainer>\r\n        </ActivityListItem>\r\n      </Root>\r\n    )\r\n  }\r\n}\r\nexport default MultipleStudentActivityListItem;\r\n\r\nconst AddIcon = styled(RedCirclePlus)`\r\n  height: 22px;\r\n  width: 22px;\r\n`;\r\n\r\nconst ActivityGroupName = styled.span`\r\n  margin-left: 35px;\r\n`\r\n\r\nconst ActivityListItemContainer = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: space-between;\r\n  flex-direction: row;\r\n`\r\n\r\nconst ActivityListItem = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  background-color: #D43425;\r\n  padding: 0 40px 0 40px;\r\n  height: 60px;\r\n\r\n  @media ${breakpoints.small} {\r\n    padding: 0 20px 0 20px;\r\n  }\r\n`\r\n\r\nconst Root = styled.li`\r\n  color: white;\r\n  margin: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  &:not(:first-child) {\r\n    border-top: 1px solid #A20B0E;\r\n  }\r\n  \r\n  &:last-child {\r\n    border-bottom: 1px solid #A20B0E;\r\n  }\r\n`","import React, { Component } from 'react';\r\nimport styled from 'styled-components'\r\nimport { observer, inject } from 'mobx-react';\r\nimport * as breakpoints from '../breakpoints'\r\nimport { XIcon } from './Icons';\r\nimport Button from './Button';\r\nimport Tabs from './Tabs';\r\nimport Tab from './Tab';\r\nimport TabContainer from './TabContainer'\r\nimport List from './List';\r\nimport MultipleStudentActivityListItem from './MultipleStudentActivityListItem';\r\nimport { Route, Switch, withRouter } from 'react-router-dom';\r\nimport EditActivityForm from './EditActivityForm';\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass MultipleStudentInfoView extends Component {\r\n\r\n  ActivityList = () => {\r\n    const { MultipleStudentTabs } = this\r\n    const { store } = this.props;\r\n    const { activityTypeGroups } = store\r\n    return (\r\n      <>\r\n        <MultipleStudentTabs />\r\n        <ListRoot>\r\n          <GroupList>\r\n            {activityTypeGroups.map(group => (\r\n              <MultipleStudentActivityListItem key={group.id} group={group} />\r\n            ))}\r\n          </GroupList>\r\n        </ListRoot>\r\n      </>\r\n    )\r\n  }\r\n\r\n  SelectedStudent = ({ id, name }) => {\r\n    const { handleStudentRemove } = this.props\r\n    return (\r\n      <SelectedStudentItem>\r\n        <Button onClick={() => handleStudentRemove(id)} >\r\n          <RemoveIcon />\r\n        </Button>\r\n        <SelectedStudentText>{name}</SelectedStudentText>\r\n      </SelectedStudentItem>\r\n    )\r\n  }\r\n\r\n  MultipleStudentTabs = () => {\r\n    return (\r\n      <MultipleTabContainer>\r\n        <MultipleTabs>\r\n          <MultipleTab active={true}>\r\n            ACTIVITIES\r\n          </MultipleTab>\r\n        </MultipleTabs>\r\n      </MultipleTabContainer>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { selectedStudents, schoolYear, location, store } = this.props\r\n    const { SelectedStudent, ActivityList } = this\r\n\r\n    const numberSelected = `${selectedStudents.length} Students Selected`\r\n    return (\r\n      <Root>\r\n        <Main>\r\n          <Header>\r\n            <SelectedHeader>\r\n              <StudentsSelected>{numberSelected}</StudentsSelected>\r\n              <StudentsSelectedSubtitle>\r\n                You will be adding an activity to multiple students.\r\n              </StudentsSelectedSubtitle>\r\n              <SelectedStudentRow>\r\n                {selectedStudents.map((s, key) => <SelectedStudent key={key} name={s.fullName} id={s.id} />)}\r\n              </SelectedStudentRow>\r\n            </SelectedHeader>\r\n          </Header>\r\n          <Content>\r\n            <Switch>\r\n              <Route path={`/*/multiple/activities/create/:groupId`} render={props => {\r\n                const groupId = +props.match.params.groupId\r\n                const group = store.getActivityTypeGroupById(groupId)\r\n                return (\r\n                  <FormContainer>\r\n                    <EditActivityForm\r\n                      key=\"create-activity\"\r\n                      schoolYear={schoolYear}\r\n                      group={group}\r\n                      students={selectedStudents}\r\n                    />\r\n                  </FormContainer>\r\n                )\r\n              }} />\r\n              <Route path={`${location.pathname}/`} render={ActivityList} />\r\n            </Switch>\r\n          </Content>\r\n        </Main>\r\n      </Root>\r\n    )\r\n  }\r\n}\r\nexport default MultipleStudentInfoView;\r\n\r\nconst FormContainer = styled.div`\r\n  margin-top: 20px;\r\n`\r\n\r\nconst GroupList = styled(List)`\r\n  flex: 1;\r\n  z-index: 2;\r\n  overflow: visible;\r\n`\r\n\r\nconst ListRoot = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  background-color: #D43425;\r\n`\r\n\r\nconst MultipleTab = styled(Tab).attrs({\r\n  activeBackgroundColor: '#D43425',\r\n  inactiveBackgroundColor: 'white',\r\n  activeTextColor: 'white',\r\n  inactiveTextColor: '#D43425'\r\n})``\r\n\r\nconst MultipleTabs = styled(Tabs)`\r\n  padding-left: 38px;\r\n  padding-top: 0;\r\n  max-width: 100%;\r\n  justify-content: flex-start;\r\n`\r\n\r\nconst MultipleTabContainer = styled(TabContainer)`\r\n  border-bottom: 0px solid white;\r\n  background-color: #F0F0F0;\r\n  height: auto;\r\n  max-width: 100%;\r\n  margin-top: 20px;\r\n`\r\n\r\nconst Content = styled.div`\r\n  position: relative;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst SelectedStudentItem = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-right: 12px;\r\n`\r\n\r\nconst SelectedStudentText = styled.div`\r\n  font-size: 12px;\r\n  font-family: 'Open Sans';\r\n  font-weight: bold;\r\n  color: #555555;\r\n`\r\n\r\nconst SelectedStudentRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\n// Found these filters throught this codepen: https://codepen.io/sosuke/pen/Pjoqqp\r\nconst RemoveIcon = styled(XIcon)`\r\n  margin-right: 4px;\r\n  filter: invert(98%) sepia(2%) saturate(1959%) hue-rotate(188deg) brightness(116%) contrast(69%);\r\n  cursor: pointer;\r\n  &:hover {\r\n    filter: invert(47%) sepia(50%) saturate(2353%) hue-rotate(338deg) brightness(99%) contrast(94%);\r\n  }\r\n`\r\n\r\nconst StudentsSelectedSubtitle = styled.div`\r\n  font-size: 12px;\r\n  margin-bottom: 13px;\r\n`\r\n\r\nconst StudentsSelected = styled.div`\r\n  font-size: 22px;\r\n  font-weight: bold;\r\n`\r\n\r\nconst SelectedHeader = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 30px 30px 11px 30px;\r\n  color: #4A4A4A;\r\n`\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  max-height: 75px;\r\n  min-height: 75px;\r\n  margin: 9px 30px 9px 0;\r\n  justify-content: space-between;\r\n\r\n  @media ${breakpoints.small} {\r\n    max-height: none;\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    margin-bottom: 0;\r\n    margin-right: 0;\r\n  }\r\n`\r\n\r\nconst Main = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n`\r\n\r\nconst Root = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  background-color: #F0F0F0;\r\n  max-width: 100vew;\r\n`","import React, { Component } from 'react';\r\nimport { observable, computed, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Route, Redirect, withRouter } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport swal from 'sweetalert2';\r\nimport downloadString from '../utils/downloadString';\r\nimport Section from '../components/Section';\r\nimport Button from '../components/Button';\r\nimport Select from '../components/Select';\r\nimport StudentList from '../components/StudentList';\r\nimport StudentListItem from '../components/StudentListItem';\r\nimport Screen from '../components/Screen';\r\nimport EditStudentForm from '../components/EditStudentForm';\r\nimport CreateStudentForm from '../components/CreateStudentForm';\r\nimport StudentInfoView from '../components/StudentInfoView';\r\nimport StudentFilterForm from '../components/StudentFilterForm';\r\nimport Divider from '../components/Divider';\r\nimport AsyncTask from '../models/AsyncTask';\r\nimport SpinnerOverlay from '../components/SpinnerOverlay';\r\nimport { Pending } from '../components/Task';\r\nimport responsive from '../utils/responsive';\r\nimport * as Icons from '../components/Icons';\r\nimport * as breakpoints from '../breakpoints';\r\nimport OpenFiltersButton from '../components/OpenFiltersButton';\r\nimport RadioButton from '../components/RadioButton';\r\nimport MultipleStudentInfoView from '../components/MultipleStudentInfoView';\r\n\r\n@responsive\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass Students extends Component {\r\n  @observable search = '';\r\n  @observable filtersOpen = false;\r\n  @observable filter = null;\r\n  @observable loadTask = null;\r\n  @observable selectedStudents = []\r\n\r\n  @computed get normalizedSearch() {\r\n    return (this.search || '').trim().toLowerCase();\r\n  }\r\n\r\n  get schoolYearId() {\r\n    return this.props.schoolYearId || +this.props.match.params.schoolYearId;\r\n  }\r\n\r\n  @computed get filteredStudents() {\r\n    const { normalizedSearch, filter, students } = this;\r\n    if (!normalizedSearch.length && !filter) return students;\r\n    return students.filter(student => {\r\n      if (normalizedSearch.length && student.searchMatches(normalizedSearch)) return true;\r\n      if (filter && student.filterMatches(filter)) return true;\r\n      return false;\r\n    });\r\n  }\r\n\r\n  @computed get schoolYear() {\r\n    const { loadTask } = this;\r\n    if (!loadTask.resolved) return null;\r\n    return loadTask.result;\r\n  }\r\n\r\n  @computed get students() {\r\n    const { schoolYear } = this;\r\n    return schoolYear ? schoolYear.students : [];\r\n  }\r\n\r\n  @action.bound handleStudentClick(student) {\r\n    const { schoolYear, schoolYearId, selectedStudents } = this;\r\n    if (!selectedStudents.includes(student)) {\r\n      this.selectedStudents = selectedStudents.concat([student])\r\n    }\r\n\r\n    const path = this.selectedStudents.length === 1 ? student.getViewRoute(schoolYear) : `/${schoolYearId}/students/multiple`\r\n    if (this.props.location.pathname !== path) {\r\n      this.props.history.push(path)\r\n    }\r\n  }\r\n\r\n  @action.bound async handleCreateStudentClick() {\r\n    await this.loadTask;\r\n    const { store } = this.props;\r\n    const { schoolYear } = this;\r\n\r\n    const confirmed = schoolYear.id === store.currentSchoolYear.id || await swal({\r\n      title: 'Are you sure?',\r\n      text: `You are about to edit historical data. Are you sure you want to continue?`,\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes',\r\n      cancelButtonText: 'No'\r\n    }).then(result => result.value);\r\n\r\n    if (!confirmed) return;\r\n\r\n    this.props.history.push(`/${schoolYear.id}/students/new`);\r\n  }\r\n\r\n  @action.bound handleSearchChange(event) {\r\n    this.search = event.target.value;\r\n  }\r\n\r\n  @action.bound handleFilterPanelToggle() {\r\n    this.filtersOpen = !this.filtersOpen;\r\n  }\r\n\r\n  @action.bound handleFiltersChange(filter) {\r\n    this.filter = filter;\r\n    this.filtersOpen = false;\r\n  }\r\n\r\n  @action.bound handleSchoolYearChange(event) {\r\n    const schoolYearId = +event.target.value;\r\n    this.props.history.push(`/${schoolYearId}/students`);\r\n  }\r\n\r\n  @action.bound async handleStudentEditClick(student) {\r\n    const { history, store } = this.props;\r\n    const { schoolYear } = this;\r\n\r\n    if (!store.isCurrentSchoolYear(schoolYear) && !await student.confirmHistoricEdit()) return;\r\n\r\n    history.push(student.getEditRoute(schoolYear));\r\n  }\r\n\r\n  @action.bound async handleExportClick() {\r\n    const { schoolYear, filter, filteredStudents } = this;\r\n    const { store } = this.props;\r\n    const csvString = await store.getStudentExportData(schoolYear, filter ? filteredStudents : null);\r\n    const filename = `students-${schoolYear.yearRange}${filter ? '-filtered' : ''}.csv`;\r\n    downloadString(csvString, 'text/csv', filename);\r\n  }\r\n\r\n  @action async load() {\r\n    const { store } = this.props;\r\n    const schoolYear = store.getSchoolYearById(this.schoolYearId);\r\n\r\n    if (schoolYear && schoolYear.students.length) {\r\n      this.loadTask = AsyncTask.resolve(schoolYear);\r\n    } else {\r\n      this.loadTask = store.fetchSchoolYear(this.schoolYearId);\r\n    }\r\n  }\r\n\r\n  @action.bound handleStudentRemove(id) {\r\n    this.selectedStudents = this.selectedStudents.filter(student => student.id !== id)\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.load();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const schoolYearId = +this.props.match.params.schoolYearId;\r\n    const prevSchoolYearId = +prevProps.match.params.schoolYearId;\r\n    if (schoolYearId !== prevSchoolYearId) {\r\n      this.load();\r\n      this.filter = null;\r\n    }\r\n  }\r\n\r\n  renderLoadingSubroute() {\r\n    return (\r\n      <SubRouteWrapper>\r\n        <SpinnerOverlay open />\r\n      </SubRouteWrapper>\r\n    );\r\n  }\r\n\r\n  renderStudentListItem = (student) => {\r\n    const { selectedStudents, handleStudentClick } = this\r\n\r\n    return (\r\n      <StudentListItem key={student.id} student={student}>\r\n        <RadioButton checked={selectedStudents.includes(student)} onChange={handleStudentClick.bind(null, student)} />\r\n      </StudentListItem>\r\n    )\r\n  };\r\n\r\n  render() {\r\n    const { search, filter, schoolYearId, filteredStudents, schoolYear, loadTask, handleStudentRemove, selectedStudents } = this;\r\n    const { schoolYears } = this.props.store;\r\n\r\n    return (\r\n      <Screen>\r\n        <Main fullWidth>\r\n          <YearSelectBar>\r\n            <YearSelectLabel>School Year</YearSelectLabel>\r\n            <YearSelect value={schoolYearId} onChange={this.handleSchoolYearChange}>\r\n              {schoolYears.map(schoolYear =>\r\n                <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.year} - {schoolYear.year + 1}</option>\r\n              )}\r\n            </YearSelect>\r\n          </YearSelectBar>\r\n          <Content>\r\n            <StudentListContainer>\r\n              {this.filtersOpen &&\r\n                <StudentFilterForm\r\n                  filter={filter}\r\n                  onClose={this.handleFilterPanelToggle}\r\n                  onSubmit={this.handleFiltersChange}\r\n                />\r\n              }\r\n              <SearchForm>\r\n                <OpenFiltersButton onClick={this.handleFilterPanelToggle} />\r\n                <SearchInputContainer>\r\n                  <SearchInput onChange={this.handleSearchChange} value={search} />\r\n                  <SearchIcon />\r\n                </SearchInputContainer>\r\n                <AddStudentButton onClick={this.handleCreateStudentClick}>\r\n                  <AddIcon />\r\n                </AddStudentButton>\r\n              </SearchForm>\r\n\r\n\r\n              <StudentList\r\n                students={filteredStudents}\r\n                selectedStudents={selectedStudents}\r\n                renderItem={this.renderStudentListItem}\r\n              />\r\n\r\n              <Pending task={loadTask}>\r\n                {() => !this.props.breakpoints.mediumOrSmall && <SpinnerOverlay open />}\r\n              </Pending>\r\n\r\n              <ExportButton onClick={this.handleExportClick}>\r\n                <div />\r\n                EXPORT STUDENT DATA\r\n                <ExportIcon />\r\n              </ExportButton>\r\n            </StudentListContainer>\r\n\r\n            <StyledDivider />\r\n\r\n            <Route path={`/${schoolYearId}/students/new`} render={props => {\r\n              if (schoolYear) {\r\n                return (\r\n                  <SubRouteWrapper>\r\n                    <CreateStudentForm schoolYear={schoolYear} />\r\n                  </SubRouteWrapper>\r\n                );\r\n              } else {\r\n                return this.renderLoadingSubroute();\r\n              }\r\n            }} />\r\n\r\n            <Route path={`/${schoolYearId}/students/edit/:studentId`} render={props => {\r\n              if (!schoolYear) return this.renderLoadingSubroute();\r\n              const student = filteredStudents.find(student => student.id === +props.match.params.studentId);\r\n\r\n              if (!student) return (<Redirect to={`/${schoolYearId}/students`} />);\r\n\r\n              return (\r\n                <SubRouteWrapper>\r\n                  <EditStudentForm\r\n                    key={student.id}\r\n                    student={student}\r\n                    schoolYear={schoolYear}\r\n                  />\r\n                </SubRouteWrapper>\r\n              );\r\n            }} />\r\n\r\n            <Route path={`/${schoolYearId}/students/view/:studentId`} render={props => {\r\n              if (!schoolYear) return this.renderLoadingSubroute();\r\n              const studentId = +props.match.params.studentId;\r\n              const student = filteredStudents.find(student => student.id === studentId);\r\n\r\n              if (!student) return (<Redirect to={`/${schoolYearId}/students`} />);\r\n\r\n              return (\r\n                <SubRouteWrapper>\r\n                  <StudentInfoView\r\n                    key={`${student.id}-${schoolYear.id}` /* Force re-mounting/re-loading on change */}\r\n                    student={student}\r\n                    schoolYear={schoolYear}\r\n                  />\r\n                </SubRouteWrapper>\r\n              );\r\n            }} />\r\n\r\n            <Route path={`/${schoolYearId}/students/multiple`} render={props => {\r\n              const { selectedStudents } = this\r\n\r\n              if (selectedStudents.length <= 1) {\r\n                if (selectedStudents.length === 1) {\r\n                  const [student] = selectedStudents\r\n                  this.selectedStudents = [student]\r\n                  return (<Redirect to={student.getViewRoute(schoolYear)} />)\r\n                }\r\n                this.selectedStudents = []\r\n                return (<Redirect to={`/${schoolYearId}/students`} />)\r\n              }\r\n\r\n              return (\r\n                <SubRouteWrapper>\r\n                  <MultipleStudentInfoView\r\n                    selectedStudents={selectedStudents}\r\n                    handleStudentRemove={handleStudentRemove}\r\n                    schoolYear={schoolYear}\r\n                  />\r\n                </SubRouteWrapper>\r\n              )\r\n            }} />\r\n          </Content>\r\n        </Main>\r\n      </Screen>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Students;\r\n\r\nconst YearSelectBarHeight = 35;\r\nconst Main = styled(Section)`\r\n  position: relative;\r\n  flex: 1;\r\n  background-color: #F2F2F2;\r\n  max-height: calc(100% - ${YearSelectBarHeight}px);\r\n`;\r\n\r\nconst YearSelectBar = styled.div`\r\n  width: 100%;\r\n  height: ${YearSelectBarHeight}px;\r\n  background-color: black;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  padding: 0 44px 0 44px;\r\n`;\r\n\r\nconst Content = styled(Section.Content)`\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: row;\r\n  height: 100%;\r\n  background-color: #F2F2F2;\r\n\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst StyledDivider = styled(Divider)`\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst StudentListContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  max-width: 450px;\r\n  height: 100%;\r\n  box-shadow: 0 2px 8px 0 rgba(0,0,0,0.3);\r\n\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    max-width: none;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nconst AddStudentButton = styled(Button)`\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst AddIcon = styled(Icons.OrangeCirclePlus)`\r\n  width: 20px;\r\n  height: 20px;\r\n`;\r\n\r\nconst ExportButton = styled(Button)`\r\n  width: 100%;\r\n  height: 40px;\r\n  background-color: #262626;\r\n  color: white;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 25px 0 25px;\r\n  font-family: \"Oswald\";\r\n  font-size: 14px;\r\n`;\r\n\r\nconst ExportIcon = styled(Icons.ArrowSquare)`\r\n  width: 22px;\r\n  height: 20px;\r\n`;\r\n\r\nconst SearchForm = styled.div`\r\n  width: 100%;\r\n  height: 71px;\r\n  background-color: #F2F2F2;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding-left: 40px;\r\n  padding-right: 13px;\r\n  border-bottom: 1px solid #E1E1E1;\r\n`;\r\n\r\nconst SearchInputContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex: 1;\r\n  height: 40px;\r\n  margin-right: 14px;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  position: relative;\r\n  border: none;\r\n  outline: none;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: white;\r\n  padding-left: 20px;\r\n  color: black;\r\n  font-size: 14px;\r\n  border-radius: 5px;\r\n`;\r\n\r\nconst SearchIcon = styled(Icons.Magnifier)`\r\n  width: 18px;\r\n  height: 18px;\r\n  position: absolute;\r\n  right: 11px;\r\n  top: 11px;\r\n  pointer-events: none;\r\n`;\r\n\r\nconst YearSelectHandle = styled(Icons.WhiteChevron)`\r\n  width: 16px;\r\n  height: 8px;\r\n`;\r\n\r\nconst YearSelect = styled(Select).attrs({\r\n  Handle: () => () => (<YearSelectHandle />)\r\n})`\r\n  min-width: 120px;\r\n  background-color: inherit;\r\n  color: white;\r\n  font-size: 12px;\r\n`;\r\n\r\nconst YearSelectLabel = styled.div`\r\n\tcolor: #9B9B9B;\r\n\tfont-size: 12px;\r\n\tfont-weight: bold;\r\n  line-height: 17px;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst SubRouteWrapper = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n  overflow: auto;\r\n  flex: 1;\r\n  max-width: 100vw;\r\n\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    min-width: 440px;\r\n  }\r\n\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #F0F0F0;\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\nimport Section from '../components/Section';\r\n\r\nexport default styled(Section)`\r\n  height: 100%;\r\n  background-color: #F2F2F2;\r\n`;","import styled from 'styled-components';\r\nimport Section from '../components/Section';\r\n\r\nexport default styled(Section.Content)`\r\n  display: flex;\r\n  flex-direction: row;\r\n  position: relative;\r\n  height: 100%;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1 1 100%;\r\n  width: 450px;\r\n  max-width: 100%;\r\n  height: 100%;\r\n  background: white;\r\n  box-shadow: 0 2px 8px 0 rgba(0,0,0,0.3);\r\n  position: relative;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.li`\r\n  min-height: 70px;\r\n  padding: 14px 20px 10px 40px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  ${prop => prop.active ? 'background: #F2F2F2;' : null}\r\n  border-bottom: 1px solid #D43425;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  color: #9B9B9B;\r\n  font-size: 14px;\r\n`;","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  color: #D43425;\r\n  text-transform: uppercase;\r\n  font-family: 'Oswald', sans serif;\r\n  font-size: 18px;\r\n`;","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  color: #4A4A4A;\r\n  font-size: 14px;\r\n`;","import styled from 'styled-components';\r\nimport BlockButton from './BlockButton';\r\n\r\nexport default styled(BlockButton)`\r\n  min-width: 300px;\r\n  font-size: 18px;\r\n  text-transform: uppercase;\r\n`;\r\n","import React, { Component, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observer } from 'mobx-react';\r\nimport { observable, action, computed  } from 'mobx';\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport Title from '../Title';\r\nimport Subtitle from '../Subtitle';\r\nimport ActionButton from '../ActionButton';\r\nimport XButton from '../XButton';\r\nimport { Link } from 'react-router-dom';\r\nimport { Rejected } from '../Task';\r\nimport FormError from '../FormError';\r\nimport OpenFiltersButton from '../OpenFiltersButton';\r\nimport StudentFilterForm from '../StudentFilterForm';\r\nimport * as breakpoints from '../../breakpoints';\r\nimport Row from '../Row';\r\n\r\n@observer\r\nclass ReportFormContainer extends Component {\r\n  @observable filters = null;\r\n  onFiltersSelected = filters => {\r\n    this.filters = filters ;\r\n  }\r\n\r\n  @action.bound handleSubmit = e => {\r\n    const { onSubmit } = this.props;\r\n    onSubmit(this.filters);\r\n  }\r\n\r\n  @computed get activeFilterList() {\r\n    return this.props.includeFilters  && this.filters ? Object.keys(this.filters) : [];\r\n  }\r\n\r\n  renderActiveFiltersList() {\r\n    const { activeFilterList, filters } = this;\r\n    if (activeFilterList.length <= 0) {\r\n      return null;\r\n    }\r\n    return (\r\n      <Filters>\r\n        ( {/* opening paren, keep */}\r\n        <ActiveFilterLabel>filters:</ActiveFilterLabel>{activeFilterList\r\n          .filter(filter => filters[filter].length > 0)\r\n          .map(filter => {\r\n            //Change labels as needed\r\n            const filterLowercase = filter.toLowerCase();\r\n            if (filterLowercase === 'risklevels') {\r\n              return 'risk level';\r\n            } else if (filterLowercase === 'supportneeded') {\r\n              return 'intervention';\r\n            } else if (filterLowercase === 'disabilities') {\r\n              return 'category';\r\n            } else {\r\n              return filterLowercase\r\n            }\r\n          })\r\n          .join(', ')}\r\n        ) {/* closing paren, keep */}\r\n      </Filters>\r\n    );\r\n  }\r\n\r\n  render () {\r\n    const {\r\n      title,\r\n      subtitle,\r\n      closePath,\r\n      canRun,\r\n      submitTask,\r\n      includeFilters = false,\r\n      titleActiveFilter = title\r\n    } = this.props;\r\n    const running = submitTask && submitTask.state === 'pending';\r\n    const { activeFilterList, filters } = this;\r\n\r\n    return (\r\n      <Root>\r\n        <Top>\r\n          <FilterFormContainer filtersEnabled={includeFilters} onFiltersSelected={this.onFiltersSelected} filters={filters} />\r\n          <XButton component={Link} to={closePath || '/Reports'}/>\r\n        </Top>\r\n        <Top>\r\n          <div>\r\n              <TitleRow>\r\n                <Title>\r\n                  {activeFilterList.length > 0 ? titleActiveFilter : title}\r\n                </Title>\r\n                {this.renderActiveFiltersList()}\r\n              </TitleRow>\r\n              <Subtitle>{subtitle}</Subtitle>\r\n          </div>\r\n        </Top>\r\n        <Rejected task={submitTask}>\r\n          {error => <SubmitError error={error}/>}\r\n        </Rejected>\r\n        {this.props.children}\r\n        <ButtonContainer>\r\n          <RunReportButton onClick={this.handleSubmit} disabled={running || !canRun}>\r\n            <LoadingSpinner visible={running}/>\r\n            <RunButtonText running={running}>\r\n              {running\r\n                ? 'Running'\r\n                : 'Run Report'\r\n              }\r\n            </RunButtonText>\r\n          </RunReportButton>\r\n        </ButtonContainer>\r\n      </Root>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ReportFormContainer;\r\n\r\nconst Root = styled.div`\r\n  padding: 33px 36px 33px 36px;\r\n  width: 100%;\r\n  max-width: 100vw;\r\n  position: relative;\r\n  height: 100%;\r\n`;\r\n\r\nconst Top = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 25px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 40px;\r\n`;\r\n\r\nconst RunReportButton = styled(ActionButton)`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0;\r\n  transition: background-color 0.2s;\r\n  position: relative;\r\n\r\n  &:disabled {\r\n    background-color: #d37067;\r\n  }\r\n`;\r\n\r\nconst RunButtonText = styled.div`\r\n  transform: ${props => props.running ? 'translate(0, -10px) scale(0.8)' : 'translate(0,0) scale(1)'};\r\n  transition: transform 0.2s;\r\n  width: 100%;\r\n  text-align: center;\r\n`;\r\n\r\nconst LoadingSpinner = styled(({visible, ...rest}) => \r\n  <div {...rest}><ScaleLoader height={10} color=\"white\"/></div>\r\n)`\r\n  opacity: ${props => props.visible ? 1 : 0};\r\n  position: absolute;\r\n  left: 50%;\r\n  bottom: 3px;\r\n  transform: translate(-50%, 0);\r\n  transition: opacity 0.2s;\r\n`;\r\n\r\nconst SubmitError = styled(FormError)`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst FilterButtonContainer = styled.div`\r\n  display: flex;\r\n  visibility: ${props => props.filtersEnabled ? 'visible': 'hidden'};\r\n  color: #D43425;\r\n  font-size: 10px;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledStudentFilterForm = styled(StudentFilterForm)`\r\n  /* \r\n    The SaveFilters button is fixed position, so it needs to be targeted\r\n    so its on the right side of the page\r\n  */\r\n  >:nth-last-child(2) {\r\n    @media ${breakpoints.mediumOrSmall} {\r\n      max-width: 100%;\r\n      width: 100%;\r\n    }\r\n    max-width: 100%;\r\n    width: calc(100vw - 457px);\r\n    @media ${breakpoints.large} {\r\n      /* Width of the left navigator + with of the divider*/\r\n      left: 457px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst TitleRow = styled(Row)`\r\n  align-items: center;\r\n`;\r\n\r\nconst Filters = styled(Subtitle)`\r\n  display: flex;\r\n  padding-left: 10px;\r\n`;\r\n\r\nconst ActiveFilterLabel = styled(Filters)`\r\n  font-weight: bold;\r\n  padding-right: 2px;\r\n  padding-left: 0;\r\n`;\r\n\r\nfunction FilterFormContainer(props) {\r\n  const { filtersEnabled, onFiltersSelected, filters } = props;\r\n  const [shown, setShown] = useState(false);\r\n  return (\r\n    <React.Fragment>\r\n      <FilterButtonContainer filtersEnabled={filtersEnabled}>\r\n        <OpenFiltersButton onClick={() => setShown(true)} /><span>filter</span>\r\n      </FilterButtonContainer>\r\n      {shown && <StyledStudentFilterForm onClose={() => setShown(false)} onSubmit={onSubmit} filter={filters} />}\r\n    </React.Fragment>\r\n  );\r\n\r\n  function onSubmit(filters) {\r\n    onFiltersSelected(filters);\r\n    setShown(false);\r\n  }\r\n}","import styled from 'styled-components';\r\nimport * as breakpoints from '../../breakpoints';\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  & > * {\r\n    margin-top: 25px;\r\n    margin-right: 20px;\r\n    flex-basis: calc(50% - 20px);\r\n  }\r\n\r\n  @media ${breakpoints.small} {\r\n    & > * {\r\n      flex: 1 1 100%;\r\n      margin: 0;\r\n      width: 100%;\r\n    }\r\n\r\n    > * + * {\r\n      margin-top: 12px;\r\n    }\r\n  }\r\n`;","\r\nexport default function getReportFileName(reportName, {startYear, startTerm, endYear, endTerm, student, filtered}) {\r\n  try {\r\n    const startTermLabel = (!startTerm || startYear.termType === 'annual')\r\n      ? '' \r\n      : `-${startYear.termType[0].toUpperCase()}${startTerm.index + 1}`;\r\n\r\n    const endTermLabel = (!endYear || !endTerm || endYear.termType === 'annual') \r\n      ? ''\r\n      : `-${endYear.termType[0].toUpperCase()}${endTerm.index + 1}`;\r\n\r\n    const endYearLabel = endYear\r\n      ? `${endYear.id === startYear.id ? '-to' : '-to-' + endYear.yearRange}${endTermLabel}`\r\n      : '';\r\n\r\n    let fileName = `${reportName}-report${startYear ? '-'+startYear.yearRange : ''}${startTermLabel}${endYearLabel}`;\r\n\r\n    if(student) fileName += `-${student.firstName}-${student.lastName}`;\r\n    if(filtered) fileName += '-filtered';\r\n    return fileName;\r\n  } catch(error) {\r\n    console.log(error);\r\n    return reportName;\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ReportFormContainer from './ReportFormContainer';\r\nimport ReportFormDefaultLayout from './ReportFormDefaultLayout';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport Label from '../Label';\r\nimport Select from '../Select';\r\nimport TermSelect from '../TermSelect';\r\nimport getReportFileName from '../../utils/getReportFileName';\r\n\r\n@observer\r\nclass SummaryReport extends Component {\r\n  @observable startYearId = null;\r\n  @observable startTermId = null;\r\n  @observable submitTask = null;\r\n\r\n  @computed get startYear() {\r\n    const { startYearId } = this;\r\n    const { schoolYears } = this.props;\r\n    return startYearId && schoolYears.find(year => year.id === startYearId);\r\n  }\r\n\r\n  @computed get startTerm() {\r\n    const { startTermId, startYear } = this;\r\n    if(startTermId && startYear) {\r\n      return startYear.terms.find(term => term.id === startTermId);\r\n    } else if(startYear && startYear.termType === 'annual') {\r\n      return startYear.terms[0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  @computed get canRun() {\r\n    return this.startYear && this.startTerm;\r\n  }\r\n\r\n  @action handleStartYearIdChange = event => {\r\n    this.startYearId = +event.target.value;\r\n    this.startTermId = null;\r\n  };\r\n  \r\n  @action handleStartTermIdChange = event => {\r\n    this.startTermId = +event.target.value;\r\n  };\r\n\r\n  @action.bound async handleSubmit(studentFilters) {\r\n    const { store } = this.props;\r\n    const { startYear, startTerm } = this;\r\n\r\n    const startYearId = startYear && startYear.id;\r\n    const startTermId = startTerm && startTerm.id;\r\n    let filtered = false;\r\n    for(let filter in studentFilters) {\r\n      filtered = studentFilters[filter].length > 0;\r\n      if(filtered) {\r\n        break;\r\n      }\r\n    }\r\n    const fileName = getReportFileName('summary', {\r\n      startYear,\r\n      startTerm,\r\n      filtered,\r\n    });\r\n\r\n    this.submitTask = store.downloadReport(\r\n      '/summary',\r\n      fileName,\r\n      {startYearId, startTermId, ...studentFilters},\r\n    );\r\n  }\r\n\r\n  render () {\r\n    const { schoolYears, closePath } = this.props;\r\n    const {\r\n      startYear,\r\n      startTerm,\r\n      canRun,\r\n      submitTask,\r\n    } = this;\r\n    \r\n    const startTermName = startYear ? startYear.capitalizedTermType : 'Term';\r\n\r\n    return (\r\n      <ReportFormContainer title=\"Summary Report - All Students\" titleActiveFilter=\"Summary Report - Filtered Students\" subtitle={`one ${startTermName.toLowerCase()}`} onSubmit={this.handleSubmit} closePath={closePath} canRun={canRun} submitTask={submitTask} includeFilters={true}>\r\n        <ReportFormDefaultLayout>\r\n          <div>\r\n            <Label>School Year</Label>\r\n            <Select value={startYear && startYear.id} onChange={this.handleStartYearIdChange} placeholder=\"Year\">\r\n              {schoolYears.map(schoolYear =>\r\n                <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.yearRange}</option>\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <div hidden={startYear && startYear.termType === 'annual'}>\r\n            <Label>{startTermName}</Label>\r\n            <TermSelect\r\n              schoolYear={startYear}\r\n              value={startTerm}\r\n              onChange={this.handleStartTermIdChange}\r\n              placeholder={startTermName}\r\n            />\r\n          </div>\r\n        </ReportFormDefaultLayout>\r\n      </ReportFormContainer>\r\n    )\r\n  }\r\n};\r\nexport default SummaryReport;","import React, { Component } from 'react';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport ReportFormContainer from './ReportFormContainer';\r\nimport ReportFormDefaultLayout from './ReportFormDefaultLayout';\r\nimport Label from '../Label';\r\nimport Select from '../Select';\r\nimport TermSelect from '../TermSelect';\r\nimport getReportFileName from '../../utils/getReportFileName';\r\n\r\n@observer\r\nclass SummaryReport extends Component {\r\n  @observable startYearId = null;\r\n  @observable startTermId = null;\r\n  @observable submitTask = null;\r\n\r\n  @computed get startYear() {\r\n    const { startYearId } = this;\r\n    const { schoolYears } = this.props;\r\n    return startYearId && schoolYears.find(year => year.id === startYearId);\r\n  }\r\n\r\n  @computed get startTerm() {\r\n    const { startTermId, startYear } = this;\r\n    if(startTermId && startYear) {\r\n      return startYear.terms.find(term => term.id === startTermId);\r\n    } else if(startYear && startYear.termType === 'annual') {\r\n      return startYear.terms[0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  @computed get canRun() {\r\n    return this.startYear && this.startTerm;\r\n  }\r\n\r\n  @action handleStartYearIdChange = event => {\r\n    this.startYearId = +event.target.value;\r\n    this.startTermId = null;\r\n  };\r\n  \r\n  @action handleStartTermIdChange = event => {\r\n    this.startTermId = +event.target.value;\r\n  };\r\n\r\n  @action.bound async handleSubmit(studentFilters) {\r\n    const { store } = this.props;\r\n    const { startYear, startTerm } = this;\r\n    \r\n    const startYearId = startYear && startYear.id;\r\n    const startTermId = startTerm && startTerm.id;\r\n    \r\n    let filtered = false;\r\n    for(let filter in studentFilters) {\r\n      filtered = studentFilters[filter].length > 0;\r\n      if(filtered) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    const fileName = getReportFileName('risk-roster', {\r\n      startYear,\r\n      startTerm,\r\n      filtered\r\n    });\r\n\r\n    this.submitTask = store.downloadReport(\r\n      '/riskRoster',\r\n      fileName,\r\n      {startYearId, startTermId, ...studentFilters},\r\n    );\r\n  }\r\n\r\n  render () {\r\n    const { schoolYears, closePath } = this.props;\r\n    const {\r\n      startYear,\r\n      startTerm,\r\n      canRun,\r\n      submitTask,\r\n    } = this;\r\n\r\n    const startTermName = startYear ? startYear.capitalizedTermType : 'Term';\r\n\r\n    return (\r\n      <ReportFormContainer title=\"Risk Roster Report - All Students\" titleActiveFilter=\"Risk Roster Report - Filtered Students\" subtitle={`one ${startTermName.toLowerCase()}`} onSubmit={this.handleSubmit} closePath={closePath} canRun={canRun} submitTask={submitTask} includeFilters={true}>\r\n        <ReportFormDefaultLayout>\r\n          <div>\r\n            <Label>School Year</Label>\r\n            <Select value={startYear && startYear.id} onChange={this.handleStartYearIdChange} placeholder=\"Year\">\r\n              {schoolYears.map(schoolYear =>\r\n                <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.yearRange}</option>\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <div hidden={startYear && startYear.termType === 'annual'}>\r\n            <Label>{startTermName}</Label>\r\n            <TermSelect\r\n              schoolYear={startYear}\r\n              value={startTerm}\r\n              onChange={this.handleStartTermIdChange}\r\n              placeholder={startTermName}\r\n            />\r\n          </div>\r\n        </ReportFormDefaultLayout>\r\n      </ReportFormContainer>\r\n    )\r\n  }\r\n};\r\nexport default SummaryReport;","import React, { Component } from 'react';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport ReportFormContainer from './ReportFormContainer';\r\nimport ReportFormDefaultLayout from './ReportFormDefaultLayout';\r\nimport Label from '../Label';\r\nimport Select from '../Select';\r\nimport TermSelect from '../TermSelect';\r\nimport getReportFileName from '../../utils/getReportFileName';\r\n\r\n@observer\r\nclass RiskSummaryReport extends Component {\r\n  @observable startYearId = null;\r\n  @observable startTermId = null;\r\n  @observable endYearId = null;\r\n  @observable endTermId = null;\r\n  @observable submitTask = null;\r\n\r\n  @computed get startYear() {\r\n    const { schoolYears } = this.props;\r\n    const { startYearId } = this;\r\n    return startYearId && schoolYears.find(year => year.id === startYearId);\r\n  }\r\n\r\n  @computed get startTerm() {\r\n    const { startTermId, startYear } = this;\r\n    if(startTermId && startYear) {\r\n      return startYear.terms.find(term => term.id === startTermId);\r\n    } else if(startYear && startYear.termType === 'annual') {\r\n      return startYear.terms[0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  @computed get endYear() {\r\n    const { schoolYears } = this.props;\r\n    const { endYearId } = this;\r\n    return endYearId && schoolYears.find(year => year.id === endYearId);\r\n  }\r\n\r\n  @computed get endTerm() {\r\n    const { endTermId, endYear } = this;\r\n    if(endTermId && endYear) {\r\n      return endYear.terms.find(term => term.id === endTermId);\r\n    } else if(endYear && endYear.termType === 'annual') {\r\n      return endYear.terms[0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  @computed get canRun() {\r\n    return (\r\n      this.startYear &&\r\n      this.startTerm &&\r\n      this.endYear &&\r\n      this.endTerm\r\n    );\r\n  }\r\n\r\n  @action handleStartYearIdChange = event => {\r\n    this.startYearId = +event.target.value;\r\n    this.startTermId = null;\r\n  };\r\n  \r\n  @action handleStartTermIdChange = event => {\r\n    this.startTermId = +event.target.value;\r\n  };\r\n\r\n  @action handleEndYearIdChange = event => {\r\n    this.endYearId = +event.target.value;\r\n    this.endTermId = null;\r\n  };\r\n  \r\n  @action handleEndTermIdChange = event => {\r\n    this.endTermId = +event.target.value;\r\n  };\r\n\r\n  @action.bound async handleSubmit(studentFilters) {\r\n    const { store } = this.props;\r\n    const { startYear, startTerm, endYear, endTerm } = this;\r\n\r\n    const startYearId = startYear && startYear.id;\r\n    const startTermId = startTerm && startTerm.id;\r\n    const endYearId = endYear && endYear.id;\r\n    const endTermId = endTerm && endTerm.id;\r\n    \r\n    let filtered = false;\r\n    for(let filter in studentFilters) {\r\n      filtered = studentFilters[filter].length > 0;\r\n      if(filtered) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    const fileName = getReportFileName('risk-summary', {\r\n      startYear,\r\n      startTerm,\r\n      endYear,\r\n      endTerm,\r\n      filtered\r\n    });\r\n\r\n    this.submitTask = store.downloadReport(\r\n      '/riskSummary',\r\n      fileName,\r\n      {startYearId, startTermId, endYearId, endTermId, ...studentFilters},\r\n    );\r\n  }\r\n\r\n  render () {\r\n    const { schoolYears, closePath } = this.props;\r\n    const {\r\n      startYear,\r\n      startTerm,\r\n      endYear,\r\n      endTerm,\r\n      canRun,\r\n      submitTask,\r\n    } = this;\r\n\r\n    const startTermName = startYear ? startYear.capitalizedTermType : 'Term';\r\n    const endTermName = endYear ? endYear.capitalizedTermType : 'Term';\r\n\r\n    return (\r\n      <ReportFormContainer title=\"Risk Summary Report - All Students\" titleActiveFilter=\"Risk Summary Report - Filtered Students\" subtitle=\"over time\" closePath={closePath} onSubmit={this.handleSubmit} canRun={canRun} submitTask={submitTask} includeFilters={true}>\r\n        <ReportFormDefaultLayout>\r\n          <div>\r\n            <Label>Starting Year</Label>\r\n            <Select value={startYear && startYear.id} onChange={this.handleStartYearIdChange} placeholder=\"Starting Year\">\r\n              {schoolYears.map(schoolYear =>\r\n                <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.yearRange}</option>\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <div style={{visibility: startYear && startYear.termType === 'annual' ? 'hidden' : 'visible'}}>\r\n            <Label>Starting {startTermName}</Label>\r\n            <TermSelect\r\n              schoolYear={startYear}\r\n              value={startTerm}\r\n              onChange={this.handleStartTermIdChange}\r\n              placeholder={`Starting ${startTermName}`}\r\n            />\r\n          </div>\r\n          <div>\r\n            <Label>Ending Year</Label>\r\n            <Select value={endYear && endYear.id} onChange={this.handleEndYearIdChange} placeholder=\"Ending Year\">\r\n              {schoolYears.map(schoolYear =>\r\n                <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.yearRange}</option>\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <div hidden={endYear && endYear.termType === 'annual'}>\r\n            <Label>Ending {endTermName}</Label>\r\n            <TermSelect\r\n              schoolYear={endYear}\r\n              value={endTerm}\r\n              onChange={this.handleEndTermIdChange}\r\n              placeholder={`Ending ${endTermName}`}\r\n            />\r\n          </div>\r\n        </ReportFormDefaultLayout>\r\n      </ReportFormContainer>\r\n    )\r\n  }\r\n};\r\nexport default RiskSummaryReport;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport ReportFormContainer from './ReportFormContainer';\r\nimport ReportFormDefaultLayout from './ReportFormDefaultLayout';\r\nimport Label from '../Label';\r\nimport RadioButton from '../RadioButton';\r\nimport Select from '../Select';\r\nimport TermSelect from '../TermSelect';\r\nimport getReportFileName from '../../utils/getReportFileName';\r\n\r\nconst dataCategories = [\r\n  {label: 'Post-school Outcome', key: 'postSchoolOutcome'},\r\n  {label: 'Skill Training', key: 'skillTraining'},\r\n  {label: 'Support Needed', key: 'supportNeed'},\r\n  {label: 'Risk Level', key: 'riskLevel'},\r\n  {label: 'Disabilities', key: 'disability'},\r\n  {label: 'IEP Role', key: 'iepRole'},\r\n  {label: 'Activity Types', key: 'activityGroupTypes'},\r\n  {label: 'Gender', key: 'gender'},\r\n  {label: 'Race', key: 'race'},\r\n];\r\n\r\nfunction criteriaFilenameString(criteria) {\r\n  switch(criteria) {\r\n    case 'postSchoolOutcome': return 'post-school-outcome';\r\n    case 'skillTraining': return 'skill-training';\r\n    case 'supportNeed': return 'support-needed';\r\n    case 'riskLevel': return 'risk-level';\r\n    case 'disability': return 'disabilities';\r\n    case 'gender': return 'gender';\r\n    case 'race': return 'race';\r\n    case 'iepRole': return 'iep-roles';\r\n    case 'activityGroupTypes': return 'activity-types';\r\n    default: return 'unknown';\r\n  }\r\n}\r\n\r\n@observer\r\nclass NumberOfStudentsReport extends Component {\r\n  @observable longitudinal = false;\r\n\r\n  @observable criteria1 = null;\r\n  @observable criteria2 = null;\r\n\r\n  @observable startYearId = null;\r\n  @observable startTermId = null;\r\n  @observable endYearId = null;\r\n  @observable endTermId = null;\r\n  @observable submitTask = null;\r\n\r\n  @computed get startYear() {\r\n    const { startYearId } = this;\r\n    const { schoolYears } = this.props;\r\n    return startYearId && schoolYears.find(year => year.id === startYearId);\r\n  }\r\n\r\n  @computed get startTerm() {\r\n    const { startTermId, startYear } = this;\r\n    if(startTermId && startYear) {\r\n      return startYear.terms.find(term => term.id === startTermId);\r\n    } else if(startYear && startYear.termType === 'annual') {\r\n      return startYear.terms[0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  @computed get endYear() {\r\n    const { endYearId, longitudinal } = this;\r\n    const { schoolYears } = this.props;\r\n    return longitudinal && endYearId && schoolYears.find(year => year.id === endYearId);\r\n  }\r\n\r\n  @computed get endTerm() {\r\n    const { endTermId, endYear } = this;\r\n    if(endTermId && endYear) {\r\n      return endYear.terms.find(term => term.id === endTermId);\r\n    } else if(endYear && endYear.termType === 'annual') {\r\n      return endYear.terms[0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  @computed get canRun() {\r\n    const {\r\n      startYear,\r\n      startTerm,\r\n      endYear,\r\n      endTerm,\r\n      longitudinal,\r\n      criteria1,\r\n    } = this;\r\n\r\n    return (\r\n      startYear &&\r\n      startTerm &&\r\n      criteria1 &&\r\n      (!longitudinal || (endYear && endTerm))\r\n    );\r\n  }\r\n\r\n  @action.bound handleLongitudinalToggle() {\r\n    this.longitudinal = !this.longitudinal;\r\n  }\r\n\r\n  @action.bound handleCriteria1Change(event) {\r\n    const criteria = event.target.value;\r\n\r\n    if(this.criteria2 === criteria) this.criteria2 = this.criteria1;\r\n    this.criteria1 = criteria;\r\n  }\r\n\r\n  @action.bound handleCriteria2Change(event) {\r\n    const criteria = event.target.value;\r\n\r\n    if(this.criteria1 === criteria) this.criteria1 = this.criteria2;\r\n    this.criteria2 = criteria;\r\n  }\r\n\r\n  @action.bound handleStartYearIdChange(event) {\r\n    this.startYearId = +event.target.value;\r\n    this.startTermId = null;\r\n  }\r\n\r\n  @action.bound handleStartTermIdChange(event) {\r\n    this.startTermId = +event.target.value;\r\n  }\r\n\r\n  @action.bound handleEndYearIdChange(event) {\r\n    this.endYearId = +event.target.value;\r\n    this.endTermId = null;\r\n  }\r\n\r\n  @action.bound handleEndTermIdChange(event) {\r\n    this.endTermId = +event.target.value;\r\n  }\r\n\r\n  @action.bound handleSubmit() {\r\n    const {\r\n      longitudinal,\r\n      startYear,\r\n      startTerm,\r\n      endYear,\r\n      endTerm,\r\n      criteria1,\r\n      criteria2,\r\n    } = this;\r\n\r\n    let fileName, endpoint;\r\n    if(longitudinal) {\r\n      endpoint = '/numberOfStudents/longitudinal';\r\n      fileName = getReportFileName(`number-of-students-longitudinal-${criteriaFilenameString(criteria1)}`, {\r\n        startYear,\r\n        startTerm,\r\n        endYear,\r\n        endTerm,\r\n      }) + '-longitudinal';\r\n    } else if(criteria2) {\r\n      endpoint = '/numberOfStudentsCross';\r\n      fileName = getReportFileName(`number-of-students-${criteriaFilenameString(criteria1)}-by-${criteriaFilenameString(criteria2)}-cross`, {\r\n        startYear,\r\n        startTerm,\r\n      });\r\n    } else {\r\n      endpoint = '/numberOfStudents/standard';\r\n      fileName = getReportFileName(`number-of-students-${criteriaFilenameString(criteria1)}`, {\r\n        startYear,\r\n        startTerm,\r\n        endYear,\r\n        endTerm,\r\n      });\r\n    }\r\n\r\n    this.submitTask = this.props.store.downloadReport(\r\n      endpoint,\r\n      fileName,\r\n      {\r\n        startYearId: startYear && startYear.id,\r\n        startTermId: startTerm && startTerm.id,\r\n        endYearId: endYear && endYear.id,\r\n        endTermId: endTerm && endTerm.id,\r\n        primaryCriteria: criteria1,\r\n        secondaryCriteria: criteria2,\r\n      },\r\n    );\r\n  }\r\n\r\n  render () {\r\n    const { schoolYears, closePath } = this.props;\r\n    const {\r\n      longitudinal,\r\n      startYear,\r\n      startTerm,\r\n      endYear,\r\n      endTerm,\r\n      criteria1,\r\n      criteria2,\r\n      canRun,\r\n      submitTask,\r\n    } = this;\r\n\r\n    const startTermName = startYear ? startYear.capitalizedTermType : 'Term';\r\n    const endTermName = endYear ? endYear.capitalizedTermType : 'Term';\r\n\r\n    return (\r\n      <ReportFormContainer title=\"Total Number Of Students\" onSubmit={this.handleSubmit} closePath={closePath} submitTask={submitTask} canRun={canRun}>\r\n        <CountType>\r\n          <RadioButton checked={!longitudinal} onChange={this.handleLongitudinalToggle}>Standard</RadioButton>\r\n          <RadioButton checked={longitudinal} onChange={this.handleLongitudinalToggle}>Longitudinal (one data category)</RadioButton>\r\n        </CountType>\r\n        <ReportFormDefaultLayout>\r\n          <div>\r\n            <Label>{longitudinal ? 'Starting Year' : 'School Year'}</Label>\r\n            <Select value={startYear && startYear.id} onChange={this.handleStartYearIdChange} placeholder={longitudinal ? 'Starting Year' : 'School Year'}>\r\n              {schoolYears.map(schoolYear =>\r\n                <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.yearRange}</option>\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <div style={{visibility: startYear && startYear.termType === 'annual' ? 'hidden' : 'visible'}}>\r\n            <Label>{longitudinal ? `Starting ${startTermName}` : startTermName}</Label>\r\n            <TermSelect\r\n              schoolYear={startYear}\r\n              value={startTerm}\r\n              onChange={this.handleStartTermIdChange}\r\n              placeholder={longitudinal ? `Starting ${startTermName}` : startTermName}\r\n            />\r\n          </div>\r\n          <div hidden={!longitudinal}>\r\n            <Label>Ending Year</Label>\r\n            <Select value={endYear && endYear.id} onChange={this.handleEndYearIdChange} placeholder=\"Ending Year\">\r\n              {schoolYears.map(schoolYear =>\r\n                <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.yearRange}</option>\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <div hidden={!longitudinal || (endYear && endYear.termType === 'annual')}>\r\n            <Label>Ending {endTermName}</Label>\r\n            <TermSelect\r\n              schoolYear={endYear}\r\n              value={endTerm}\r\n              onChange={this.handleEndTermIdChange}\r\n              placeholder={`Ending ${endTermName}`}\r\n            />\r\n          </div>\r\n          <div>\r\n            <Label>{longitudinal ? 'Data Category' : 'Primary Data Category'}</Label>\r\n            <DataCategorySelect placeholder=\"None\" value={criteria1} onChange={this.handleCriteria1Change}/>\r\n          </div>\r\n\r\n          <div hidden={longitudinal}>\r\n            <Label>Secondary Data Category (not required)</Label>\r\n            <DataCategorySelect placeholder=\"None\" value={criteria2} onChange={this.handleCriteria2Change} canSelectPlaceholder/>\r\n          </div>\r\n        </ReportFormDefaultLayout>\r\n      </ReportFormContainer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NumberOfStudentsReport;\r\n\r\nfunction DataCategorySelect(props) {\r\n  return (\r\n    <Select {...props}>\r\n      {dataCategories.map(c =>\r\n        <option key={c.key} value={c.key}>{c.label}</option>\r\n      )}\r\n    </Select>\r\n  );\r\n}\r\n\r\nconst CountType = styled.div`\r\n  margin-top: 25px;\r\n  margin-bottom: 25px;\r\n\r\n  & > * {\r\n    min-width: 140px;\r\n    max-width: 300px;\r\n    margin-top: 5px;\r\n  }\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport ReportFormContainer from './ReportFormContainer';\r\nimport ReportFormDefaultLayout from './ReportFormDefaultLayout';\r\nimport Label from '../Label';\r\nimport Select from '../Select';\r\nimport Checkbox from '../Checkbox';\r\nimport TermSelect from '../TermSelect';\r\nimport getReportFileName from '../../utils/getReportFileName';\r\nimport RadioButton from '../RadioButton';\r\n\r\nconst noop = () => {};\r\n\r\n@inject('store')\r\n@observer\r\nclass StudentReport extends Component {\r\n  @observable longitudinal = false;\r\n  @observable startYearId = null;\r\n  @observable startTermId = null;\r\n  @observable endYearId = null;\r\n  @observable endTermId = null;\r\n  @observable studentId = null;\r\n  @observable allStudents = false;\r\n  @observable submitTask = null;\r\n\r\n  @computed get startYear() {\r\n    const { schoolYears } = this.props;\r\n    const { startYearId } = this;\r\n     return startYearId && schoolYears.find(y => y.id === startYearId);\r\n  }\r\n\r\n  @computed get startTerm() {\r\n    const { startTermId, startYear } = this;\r\n    return startYear && startYear.terms.find(term => term.id === startTermId);\r\n  }\r\n\r\n  @computed get endYear() {\r\n    const { schoolYears } = this.props;\r\n    const { endYearId } = this;\r\n     return endYearId && schoolYears.find(y => y.id === endYearId);\r\n  }\r\n\r\n  @computed get endTerm() {\r\n    const { endTermId, endYear } = this;\r\n    return endYear && endYear.terms.find(term => term.id === endTermId);\r\n  }\r\n\r\n  @computed get selectableStudents() {\r\n    const { startTerm } = this;\r\n    return startTerm && startTerm.students.filter(student => student.gradeLevel !== 'Post-school');\r\n  }\r\n\r\n  @computed get selectedStudent() {\r\n    const { studentId, selectableStudents } = this;\r\n    return studentId && selectableStudents && selectableStudents.find(s => s.id === studentId)\r\n  }\r\n\r\n  @computed get canRun() {\r\n    const { longitudinal, startYear, startTerm, endYear, endTerm, selectedStudent, allStudents } = this;\r\n    if(longitudinal) {\r\n      return (\r\n        startYear &&\r\n        startTerm &&\r\n        endYear &&\r\n        endTerm &&\r\n        selectedStudent\r\n      );\r\n    }\r\n    return (\r\n      startYear &&\r\n      startTerm &&\r\n      (selectedStudent || allStudents)\r\n    );\r\n  }\r\n\r\n  @action.bound handleLongitudinalToggle() {\r\n    this.longitudinal = !this.longitudinal;\r\n    if(this.longitudinal) {\r\n      this.allStudents = false;\r\n    } else {\r\n      this.endYearId = null;\r\n      this.endTermId = null;\r\n    }\r\n  }\r\n\r\n  @action.bound async handleStartYearIdChange(event) {\r\n    this.startTermId = null;\r\n    this.studentId = null;\r\n    this.startYearId = +event.target.value;\r\n    const { startYear } = this;\r\n    if(startYear && startYear.termType === 'annual') {\r\n      this.setStartTermId(startYear.terms[0].id);\r\n    }\r\n  }\r\n\r\n  @action.bound async handleEndYearIdChange(event) {\r\n    this.endTermId = null;\r\n    this.studentId = null;\r\n    this.endYearId = +event.target.value;\r\n    const { endYear } = this;\r\n    if(endYear && endYear.termType === 'annual') {\r\n      this.setEndTermId(endYear.terms[0].id);\r\n    }\r\n  }\r\n  \r\n  @action.bound async setStartTermId(startTermId) {\r\n    const { store } = this.props;\r\n    this.startTermId = startTermId;\r\n    this.studentId = null;\r\n    const { startTerm } = this;\r\n    if(startTerm) await store.fetchTermStudents(startTerm);\r\n  }\r\n\r\n  @action.bound async setEndTermId(endTermId) {\r\n    this.endTermId = endTermId;\r\n  }\r\n\r\n  @action.bound handleStartTermIdChange(event) {\r\n    return this.setStartTermId(+event.target.value);\r\n  }\r\n\r\n  @action.bound handleEndTermIdChange(event) {\r\n    return this.setEndTermId(+event.target.value);\r\n  }\r\n\r\n  @action.bound handleStudentIdChange(event) {\r\n    this.studentId = +event.target.value;\r\n  }\r\n\r\n  @action.bound handleAllStudentsToggle() {\r\n    this.allStudents = !this.allStudents;\r\n    if(this.allStudents) {\r\n      this.studentId = null;\r\n    }\r\n  }\r\n\r\n  @action.bound handleSubmit() {\r\n    const { store } = this.props;\r\n    const { longitudinal, allStudents, startYear, startTerm, endYear, endTerm, selectedStudent } = this;\r\n\r\n    const startYearId = startYear && startYear.id;\r\n    const startTermId = startTerm && startTerm.id;\r\n    const endYearId = endYear && endYear.id;\r\n    const endTermId = endTerm && endTerm.id;\r\n    const studentId = selectedStudent && selectedStudent.id;\r\n\r\n    if(longitudinal) {  \r\n      let fileName = getReportFileName('student-over-time', {\r\n        startYear,\r\n        startTerm,\r\n        student: selectedStudent,\r\n      });\r\n  \r\n      this.submitTask = store.downloadReport(\r\n        'studentActivities',\r\n        fileName,\r\n        {\r\n          startYearId,\r\n          startTermId,\r\n          endYearId,\r\n          endTermId,\r\n          studentId: selectedStudent.id,\r\n        },\r\n      );\r\n    } else {\r\n      const fileName = getReportFileName('student', {\r\n        startYear,\r\n        startTerm,\r\n        student: selectedStudent,\r\n      });\r\n  \r\n      if(allStudents) {\r\n        // All students\r\n        this.submitTask = store.downloadReport(\r\n          '/student',\r\n          fileName,\r\n          {startYearId, startTermId},\r\n        );\r\n      } else if(studentId) {\r\n        // Individual student\r\n        this.submitTask = store.downloadReport(\r\n          '/student',\r\n          fileName,\r\n          {startYearId, startTermId, studentId},\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const {\r\n      schoolYears,\r\n      closePath,\r\n    } = this.props;\r\n    const {\r\n      allStudents,\r\n      startYear,\r\n      startTerm,\r\n      endYear,\r\n      endTerm,\r\n      selectedStudent,\r\n      selectableStudents,\r\n      canRun,\r\n      submitTask,\r\n      longitudinal,\r\n    } = this;\r\n\r\n    const startTermName = startYear ? startYear.capitalizedTermType : 'Term';\r\n    const endTermName = endYear ? endYear.capitalizedTermType : 'Term';\r\n    const subtitle = longitudinal\r\n      ? 'over time'\r\n      : `one ${startTermName.toLowerCase()}`;\r\n\r\n    const startYearLabel = longitudinal\r\n      ? 'Starting Year'\r\n      : 'School Year';\r\n\r\n    const startTermLabel = longitudinal\r\n      ? `Starting ${startTermName}`\r\n      : startTermName;\r\n\r\n    return (\r\n      <ReportFormContainer title=\"Student Report - Per Student\" subtitle={subtitle} onSubmit={this.handleSubmit} closePath={closePath} canRun={canRun} submitTask={submitTask}>\r\n        <CountType>\r\n          <RadioButton checked={!longitudinal} onChange={longitudinal ? this.handleLongitudinalToggle : noop}>Standard</RadioButton>\r\n          <RadioButton checked={longitudinal} onChange={longitudinal ? noop : this.handleLongitudinalToggle}>Longitudinal</RadioButton>\r\n        </CountType>\r\n        <ReportFormDefaultLayout>\r\n          <div>\r\n            <Label>{startYearLabel}</Label>\r\n            <Select value={startYear && startYear.id} onChange={this.handleStartYearIdChange} placeholder=\"Year\">\r\n              {schoolYears.map(schoolYear =>\r\n                <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.yearRange}</option>\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <div style={{visibility: startYear && startYear.termType === 'annual' ? 'hidden' : 'visible'}}>\r\n            <Label>{startTermLabel}</Label>\r\n            <TermSelect\r\n              schoolYear={startYear}\r\n              value={startTerm}\r\n              onChange={this.handleStartTermIdChange}\r\n              placeholder={startTermName}\r\n            />\r\n          </div>\r\n\r\n          {longitudinal &&\r\n            <div>\r\n              <Label>Ending Year</Label>\r\n              <Select value={endYear && endYear.id} onChange={this.handleEndYearIdChange} placeholder=\"Year\">\r\n                {schoolYears.map(schoolYear =>\r\n                  <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.yearRange}</option>\r\n                )}\r\n              </Select>\r\n            </div>\r\n          }\r\n          {longitudinal &&          \r\n            <div style={{visibility: endYear && endYear.termType === 'annual' ? 'hidden' : 'visible'}}>\r\n              <Label>Ending {endTermName}</Label>\r\n              <TermSelect\r\n                schoolYear={endYear}\r\n                value={endTerm}\r\n                onChange={this.handleEndTermIdChange}\r\n                placeholder={endTermName}\r\n              />\r\n            </div>\r\n          }\r\n\r\n          <div>\r\n            <Label>Student</Label>\r\n            <Select placeholder=\"Choose a student or select 'All'\" value={selectedStudent && selectedStudent.id} disabled={allStudents} onChange={this.handleStudentIdChange}>\r\n              {selectableStudents && selectableStudents.map(student => \r\n                <option key={student.id} value={student.id}>{student.fullName} ({student.studentId})</option>\r\n              )}\r\n            </Select>\r\n          </div>\r\n          \r\n          {!longitudinal && \r\n            <UnlabeledInput>\r\n              <div>\r\n                <Checkbox checked={allStudents} onChange={this.handleAllStudentsToggle}>All Students</Checkbox>\r\n                <CheckboxInfo>Select to run one report for each student.</CheckboxInfo>\r\n              </div>\r\n            </UnlabeledInput>\r\n          }\r\n        </ReportFormDefaultLayout>\r\n      </ReportFormContainer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default StudentReport;\r\n\r\nconst UnlabeledInput = styled.div`\r\n  & > * {\r\n    margin-top: 26px;\r\n  }\r\n`;\r\n\r\nconst CheckboxInfo = styled.div`\r\n  margin-left: 24px;\r\n  font-size: 14px;\r\n  font-style: italic;\r\n  color: #4A4A4A;\r\n`;\r\n\r\nconst CountType = styled.div`\r\n  margin-bottom: 25px;\r\n\r\n  & > * {\r\n    width: 140px;\r\n    margin-top: 5px;\r\n  }\r\n`;\r\n\r\n","import React, { Component } from 'react';\r\nimport noop from 'lodash/noop';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport styled from 'styled-components';\r\nimport ReportFormContainer from './ReportFormContainer';\r\nimport ReportFormDefaultLayout from './ReportFormDefaultLayout';\r\nimport Label from '../Label';\r\nimport RadioButton from '../RadioButton';\r\nimport Select from '../Select';\r\nimport Checkbox from '../Checkbox';\r\nimport TermSelect from '../TermSelect';\r\nimport getReportFileName from '../../utils/getReportFileName';\r\n\r\n@observer\r\nclass StudentRiskReport extends Component {\r\n  @observable startYearId = null;\r\n  @observable startTermId = null;\r\n  @observable endYearId = null;\r\n  @observable endTermId = null;\r\n  @observable studentId = null;\r\n  @observable allStudents = false;\r\n  @observable longitudinal = false;\r\n  @observable submitTask = null;\r\n\r\n  @computed get startYear() {\r\n    const { schoolYears } = this.props;\r\n    const { startYearId } = this;\r\n    return startYearId && schoolYears.find(year => year.id === startYearId);\r\n  }\r\n\r\n  @computed get startTerm() {\r\n    const { startTermId, startYear } = this;\r\n    if (startTermId && startYear) {\r\n      return startYear.terms.find(term => term.id === startTermId);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  @computed get endYear() {\r\n    const { schoolYears } = this.props;\r\n    const { endYearId } = this;\r\n    return endYearId && schoolYears.find(year => year.id === endYearId);\r\n  }\r\n\r\n  @computed get endTerm() {\r\n    const { endYear, endTermId } = this;\r\n    return (\r\n      endYear && endTermId && endYear.terms.find(term => term.id === endTermId)\r\n    );\r\n  }\r\n\r\n  @computed get selectableStudents() {\r\n    const { startTerm } = this;\r\n    return (\r\n      startTerm &&\r\n      startTerm.students.filter(\r\n        termInfo => termInfo.gradeLevel !== 'Post-school'\r\n      )\r\n    );\r\n  }\r\n\r\n  @computed get selectedStudent() {\r\n    const { studentId, selectableStudents } = this;\r\n    return (\r\n      studentId &&\r\n      selectableStudents &&\r\n      selectableStudents.find(student => student.id === studentId)\r\n    );\r\n  }\r\n\r\n  @computed get canRun() {\r\n    const {\r\n      startYear,\r\n      startTerm,\r\n      endYear,\r\n      endTerm,\r\n      longitudinal,\r\n      selectedStudent,\r\n      allStudents\r\n    } = this;\r\n    return (\r\n      startYear &&\r\n      startTerm &&\r\n      (!longitudinal || (endYear && endTerm)) &&\r\n      (allStudents || selectedStudent)\r\n    );\r\n  }\r\n\r\n  @action.bound handleLongitudinalToggle() {\r\n    this.longitudinal = !this.longitudinal;\r\n    if (!this.longitudinal) {\r\n      this.endYearId = null;\r\n      this.endTermId = null;\r\n    }\r\n  }\r\n\r\n  @action.bound handleAllStudentsToggle() {\r\n    this.allStudents = !this.allStudents;\r\n    if (this.allStudents) {\r\n      this.studentId = null;\r\n    }\r\n  }\r\n\r\n  @action.bound handleStartYearIdChange(event) {\r\n    this.startYearId = +event.target.value;\r\n    this.startTermId = null;\r\n    const { startYear } = this;\r\n    if (startYear && startYear.termType === 'annual')\r\n      this.setStartTermId(startYear.terms[0].id);\r\n  }\r\n\r\n  @action.bound async setStartTermId(startTermId) {\r\n    const { store } = this.props;\r\n    this.startTermId = startTermId;\r\n    this.studentId = null;\r\n    const { startTerm } = this;\r\n    if (startTerm) await store.fetchTermStudents(startTerm);\r\n  }\r\n\r\n  @action.bound handleStartTermIdChange(event) {\r\n    return this.setStartTermId(+event.target.value);\r\n  }\r\n\r\n  @action.bound handleEndYearIdChange(event) {\r\n    this.endYearId = +event.target.value;\r\n    this.endTermId = null;\r\n    const { endYear } = this;\r\n    if (endYear && endYear.termType === 'annual') {\r\n      this.endTermId = endYear.terms[0].id;\r\n    }\r\n  }\r\n\r\n  @action.bound handleEndTermIdChange(event) {\r\n    this.endTermId = +event.target.value;\r\n  }\r\n\r\n  @action.bound handleSelectedStudentIdChange(event) {\r\n    this.studentId = +event.target.value;\r\n  }\r\n\r\n  @action.bound handleSubmit() {\r\n    const { store } = this.props;\r\n    const {\r\n      longitudinal,\r\n      startYear,\r\n      startTerm,\r\n      endYear,\r\n      endTerm,\r\n      selectedStudent,\r\n      allStudents\r\n    } = this;\r\n\r\n    const startYearId = startYear && startYear.id;\r\n    const startTermId = startTerm && startTerm.id;\r\n    const endYearId = endYear && endYear.id;\r\n    const endTermId = endTerm && endTerm.id;\r\n\r\n    let fileName = getReportFileName('student-risk', {\r\n      startYear,\r\n      startTerm,\r\n      student: selectedStudent\r\n    });\r\n    if (longitudinal) fileName += '-longitudinal';\r\n\r\n    if (longitudinal) {\r\n      this.submitTask = store.downloadReport(\r\n        'studentRisk/longitudinal',\r\n        fileName,\r\n        {\r\n          startYearId,\r\n          startTermId,\r\n          endYearId,\r\n          endTermId,\r\n          studentId: allStudents || !selectedStudent ? null : selectedStudent.id\r\n        }\r\n      );\r\n    } else {\r\n      this.submitTask = store.downloadReport('studentRisk/standard', fileName, {\r\n        startYearId,\r\n        startTermId,\r\n        studentId: allStudents || !selectedStudent ? null : selectedStudent.id\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { schoolYears, closePath } = this.props;\r\n\r\n    const {\r\n      startYear,\r\n      startTerm,\r\n      endYear,\r\n      endTerm,\r\n      allStudents,\r\n      longitudinal,\r\n      selectableStudents,\r\n      selectedStudent,\r\n      canRun,\r\n      submitTask\r\n    } = this;\r\n\r\n    const startTermName = startYear ? startYear.capitalizedTermType : 'Term';\r\n    const endTermName = endYear ? endYear.capitalizedTermType : 'Term';\r\n    const subtitle = longitudinal ? 'over time' : 'one term';\r\n\r\n    return (\r\n      <ReportFormContainer\r\n        title=\"Risk Report - Per Student\"\r\n        subtitle={subtitle}\r\n        onSubmit={this.handleSubmit}\r\n        closePath={closePath}\r\n        canRun={canRun}\r\n        submitTask={submitTask}\r\n      >\r\n        <CountType>\r\n          <RadioButton\r\n            checked={!longitudinal}\r\n            onChange={longitudinal ? this.handleLongitudinalToggle : noop}\r\n          >\r\n            Standard\r\n          </RadioButton>\r\n          <RadioButton\r\n            checked={longitudinal}\r\n            onChange={longitudinal ? noop : this.handleLongitudinalToggle}\r\n          >\r\n            Longitudinal\r\n          </RadioButton>\r\n        </CountType>\r\n        <ReportFormDefaultLayout>\r\n          <div>\r\n            <Label>{longitudinal ? 'Starting Year' : 'School Year'}</Label>\r\n            <Select\r\n              value={startYear && startYear.id}\r\n              onChange={this.handleStartYearIdChange}\r\n              placeholder={longitudinal ? 'Start Year' : 'Year'}\r\n            >\r\n              {schoolYears.map(schoolYear => (\r\n                <option key={schoolYear.id} value={schoolYear.id}>\r\n                  {schoolYear.yearRange}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n          </div>\r\n          <div\r\n            style={{\r\n              visibility:\r\n                startYear && startYear.termType === 'annual'\r\n                  ? 'hidden'\r\n                  : 'visible'\r\n            }}\r\n          >\r\n            <Label>\r\n              {longitudinal ? `Starting ${startTermName}` : startTermName}\r\n            </Label>\r\n            <TermSelect\r\n              schoolYear={startYear}\r\n              value={startTerm}\r\n              onChange={this.handleStartTermIdChange}\r\n              placeholder={\r\n                longitudinal ? `Start ${startTermName}` : startTermName\r\n              }\r\n            />\r\n          </div>\r\n          <div hidden={!longitudinal}>\r\n            <Label>Ending Year</Label>\r\n            <Select\r\n              value={endYear && endYear.id}\r\n              onChange={this.handleEndYearIdChange}\r\n              placeholder=\"End Year\"\r\n            >\r\n              {schoolYears.map(schoolYear => (\r\n                <option key={schoolYear.id} value={schoolYear.id}>\r\n                  {schoolYear.yearRange}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n          </div>\r\n          <div\r\n            hidden={!longitudinal}\r\n            style={{\r\n              visibility:\r\n                endYear && endYear.termType === 'annual' ? 'hidden' : 'visible'\r\n            }}\r\n          >\r\n            <Label>Ending {endTermName}</Label>\r\n            <TermSelect\r\n              schoolYear={endYear}\r\n              value={endTerm}\r\n              onChange={this.handleEndTermIdChange}\r\n              placeholder={`End ${endTermName}`}\r\n            />\r\n          </div>\r\n          <div>\r\n            <Label>Student</Label>\r\n            <Select\r\n              value={selectedStudent && selectedStudent.id}\r\n              onChange={this.handleSelectedStudentIdChange}\r\n              disabled={allStudents}\r\n              placeholder=\"Choose a student or select 'All'\"\r\n            >\r\n              {selectableStudents &&\r\n                selectableStudents.map(student => (\r\n                  <option key={student.id} value={student.id}>\r\n                    {student.firstName} {student.lastName}\r\n                  </option>\r\n                ))}\r\n            </Select>\r\n          </div>\r\n          <UnlabeledInput>\r\n            <div>\r\n              <Checkbox\r\n                checked={allStudents}\r\n                onChange={this.handleAllStudentsToggle}\r\n              >\r\n                All Students\r\n              </Checkbox>\r\n              <CheckboxInfo>\r\n                Select to run one report for each student.\r\n              </CheckboxInfo>\r\n            </div>\r\n          </UnlabeledInput>\r\n        </ReportFormDefaultLayout>\r\n      </ReportFormContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StudentRiskReport;\r\n\r\nconst CountType = styled.div`\r\n  margin-bottom: 25px;\r\n\r\n  & > * {\r\n    width: 140px;\r\n    margin-top: 5px;\r\n  }\r\n`;\r\n\r\nconst UnlabeledInput = styled.div`\r\n  & > * {\r\n    margin-top: 26px;\r\n  }\r\n`;\r\n\r\nconst CheckboxInfo = styled.div`\r\n  margin-left: 24px;\r\n  font-size: 14px;\r\n  font-style: italic;\r\n  color: #4a4a4a;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport ReportFormContainer from './ReportFormContainer';\r\nimport ReportFormDefaultLayout from './ReportFormDefaultLayout';\r\nimport Label from '../Label';\r\nimport Select from '../Select';\r\n\r\nimport Checkbox from '../Checkbox';\r\nimport getReportFileName from '../../utils/getReportFileName';\r\n\r\n@inject('store')\r\n@observer\r\nclass PostSchoolStudentReport extends Component {\r\n  @observable startYearId = null;\r\n  @observable studentId = null;\r\n  @observable allStudents = false;\r\n  @observable submitTask = null;\r\n\r\n  @computed get startYear() {\r\n    const { schoolYears } = this.props;\r\n    const { startYearId } = this;\r\n     return startYearId && schoolYears.find(y => y.id === startYearId);\r\n  }\r\n\r\n  @computed get startTerm() {\r\n    const { startYear } = this;\r\n    return startYear && startYear.terms[0];\r\n  }\r\n\r\n  @computed get selectableStudents() {\r\n    const { startTerm } = this;\r\n    if(!startTerm) return [];\r\n    return startTerm.students\r\n      .filter(termInfo => termInfo.gradeLevel === 'Post-school');\r\n  }\r\n\r\n  @computed get selectedStudent() {\r\n    const { studentId, selectableStudents } = this;\r\n    return studentId && selectableStudents && selectableStudents.find(s => s.id === studentId)\r\n  }\r\n\r\n  @computed get canRun() {\r\n    const { startYear, selectedStudent, allStudents } = this;\r\n    return startYear && (allStudents || selectedStudent);\r\n  }\r\n\r\n  @action.bound async handleStartYearIdChange(event) {\r\n    const { store } = this.props;\r\n    this.startYearId = +event.target.value;\r\n    this.studentId = null;\r\n    const { startTerm } = this;\r\n    if(startTerm) await store.fetchTermStudents(startTerm);\r\n  }\r\n\r\n  @action.bound handleStudentIdChange(event) {\r\n    this.studentId = +event.target.value;\r\n  }\r\n\r\n  @action.bound handleAllStudentsToggle() {\r\n    this.allStudents = !this.allStudents;\r\n    if(this.allStudents) {\r\n      this.studentId = null;\r\n    }\r\n  }\r\n\r\n  @action.bound handleSubmit() {\r\n    const { store } = this.props;\r\n    const { startYear, selectedStudent, allStudents } = this;\r\n\r\n    const startTerm = startYear && startYear.terms[0];\r\n    const startYearId = startYear && startYear.id;\r\n    const startTermId = startTerm && startTerm.id;\r\n    const studentId = selectedStudent && selectedStudent.id;\r\n\r\n    const fileName = getReportFileName('post-school-student', {\r\n      startYear,\r\n      student: selectedStudent,\r\n    });\r\n\r\n    if(allStudents) {\r\n      // All students\r\n      this.submitTask = store.downloadReport(\r\n        '/postSchoolStudent',\r\n        fileName,\r\n        {startYearId, startTermId},\r\n      );\r\n    } else {\r\n      // Individual student\r\n      this.submitTask = store.downloadReport(\r\n        '/postSchoolStudent',\r\n        fileName,\r\n        {startYearId, startTermId, studentId},\r\n      );\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const {\r\n      schoolYears,\r\n      closePath,\r\n    } = this.props;\r\n    const {\r\n      allStudents,\r\n      startYear,\r\n      selectedStudent,\r\n      selectableStudents,\r\n      canRun,\r\n      submitTask,\r\n    } = this;\r\n\r\n    return (\r\n      <ReportFormContainer title=\"Post-School Student Report - Per Student\" subtitle=\"one year\" onSubmit={this.handleSubmit} closePath={closePath} canRun={canRun} submitTask={submitTask}>\r\n        <ReportFormDefaultLayout>\r\n          <div>\r\n            <Label>Year</Label>\r\n            <Select value={startYear && startYear.id} onChange={this.handleStartYearIdChange} placeholder=\"Year\">\r\n              {schoolYears.map(schoolYear =>\r\n                <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.yearRange}</option>\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <Label>Student</Label>\r\n            <Select placeholder=\"Choose a student or select 'All'\" value={selectedStudent && selectedStudent.id} disabled={allStudents} onChange={this.handleStudentIdChange}>\r\n              {selectableStudents && selectableStudents.map(student => \r\n                <option key={student.id} value={student.id}>{student.fullName} ({student.studentId})</option>\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <UnlabeledInput>\r\n            <div>\r\n              <Checkbox checked={allStudents} onChange={this.handleAllStudentsToggle}>All Students</Checkbox>\r\n              <CheckboxInfo>Select to run one report for each student.</CheckboxInfo>\r\n            </div>\r\n          </UnlabeledInput>\r\n        </ReportFormDefaultLayout>\r\n      </ReportFormContainer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PostSchoolStudentReport;\r\n\r\nconst UnlabeledInput = styled.div`\r\n  & > * {\r\n    margin-top: 26px;\r\n  };\r\n`;\r\n\r\nconst CheckboxInfo = styled.div`\r\n  margin-left: 24px;\r\n  font-size: 14px;\r\n  font-style: italic;\r\n  color: #4A4A4A;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { observable } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { withRouter, Route } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Screen from '../components/Screen';\r\nimport Main from '../components/Main';\r\nimport Content from '../components/Content';\r\nimport NavigationBar from '../components/NavigationBar';\r\nimport ListContainer from '../components/ListContainer';\r\nimport ListItem from '../components/ListItem';\r\nimport ListItemInfo from '../components/ListItemInfo';\r\nimport TabContainer from '../components/TabContainer';\r\nimport Tabs from '../components/Tabs';\r\nimport Tab from '../components/Tab';\r\nimport SummaryReport from '../components/reports/SummaryReport';\r\nimport RiskRosterReport from '../components/reports/RiskRosterReport';\r\nimport RiskSummaryReport from '../components/reports/RiskSummaryReport';\r\nimport NumberOfStudents from '../components/reports/NumberOfStudents';\r\nimport StudentReport from '../components/reports/StudentReport';\r\nimport StudentRiskReport from '../components/reports/StudentRiskReport';\r\nimport PostSchoolReport from '../components/reports/PostSchoolReport';\r\nimport Divider from '../components/Divider';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\nconst subroute = '/Reports';\r\nconst summary = '/Summary';\r\nconst individual = '/Individual';\r\n\r\nconst pathNames = {\r\n  summary: subroute + summary + '/',\r\n  riskRoster: subroute + summary + '/RiskRoster',\r\n  riskSummary: subroute + summary + '/RiskSummary',\r\n  numberOfStudents: subroute + summary + '/StudentCount',\r\n  student: subroute + individual + '/Student',\r\n  studentRisk: subroute + individual + '/StudentRisk',\r\n  postSchool: subroute + individual + '/PostSchool',\r\n};\r\n\r\n@inject('store')\r\n@withRouter\r\n@observer\r\nclass Reports extends Component {\r\n  @observable reportType = 'summary';\r\n\r\n  componentDidMount() {\r\n    this.checkReportTypeRoute();\r\n  }\r\n\r\n  componentDidUpdate(nextProps) {\r\n    if (this.props.location.pathname !== nextProps.location.pathname) {\r\n      this.checkReportTypeRoute();\r\n    }\r\n  }\r\n\r\n  switchReportType = reportType => {\r\n    const { history } = this.props;\r\n    if(reportType === 'individual') {\r\n      history.push('/Reports/Individual');\r\n    } else {\r\n      history.push('/Reports')\r\n    }\r\n  };\r\n\r\n  checkReportTypeRoute = () => this.reportType = this.props.location.pathname.indexOf(individual) > -1 ? 'individual' : 'summary';\r\n\r\n  checkRoute = (path) => this.props.location.pathname === path;\r\n\r\n  handleReportClick = (path) => {\r\n    if (this.props.location.pathname !== path) {\r\n      this.props.history.push(path);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { store } = this.props;\r\n    const { schoolYears } = store;\r\n    const {\r\n      checkRoute,\r\n      handleReportClick,\r\n      reportType,\r\n      switchReportType,\r\n    } = this;\r\n\r\n    return (\r\n      <Screen>\r\n        <Main fullWidth>\r\n          <Content>\r\n            <NavigationBar/>\r\n            <ListWrapper>\r\n              <TabContainer>\r\n                <Tabs>\r\n                  <Tab active={reportType === 'individual'} onClick={() => switchReportType('individual')}>Individual</Tab>\r\n                  <Tab active={!reportType || reportType === 'summary'} onClick={() => switchReportType('summary')}>Summary</Tab>\r\n                </Tabs>\r\n              </TabContainer>\r\n              <ReportLinkList hidden={reportType !== 'summary'}>\r\n                <ReportLink onClick={() => handleReportClick(pathNames.summary)}>\r\n                  <ListItem active={checkRoute(pathNames.summary)}>\r\n                    <div>\r\n                      Summary Report\r\n                      <ListItemInfo>for one term</ListItemInfo>\r\n                    </div>\r\n                  </ListItem>\r\n                </ReportLink>\r\n                <ReportLink onClick={() => handleReportClick(pathNames.riskRoster)}>\r\n                  <ListItem active={checkRoute(pathNames.riskRoster)}>\r\n                    <div>\r\n                      Risk Roster Report\r\n                      <ListItemInfo>for one term</ListItemInfo>\r\n                    </div>\r\n                  </ListItem>\r\n                </ReportLink>\r\n                <ReportLink onClick={() => handleReportClick(pathNames.riskSummary)}>\r\n                  <ListItem active={checkRoute(pathNames.riskSummary)}>\r\n                    <div>\r\n                      Risk Summary\r\n                      <ListItemInfo>over time</ListItemInfo>\r\n                    </div>\r\n                  </ListItem>\r\n                </ReportLink>\r\n                <ReportLink onClick={() => handleReportClick(pathNames.numberOfStudents)}>\r\n                  <ListItem active={checkRoute(pathNames.numberOfStudents)}>\r\n                    <div>\r\n                      Number of Students\r\n                      <ListItemInfo>by disability, risk level, IEP role, support need, skills training, post-school outcomes (chart)</ListItemInfo>\r\n                    </div>\r\n                  </ListItem>\r\n                </ReportLink>\r\n              </ReportLinkList>\r\n              <ReportLinkList hidden={reportType !== 'individual'}>\r\n                <ReportLink onClick={() => handleReportClick(pathNames.student)}>\r\n                  <ListItem active={checkRoute(pathNames.student)}>\r\n                    <div>\r\n                      Student Report\r\n                      <ListItemInfo>for one term or over time</ListItemInfo>\r\n                    </div>\r\n                  </ListItem>\r\n                </ReportLink>\r\n                <ReportLink onClick={() => handleReportClick(pathNames.studentRisk)}>\r\n                  <ListItem active={checkRoute(pathNames.studentRisk)}>\r\n                    <div>\r\n                      Risk Report\r\n                      <ListItemInfo>for one term or over time</ListItemInfo>\r\n                    </div>\r\n                  </ListItem>\r\n                </ReportLink>\r\n                <ReportLink onClick={() => handleReportClick(pathNames.postSchool)}>\r\n                  <ListItem active={checkRoute(pathNames.postSchool)}>\r\n                    <div>\r\n                      Post-School Student Report\r\n                      <ListItemInfo>for one year</ListItemInfo>\r\n                    </div>\r\n                  </ListItem>\r\n                </ReportLink>\r\n              </ReportLinkList>\r\n            </ListWrapper>\r\n\r\n            <StyledDivider/>\r\n\r\n            <Route exact path={pathNames.summary} render={props =>\r\n              <SubRouteWrapper>\r\n                <SummaryReport store={store} schoolYears={schoolYears}/>\r\n              </SubRouteWrapper>\r\n            }/>\r\n            <Route path={pathNames.riskRoster} render={props =>\r\n              <SubRouteWrapper>\r\n                <RiskRosterReport store={store} schoolYears={schoolYears}/>\r\n              </SubRouteWrapper>\r\n            }/>\r\n            <Route path={pathNames.riskSummary} render={props =>\r\n              <SubRouteWrapper>\r\n                <RiskSummaryReport store={store} schoolYears={schoolYears}/>\r\n              </SubRouteWrapper>\r\n            }/>\r\n            <Route path={pathNames.numberOfStudents} render={props =>\r\n              <SubRouteWrapper>\r\n                <NumberOfStudents store={store} schoolYears={schoolYears}/>\r\n              </SubRouteWrapper>\r\n            }/>\r\n            <Route exact path={pathNames.student} render={props =>\r\n              <SubRouteWrapper>\r\n                <StudentReport store={store} schoolYears={schoolYears} closePath=\"/Reports/Individual\"/>\r\n              </SubRouteWrapper>\r\n            }/>\r\n            <Route path={pathNames.studentRisk} render={props =>\r\n              <SubRouteWrapper>\r\n                <StudentRiskReport store={store} schoolYears={schoolYears} closePath=\"/Reports/Individual\"/>\r\n              </SubRouteWrapper>\r\n            }/>\r\n            <Route path={pathNames.postSchool} render={props =>\r\n              <SubRouteWrapper>\r\n                <PostSchoolReport store={store} schoolYears={schoolYears} closePath=\"/Reports/Individual\"/>\r\n              </SubRouteWrapper>\r\n            }/>\r\n          </Content>\r\n        </Main>\r\n      </Screen>\r\n    );\r\n  }\r\n}\r\n\r\nconst ReportLinkList = styled.div`\r\n  margin-top: 5px;  \r\n`;\r\n\r\nconst ReportLink = styled.div``;\r\n\r\nconst ListWrapper = styled(ListContainer)`\r\n  min-width: 450px;\r\n  max-width: 450px;\r\n  flex: 1 1 100%;\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    width: 100%;\r\n    min-width: 0;\r\n    max-width: none;\r\n  }\r\n`;\r\n\r\nconst StyledDivider = styled(Divider)`\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst SubRouteWrapper = styled.div`\r\n  overflow: auto;\r\n  flex: 1;\r\n\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    min-width: 440px;\r\n  }\r\n\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #F0F0F0;\r\n  }\r\n`;\r\n\r\nexport default Reports;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport swal from 'sweetalert2';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport Button from './Button';\r\nimport Checkbox from './Checkbox';\r\nimport FormError from './FormError';\r\nimport AsyncTask from '../models/AsyncTask';\r\nimport { Rejected } from './Task';\r\nimport FormRow from './FormRow';\r\nimport FormColumn from './FormColumn';\r\nimport XButton from './XButton';\r\nimport SpinnerOverlay from './SpinnerOverlay';\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass EditUserForm extends Component {\r\n  @observable userToEdit = null;\r\n  @observable firstName = '';\r\n  @observable lastName = '';\r\n  @observable email = '';\r\n  @observable password = '';\r\n  @observable passwordConfirmed = '';\r\n  @observable admin = false;\r\n  @observable submitTask = null;\r\n\r\n  @computed get fields() {\r\n    const {\r\n      userToEdit,\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      password,\r\n      admin,\r\n    } = this;\r\n\r\n    return {\r\n      firstName,\r\n      lastName,\r\n      admin,\r\n      email: userToEdit && email === userToEdit.email ? null : email, // send null if the email hasn't changed\r\n      password: password.length ? password : null,\r\n    };\r\n  }\r\n\r\n  @computed get title() {\r\n    const { title } = this.props;\r\n    if(title) return title;\r\n    const { userToEdit } = this;\r\n    if(userToEdit) {\r\n      return 'EDIT USER';\r\n    }\r\n    return 'ADD A NEW USER';\r\n  }\r\n\r\n  @action.bound handleFirstNameChange(event) {\r\n    this.firstName = event.target.value;\r\n  }\r\n\r\n  @action.bound handleLastNameChange(event) {\r\n    this.lastName = event.target.value;\r\n  }\r\n\r\n  @action.bound handleEmailChange(event) {\r\n    this.email = event.target.value;\r\n  }\r\n\r\n  @action.bound handlePasswordChange(event) {\r\n    this.password = event.target.value;\r\n  }\r\n\r\n  @action.bound handlePasswordConfirmedChange(event) {\r\n    this.passwordConfirmed = event.target.value;\r\n  }\r\n\r\n  @action.bound handleAdminToggled() {\r\n    this.admin = !this.admin;\r\n  }\r\n\r\n  @action.bound async handleSubmit(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    const { userToEdit, fields } = this;\r\n    const { store, redirectTo } = this.props;\r\n    let user;\r\n\r\n    if(this.password.length && this.password !== this.passwordConfirmed) {\r\n      this.submitTask = new AsyncTask(new Error('Passwords don\\'t match'));\r\n      this.submitTask.catch(() => {});\r\n      return;\r\n    }\r\n\r\n    if(userToEdit) {\r\n      this.submitTask = store.updateUser(userToEdit, fields);\r\n      user = await this.submitTask;\r\n      if(this.submitTask.resolved) {\r\n        this.props.history.push(redirectTo || user.viewRoute);\r\n        await swal(\r\n          'Success',\r\n          `User ${user.fullName} updated`,\r\n          'success'\r\n        );\r\n      }\r\n    } else {\r\n      this.submitTask = store.createUser(fields);\r\n      user = await this.submitTask;\r\n\r\n      if(this.submitTask.resolved) {\r\n        this.props.history.push(redirectTo || user.viewRoute);\r\n        await swal(\r\n          'Success',\r\n          `User ${user.fullName} created`,\r\n          'success'\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  @action.bound async handleDeleteClick(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    const { userToEdit } = this;\r\n    const confirmResult = await swal({\r\n      title: 'Are you sure?',\r\n      text: `This will delete the user ${userToEdit.fullName} permanently.`,\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes',\r\n      cancelButtonText: 'No'\r\n    });\r\n\r\n    if(!confirmResult.value) return;\r\n\r\n    const { store } = this.props;\r\n    if(userToEdit) {\r\n      const removeTask = store.deleteUser(this.userToEdit);\r\n      await removeTask;\r\n      if(removeTask.resolved) {\r\n        this.props.history.push('/Users');\r\n\r\n        await swal(\r\n          'Success',\r\n          `Student ${userToEdit.fullName} removed`,\r\n          'success'\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  @action editExisting(user) {\r\n    this.userToEdit = user;\r\n    this.firstName = user.firstName;\r\n    this.lastName = user.lastName;\r\n    this.email = user.email;\r\n    this.admin = user.admin;\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this.props.user) {\r\n      this.editExisting(this.props.user);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { user, store, hideDeleteButton, hideAdminCheckbox, hideCloseButton, ...rest } = this.props;\r\n    const {\r\n      userToEdit,\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      password,\r\n      passwordConfirmed,\r\n      admin,\r\n      submitTask,\r\n    } = this;\r\n\r\n    return (\r\n      <Root {...rest}>\r\n        <SpinnerOverlay open={submitTask && submitTask.pending}/>\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Header>\r\n            <Title>\r\n              {this.title}\r\n            </Title>\r\n\r\n            <XButton hidden={hideCloseButton} component={Link} to=\"/Users\"/>\r\n          </Header>\r\n\r\n          <Rejected task={submitTask}>\r\n            {() => <SubmitError error={submitTask.error}/>}\r\n          </Rejected>\r\n\r\n          <FormRow>\r\n            <FormColumn>\r\n              <InputLabel>User First Name</InputLabel>\r\n              <Input value={firstName} onChange={this.handleFirstNameChange}/>\r\n            </FormColumn>\r\n\r\n            <FormColumn>\r\n              <InputLabel>User Last Name</InputLabel>\r\n              <Input value={lastName} onChange={this.handleLastNameChange}/>\r\n            </FormColumn>\r\n          </FormRow>\r\n\r\n          <FormRow>\r\n            <FormColumn>\r\n              <InputLabel>User Email</InputLabel>\r\n              <Input value={email} onChange={this.handleEmailChange}/>\r\n            </FormColumn>\r\n          </FormRow>\r\n\r\n          <FormRow>\r\n            <FormColumn>\r\n              <InputLabel>Password</InputLabel>\r\n              <Input type=\"password\" value={password} onChange={this.handlePasswordChange}/>\r\n            </FormColumn>\r\n\r\n            <FormColumn>\r\n              <InputLabel>Password (Confirmed)</InputLabel>\r\n              <Input type=\"password\" value={passwordConfirmed} onChange={this.handlePasswordConfirmedChange}/>\r\n            </FormColumn>\r\n          </FormRow>\r\n\r\n          {!hideAdminCheckbox && \r\n            <FormRow>\r\n              <FormColumn>\r\n                <Checkbox label=\"Admin\" checked={admin} onChange={this.handleAdminToggled} disabled={user && user.id === store.user.id}/>\r\n              </FormColumn>\r\n            </FormRow>\r\n          }\r\n\r\n          <ButtonFormRow>\r\n            <FormColumn>\r\n              <SaveButton onClick={this.handleSubmit}>SAVE</SaveButton>\r\n            </FormColumn>\r\n            <FormColumn>\r\n              {userToEdit && !hideDeleteButton &&\r\n                <RemoveButton onClick={this.handleDeleteClick}>DELETE</RemoveButton>\r\n              }\r\n            </FormColumn>\r\n          </ButtonFormRow>\r\n        </Form>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditUserForm;\r\n\r\nconst Root = styled.div`\r\n  position: relative;\r\n  flex: 1 0 auto;\r\n  padding: 33px 38px 33px 38px;\r\n  background-color: #F2F2F2;\r\n  overflow: auto;\r\n`;\r\n\r\nconst SubmitError = styled(FormError)`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n\tcolor: #D43425;\r\n  font-family: \"Oswald\";\r\n  font-weight: 200;\r\n\tfont-size: 16px;\r\n  line-height: 21px;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex: 1;\r\n`;\r\n\r\nconst InputLabel = styled.label`\r\n\tcolor: #555555;\r\n\tfont-family: \"Open Sans\";\r\n\tfont-size: 14px;\r\n\tfont-weight: bold;\r\n  line-height: 19px;\r\n  margin-bottom: 7px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  min-height: 40px;\r\n  padding-left: 20px;\r\n  border: none;\r\n`;\r\n\r\nconst SaveButton = styled(Button)`\r\n  color: white;\r\n  height: 50px;\r\n  background-color: #D43425;\r\n  width: 100%;\r\n  font-family: \"Oswald\";\r\n  font-size: 16px;\r\n  line-height: 21px;\r\n  font-weight: 200;\r\n`;\r\n\r\nconst RemoveButton = styled(Button)`\r\n  color: white;\r\n  height: 50px;\r\n  background-color: #4A4A4A;\r\n  width: 100%;\r\n  font-family: \"Oswald\";\r\n  font-size: 16px;\r\n  line-height: 21px;\r\n  font-weight: 200;\r\n`;\r\n\r\nconst ButtonFormRow = styled(FormRow)`\r\n  padding-top: 40px;\r\n  align-items: flex-start;\r\n  flex: 1;\r\n`;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport EditUserForm from '../components/EditUserForm';\r\nimport { observer, inject } from 'mobx-react';\r\nimport Screen from '../components/Screen';\r\nimport Section from '../components/Section';\r\n\r\n@inject('store')\r\n@observer\r\nclass EditProfile extends Component {\r\n  render() {\r\n    const { user } = this.props.store;\r\n\r\n    return (\r\n      <Screen>\r\n        <Main fullWidth>\r\n          <StyledEditUserForm\r\n            hideDeleteButton\r\n            hideCloseButton\r\n            hideAdminCheckbox\r\n            title=\"Edit Profile\"\r\n            redirectTo=\"/EditProfile\"\r\n            user={user}\r\n          />\r\n        </Main>\r\n      </Screen>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditProfile;\r\n\r\nconst Main = styled(Section)`\r\n  height: 100%;\r\n  background-color: #F2F2F2;\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst StyledEditUserForm = styled(EditUserForm)`\r\n  overflow: hidden;\r\n  width: 100%;\r\n  max-width: 800px;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Screen from '../components/Screen';\r\n\r\nexport default function About() {\r\n  return (\r\n    <Root>\r\n      <Main>\r\n        <h2>NTACT</h2>\r\n        <p>The Transition Gradebook was developed by the National Technical Assistance Center on Transition (NTACT).  NTACT is a Technical Assistance and Dissemination project, funded by the U.S. Department of Education’s Office of Special Education Programs (OSEP) and the Rehabilitation Services Administration (RSA), Cooperative Agreement Number H326E140004. NTACT is funded from January 1, 2015 until December 31, 2019. Dr. Selete Avoke serves as the project officer from OSEP.  Ms. Kristen Rhinehart-Fernandez serves as the project officer from RSA.</p>\r\n        \r\n        <h2>NTACT purpose</h2>\r\n        <p>NTACT’s purpose is to assist State Education Agencies, Local Education Agencies, State VR agencies, and VR service providers in implementing evidence-based and promising practices ensuring students with disabilities, including those with significant disabilities, graduate prepared for success in postsecondary education and employment.</p>\r\n        <p>Visit NTACT website: <a href=\"https://www.transitionta.org/\" target=\"_blank\" rel=\"noopener noreferrer\">www.transitionta.org</a></p>\r\n\r\n        <h2>Transition Gradebook</h2>\r\n        <p>The Transition Gradebook came about because of a state’s request for a tool that would let them track, organize and report the transition-related activities their schools were providing for students in special education. Development of the current version of the Transition Gradebook ensued when earlier spreadsheet-based versions of the tool became too complex to use and maintain while remaining in a pleasant humor. </p>\r\n\r\n        <h3>Questions about Transition Gradebook?</h3>\r\n        <p>Email us: <a href=\"mailto:admin@transitiongradebook.com\">admin@transitiongradebook.com</a></p>\r\n        <div style={{flex: 1}}>{/* Keeps the footer at the bottom */}</div>\r\n        <Footer>\r\n          <NTACTLogo/>\r\n        </Footer>\r\n      </Main>\r\n    </Root>\r\n  );\r\n}\r\n\r\nconst Root = styled(Screen)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Main = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  overflow: auto;\r\n  width: 100%;\r\n  background-color: #5B5B5B;\r\n  color: white;\r\n  flex: 1;\r\n\r\n  > h2,\r\n  > h3,\r\n  > p {\r\n    width: 460px;\r\n    max-width: calc(100% - 30px);\r\n    margin-left: 15px;\r\n    margin-right: 15px;\r\n  }\r\n\r\n  h2 {\r\n    color: #F5633A;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    line-height: 22px;\r\n  }\r\n\r\n  h3 {\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    line-height: 22px;\r\n  }\r\n\r\n  p {\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n  }\r\n\r\n  * + h2 {\r\n    margin-top: 35px;\r\n  }\r\n`;\r\n\r\nconst Footer = styled.div`\r\n  margin-top: 15px;\r\n  width: 100%;\r\n  background-color: white;\r\n  padding: 15px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  min-height: 102px;\r\n  max-height: 102px;\r\n  flex: 1;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst NTACTLogo = styled.img.attrs({src: require('../assets/ntact_logo.png')})`\r\n  width: 294px;\r\n  height: 63px;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observer, inject } from 'mobx-react';\r\nimport Screen from '../components/Screen';\r\n\r\n@inject('store')\r\n@observer\r\nclass MissingSchoolYear extends Component {\r\n  render() {\r\n    const { admins } = this.props.store;\r\n\r\n    return (\r\n      <Root>\r\n        <Content>\r\n          <Instructions>\r\n            There is no current school year.\r\n            Contact an admin to create one.\r\n          </Instructions>\r\n\r\n          <AdminListTitle>Admins</AdminListTitle>\r\n          <AdminList>\r\n            {admins.map(admin =>\r\n              <AdminListItem key={admin.id}>\r\n                <a href={`mailto:${admin.email}`}>{admin.email}</a>\r\n              </AdminListItem>\r\n            )}\r\n          </AdminList>\r\n        </Content>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MissingSchoolYear;\r\n\r\nconst Root = styled(Screen)`\r\n  background-color: #5B5B5B;\r\n  color: white;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  max-width: 100%;\r\n  width: 600px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Instructions = styled.h1`\r\n  text-align: center;\r\n  width: 100%;\r\n  margin-top: 100px;\r\n`;\r\n\r\nconst AdminListTitle = styled.h2`\r\n  text-align: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  margin-bottom: 3px;\r\n`;\r\n\r\nconst AdminList = styled.ul`\r\n  list-style: none;\r\n  padding: 0;\r\n`;\r\n\r\nconst AdminListItem = styled.li`\r\n  text-align: center;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport swal from 'sweetalert2';\r\nimport Screen from '../components/Screen';\r\nimport Section from '../components/Section';\r\nimport Label from '../components/Label';\r\nimport Input from '../components/Input';\r\nimport BlockButton from '../components/BlockButton';\r\nimport FormError from '../components/FormError';\r\nimport { Rejected } from '../components/Task';\r\nimport splitArray from '../utils/splitArray';\r\nimport responsive from '../utils/responsive';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\n@responsive\r\n@inject('store')\r\n@observer\r\nclass SchoolSettings extends Component {\r\n  @observable name = '';\r\n  @observable gradeConversions = [];\r\n  @observable saveTask = null;\r\n  @observable dirty = false;\r\n\r\n  @computed get gradeConversionColumns() {\r\n    const { breakpoints } = this.props;\r\n    const { gradeConversions } = this;\r\n    return breakpoints.small \r\n      ? [gradeConversions]\r\n      : splitArray(gradeConversions);\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { schoolSettings } = props.store;\r\n    this.name = schoolSettings.name;\r\n    this.gradeConversions = schoolSettings.gradeConversions.map(g => ({...g}));\r\n  }\r\n\r\n  @action.bound handleNameChange(event) {\r\n    this.dirty = true;\r\n    this.name = event.target.value;\r\n  }\r\n\r\n  @action.bound handleGradeConversionChange(gradeConversion, key, value) {\r\n    this.dirty = true;\r\n    gradeConversion[key] = value;\r\n  }\r\n\r\n  @action.bound async handleSubmit(event) {\r\n    event.preventDefault();\r\n    const { store } = this.props;\r\n    const { name, gradeConversions } = this;\r\n    this.saveTask = store.editSchoolSettings({name, gradeConversions});\r\n    await this.saveTask;\r\n    await swal('Success', 'School settings saved successfully', 'success');\r\n  }\r\n\r\n  @action.bound handleClearClick(event) {\r\n    event.preventDefault();\r\n    this.dirty = true;\r\n    this.gradeConversions.forEach(gradeConversion => {\r\n      gradeConversion.percent = '';\r\n      gradeConversion.letter = '';\r\n    });\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { name, gradeConversionColumns, dirty, saveTask } = this;\r\n\r\n    return (\r\n      <Root>\r\n        <Main>\r\n          <Title>School Settings</Title>\r\n\r\n          <Rejected task={saveTask}>\r\n            {error => <ErrorMessages error={error}/>}\r\n          </Rejected>\r\n\r\n          <Form onSubmit={this.handleSubmit}>\r\n            <Label>School Name</Label>\r\n            <SchoolNameInput value={name} onChange={this.handleNameChange}/>\r\n            <ConversionTitle>GPA Converter</ConversionTitle>\r\n            <ConversionInstructions>\r\n              How do you want Transition Gradebook to compute GPAs?\r\n              Enter letter grade or percent grade information below.\r\n            </ConversionInstructions>\r\n            <Conversions>\r\n              {gradeConversionColumns.map((gradeConversions, i) =>\r\n                <ConversionColumn key={i}>\r\n                  <ConversionColumnHeaders>\r\n                    <Label>Percent</Label>\r\n                    <Label>Letter</Label>\r\n                    <Label>GPA</Label>\r\n                  </ConversionColumnHeaders>\r\n                  {gradeConversions.map((gradeConversion, j) =>\r\n                    <ConversionRow\r\n                      key={j}\r\n                      gradeConversion={gradeConversion}\r\n                      onChange={this.handleGradeConversionChange}\r\n                    />\r\n                  )}\r\n                </ConversionColumn>\r\n              )}\r\n            </Conversions>\r\n\r\n            <ButtonRow>\r\n              <SaveButton disabled={!dirty}>SAVE</SaveButton>\r\n              <ClearButton onClick={this.handleClearClick}>CLEAR ALL</ClearButton>\r\n            </ButtonRow>\r\n          </Form>\r\n        </Main>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SchoolSettings;\r\n\r\nconst Root = styled(Screen)``;\r\n\r\nconst Main = styled(Section)`\r\n  background-color: #5B5B5B;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  overflow-y: auto;\r\n  padding: 24px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n  line-height: 27px;\r\n  text-align: center;\r\n  margin: 0 24px 24px 24px;\r\n  color: white;\r\n`;\r\n\r\nconst ErrorMessages = styled(FormError)`\r\n  max-height: 200px;\r\n  overflow: auto;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  max-width: 513px;\r\n  width: 100%;\r\n  color: white;\r\n`;\r\n\r\nconst StyledInput = styled(Input)`\r\n  background-color: #4A4A4A;\r\n  color: white;\r\n`;\r\n\r\nconst SchoolNameInput = styled(StyledInput).attrs({\r\n  placeholder: 'Type school name here',\r\n})`\r\n  width: 100%;\r\n`;\r\n\r\nconst PercentInput = styled(StyledInput).attrs({type: 'number', min: 0, max: 100})``;\r\n\r\nconst LetterInput = styled(StyledInput).attrs({type: 'text'})``;\r\n\r\nconst GpaInput = styled(StyledInput).attrs({disabled: true})`\r\n  color: #CCC;\r\n`;\r\n\r\nconst ConversionTitle = styled.h2`\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  line-height: 19px;\r\n  margin: 30px 0 10px 0;\r\n`;\r\n\r\nconst ConversionInstructions = styled.p`\r\n\tfont-size: 14px;\r\n  line-height: 19px;\r\n  margin: 0 0 12px;\r\n`;\r\n\r\nconst Conversions = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nconst ConversionColumn = styled.div`\r\n  flex: 1 1 50%;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  & + & {\r\n    margin-left: 53px;\r\n  }\r\n`;\r\n\r\nconst ConversionColumnHeaders = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  > label {\r\n    width: 60px;\r\n    color: #F5633A;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    line-height: 19px;\r\n    margin-bottom: 3px;\r\n\r\n    @media ${breakpoints.small} {\r\n      width: 33.3%;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  > label + label {\r\n    margin-left: 22px;\r\n  }\r\n`;\r\n\r\nconst ConversionRow = styled(observer(props => {\r\n  const { gradeConversion, onChange, ...rest } = props;\r\n  const { letter, gpa, percent } = gradeConversion;\r\n\r\n  return (\r\n    <div {...rest}>\r\n      <PercentInput\r\n        value={percent}\r\n        onChange={event => onChange(gradeConversion, 'percent', +event.target.value)}\r\n      />\r\n      <LetterInput\r\n        value={letter}\r\n        onChange={event => onChange(gradeConversion, 'letter', event.target.value)}\r\n      />\r\n      <GpaInput value={gpa}/>\r\n    </div>\r\n  );\r\n}))`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n\r\n  input { \r\n    width: 60px;\r\n    padding: 0;\r\n    text-align: center;\r\n    @media ${breakpoints.small} {\r\n      width: 33.3%;\r\n    }\r\n  }\r\n\r\n  > * + * {\r\n    margin-left: 22px;\r\n  }\r\n\r\n  & + & {\r\n    margin-top: 6px;\r\n  }\r\n`;\r\n\r\nconst ButtonRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: stretch;\r\n  margin-top: 33px;\r\n  width: 100%;\r\n\r\n  > button {\r\n    flex: 1;\r\n  }\r\n`;\r\n\r\nconst SaveButton = BlockButton;\r\n\r\nconst ClearButton = styled(BlockButton).attrs({\r\n  color: '#9B9B9B',\r\n  hoverColor: '#757575',\r\n})`\r\n  max-width: 110px;\r\n  margin-left: 23px;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport NavigationBar from '../components/NavigationBar';\r\n\r\nclass AddUser extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <NavigationBar/>\r\n        AddUser\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddUser;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport default function CircleStepGroup(props) {\r\n  return (\r\n    <Root {...props}/>\r\n  );\r\n}\r\n\r\nCircleStepGroup.Item = function CircleStepItem(props) {\r\n  const { text, active } = props;\r\n  return (\r\n    <ItemRoot data-state={active ? 'active' : 'inactive'}>\r\n      <ItemText>{text}</ItemText>\r\n      <ItemCircle/>\r\n    </ItemRoot>\r\n  );\r\n}\r\n\r\nconst Root = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nconst ItemRoot = styled.div`\r\n  position: relative;\r\n  width: 125px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  &:first-child .circle {\r\n    border-color: #F5633A;\r\n  }\r\n\r\n  &[data-state='active'] .circle {\r\n    background-color: #F5633A;\r\n    border-color: #F5633A;\r\n  }\r\n\r\n  &:not(:last-child) .circle::after {\r\n    content: '';\r\n    background-color: #D8D8D8;\r\n    position: absolute;\r\n    width: 101px;\r\n    left: 23px;\r\n    top: 50%;\r\n    height: 1px;\r\n  }\r\n\r\n  &[data-state='active'] + &[data-state='inactive'] .circle {\r\n    border-color: #F5633A;\r\n  }\r\n\r\n  &[data-state='active'] .circle::after {\r\n    background-color: #F5633A;\r\n  }\r\n`;\r\n\r\nconst ItemText = styled.div`\r\n  color: #D8D8D8;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  line-height: 14px;\r\n  margin-bottom: 7px;\r\n`;\r\n\r\nconst ItemCircle = styled.div.attrs({className: 'circle'})`\r\n  position: relative;\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  border: 2px solid #D8D8D8;\r\n  transition: background-color 0.2s, border-color 0.2s;\r\n`;","import React, { Component } from 'react';\r\nimport { capitalize, range } from 'lodash';\r\nimport { observable, computed, action } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport swal from 'sweetalert2';\r\nimport styled from 'styled-components';\r\nimport Screen from '../components/Screen';\r\nimport Section from '../components/Section';\r\nimport Select from '../components/Select';\r\nimport Input from '../components/Input';\r\nimport EnumSelect from '../components/EnumSelect';\r\nimport Button from '../components/Button';\r\nimport StudentList from '../components/StudentList';\r\nimport StudentListItem from '../components/StudentListItem';\r\nimport CircleStepGroup from '../components/CircleStepGroup';\r\nimport FormError from '../components/FormError';\r\nimport SpinnerOverlay from '../components/SpinnerOverlay';\r\nimport * as Icons from '../components/Icons';\r\nimport * as breakpoints from '../breakpoints';\r\nimport enums from '../enums';\r\n\r\nconst steps = {\r\n  START: 1,\r\n  SETUP: 2, // Pick year and term type\r\n  MIGRATE: 3, // Migrate students from previous year\r\n  CONFIRM: 4, // Confirm year creation\r\n};\r\n\r\nconst termTypeRanges = {\r\n  'annual': range(1),\r\n  'semester': range(2),\r\n  'trimester': range(3),\r\n  'quarter': range(4),\r\n};\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass AddYear extends Component {\r\n  @observable step = steps.START;\r\n  @observable year = 'NONE';\r\n  @observable termType = null;\r\n  @observable termStartDates = [];\r\n  @observable studentsToExport = [];\r\n  @observable exportedStudents = [];\r\n  @observable setupError = null;\r\n  @observable migrateError = null;\r\n  @observable createTask = null;\r\n  exportedStudentListRef = React.createRef();\r\n\r\n  @computed get exportedStudentIds() {\r\n    return this.exportedStudents.map(student => student.id);\r\n  }\r\n\r\n  @computed get migratableStudents() {\r\n    const { currentSchoolYear } = this.props.store;\r\n    if(!currentSchoolYear) return [];\r\n    return currentSchoolYear.students.filter(student => student.gradeLevel !== 'Post-school');\r\n  }\r\n\r\n  @computed get yearChoices() {\r\n    const { currentSchoolYear } = this.props.store;\r\n    const year = new Date().getFullYear();\r\n    if(currentSchoolYear) {\r\n      if(currentSchoolYear.year >= year) return [currentSchoolYear.year + 1];\r\n      else if(currentSchoolYear.year === year - 1) return [year];\r\n    }\r\n    return [year - 1, year];\r\n  }\r\n\r\n  @action.bound handleYearSelectChange(event) {\r\n    this.year = +event.target.value;\r\n  }\r\n\r\n  @action.bound handleTermTypeChange(event) {\r\n    this.termType = event.target.value;\r\n    this.termStartDates = termTypeRanges[this.termType].map(() => '');\r\n  }\r\n\r\n  @action.bound handleTermDateChange(i, event) {\r\n    this.termStartDates[i] = event.target.value;\r\n  }\r\n\r\n  @action.bound handleStudentCheckedChanged(student) {\r\n    const { studentsToExport } = this;\r\n    if(studentsToExport.includes(student)) {\r\n      studentsToExport.remove(student);\r\n    } else {\r\n      studentsToExport.push(student);\r\n    }\r\n  }\r\n\r\n  @action.bound handleGradeLevelChange(student, event) {\r\n    const gradeLevel = event.target.value;\r\n    student.gradeLevel = gradeLevel;\r\n    if(gradeLevel !== 'Post-school') {\r\n      student.exitCategory = null;\r\n      student.postSchoolOutcome = null;\r\n      student.postSchoolOutcomeOther = null;\r\n    }\r\n  }\r\n\r\n  @action.bound handleExitCategoryChange(student, event) {\r\n    student.exitCategory = event.target.value;\r\n  }\r\n\r\n  @action.bound handlePostSchoolOutcomeChange(student, event) {\r\n    const outcome = event.target.value;\r\n    student.postSchoolOutcome = outcome;\r\n    student.postSchoolOutcomeOther = outcome === 'Other' ? '' : null;\r\n  }\r\n\r\n  @action.bound handlePostSchoolOutcomeOtherChange(student, event) {\r\n    student.postSchoolOutcomeOther = event.target.value;\r\n  }\r\n\r\n  @action.bound handleExportClick() {\r\n    this.exportedStudents.push(\r\n      ...this.studentsToExport\r\n        .filter(student => !this.exportedStudents.find(s => s.id === student.id))\r\n        .map(student => {\r\n          const clone = student.clone();\r\n          const nextGradeLevel = enums.grades[\r\n            Math.min(enums.grades.length - 1, enums.grades.indexOf(student.gradeLevel) + 1)\r\n          ];\r\n          clone.gradeLevel = nextGradeLevel;\r\n          clone.exitCategory = student.exitCategory;\r\n          clone.postSchoolOutcome = student.postSchoolOutcome;\r\n          return clone;\r\n        })\r\n    );\r\n    this.studentsToExport = [];\r\n  }\r\n\r\n  @action.bound handleUnexportClick(student) {\r\n    const { exportedStudents } = this;\r\n    exportedStudents.remove(exportedStudents.find(s => s.id === student.id));\r\n  }\r\n\r\n  @action.bound handleNextClick() {\r\n    const { currentSchoolYear } = this.props.store;\r\n    const { step } = this;\r\n    // Skip migration step if there is no school year to migrate from\r\n    if(step === steps.SETUP) {\r\n      const setupError = this.getSetupError();\r\n      if(setupError) {\r\n        this.setupError = setupError;\r\n      } else {\r\n        this.setupError = null;\r\n        this.step += currentSchoolYear ? 1 : 2; // skip migration if there's no current year\r\n      }\r\n    } else if(step === steps.MIGRATE) {\r\n      const migrateError = this.getMigrateError();\r\n      if(migrateError) {\r\n        this.migrateError = migrateError;\r\n      } else {\r\n        this.migrateError = null;\r\n        this.step++;\r\n      }\r\n    } else {\r\n      this.step++;\r\n    }\r\n  }\r\n\r\n  @action.bound handleCancelClick() {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  @action.bound async handleSubmit() {\r\n    const { store } = this.props;\r\n    const { year, termType, exportedStudents, termStartDates } = this;\r\n    this.createTask = store.createSchoolYear({\r\n      year,\r\n      termType,\r\n      terms: termStartDates.map(startDate => ({ startDate: new Date(startDate) })),\r\n      students: exportedStudents.map(student => ({\r\n        gradeLevel: student.gradeLevel,\r\n        exitCategory: student.exitCategory,\r\n        postSchoolOutcome: student.postSchoolOutcome === 'Other'\r\n          ? (student.postSchoolOutcomeOther || '')\r\n          : student.postSchoolOutcome,\r\n        id: student.id,\r\n      })),\r\n    });\r\n    const schoolYear = await this.createTask;\r\n    if(this.createTask.resolved) {\r\n      this.props.history.push(`/${schoolYear.id}/students`);\r\n      await swal('Success', `School year ${year}-${year+1} created.`, 'success');\r\n    }\r\n  }\r\n\r\n  getSetupError() {\r\n    const { year, termType, termStartDates } = this;\r\n    if(!year) return new Error('You must select a year range.');\r\n    if(!termType) return new Error('You must select a term type.');\r\n\r\n    let index = 1;\r\n    if(termStartDates) for(let date of termStartDates) {\r\n      if(!date) return new Error(`Term ${index} date is missing.`);\r\n      date = new Date(date);\r\n      const termYear = date.getFullYear();\r\n      if(termYear !== year && termYear !== year + 1) return new Error(`Term ${index} should start in either ${year} or ${year + 1}`);\r\n      index++;\r\n    }\r\n  }\r\n\r\n  getMigrateError() {\r\n    let i = 0;\r\n    for(let student of this.exportedStudents) {\r\n      if(student.gradeLevel === 'Post-school') {\r\n        if(!student.exitCategory) {\r\n          this.exportedStudentListRef.current.scrollTo(i);\r\n          return new Error(`You must select an exit category for ${student.fullName}`);\r\n        }\r\n        if(!student.postSchoolOutcome) {\r\n          this.exportedStudentListRef.current.scrollTo(i);\r\n          return new Error(`You must select a post school outcome for ${student.fullName}`);\r\n        }\r\n      }\r\n      i++;\r\n    }\r\n  }\r\n\r\n  renderStart() {\r\n    return (\r\n      <StartFormRoot>\r\n        <StartTopText>Add a School Year</StartTopText>\r\n        <StartButton onClick={this.handleNextClick}><StartIcon/></StartButton>\r\n        <StartBottomText>START A NEW SCHOOL YEAR</StartBottomText>\r\n      </StartFormRoot>\r\n    );\r\n  }\r\n\r\n  renderSetupForm() {\r\n    const { year, termType, termStartDates, setupError } = this;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {setupError && <SetupFormError error={setupError}/>}\r\n        <Title>Title + Time</Title>\r\n        <YearForm>\r\n          <InputLabel>School Year Name</InputLabel>\r\n          <YearSelect value={year} onChange={this.handleYearSelectChange}>\r\n            <option>Select a year</option>\r\n            {this.yearChoices.map(year =>\r\n              <option key={year} value={year}>\r\n                {year}-{year + 1}\r\n              </option>\r\n            )}\r\n          </YearSelect>\r\n\r\n          <InputLabel>Academic Schedule</InputLabel>\r\n          <TermTypeSelect value={termType} onChange={this.handleTermTypeChange} format={capitalize}/>\r\n\r\n          {termType &&\r\n            termStartDates.map((value, i) =>\r\n              <React.Fragment key={i}>\r\n                <DateInputLabel>\r\n                  Term {i + 1} Start Date\r\n                </DateInputLabel>\r\n                <DateInput value={value} onChange={this.handleTermDateChange.bind(null, i)}/>\r\n              </React.Fragment>\r\n            )\r\n          }\r\n        </YearForm>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  SourceListItem = observer(({ student }) =>\r\n    <StudentListItem hideRisk key={student.id} student={student}>\r\n      {this.exportedStudentIds.includes(student.id) \r\n        ? <ExportedLabel>Exported</ExportedLabel>\r\n        : <input type=\"checkbox\" \r\n        checked={this.studentsToExport.includes(student)}\r\n        onChange={this.handleStudentCheckedChanged.bind(null, student)}\r\n        />\r\n      }\r\n    </StudentListItem>\r\n  );\r\n\r\n  DestListItem = observer(({ student }) =>\r\n    <StudentListItem hideRisk\r\n      key={student.id}\r\n      student={student}\r\n      left={\r\n        <UnexportButton onClick={this.handleUnexportClick.bind(null, student)}>\r\n          <TrashIcon/>\r\n        </UnexportButton>\r\n      }\r\n    >\r\n      <GradeSelect value={student.gradeLevel} onChange={this.handleGradeLevelChange.bind(null, student)}/>\r\n      {student.gradeLevel === 'Post-school' &&\r\n        <PostSchoolInputRow>\r\n          <ExitCategorySelect\r\n            value={student.exitCategory}\r\n            onChange={this.handleExitCategoryChange.bind(null, student)}\r\n          />\r\n          <PostSchoolOutcomeSelect\r\n            value={student.postSchoolOutcome}\r\n            onChange={this.handlePostSchoolOutcomeChange.bind(null, student)}\r\n          />\r\n        </PostSchoolInputRow>\r\n      }\r\n      {student.gradeLevel === 'Post-school' && student.postSchoolOutcome === 'Other' &&\r\n        <PostSchoolInputRow>\r\n          <PostSchoolOutcomeOtherInput\r\n            value={student.postSchoolOutcomeOther}\r\n            onChange={this.handlePostSchoolOutcomeOtherChange.bind(null, student)}\r\n          />\r\n        </PostSchoolInputRow>\r\n      }\r\n    </StudentListItem>\r\n  );\r\n\r\n  itemSizeGetter = studentArray => index => studentArray[index].gradeLevel === 'Post-school' ? 115 : 70;\r\n\r\n  renderStudentForm() {\r\n    const {\r\n      migratableStudents,\r\n      exportedStudents,\r\n      SourceListItem,\r\n      DestListItem,\r\n      migrateError,\r\n    } = this;\r\n\r\n    return (\r\n      <StudentForm>\r\n        <StudentFormTitle>Migrate Students</StudentFormTitle>\r\n        {migrateError && <MigrateFormError error={migrateError}/>}\r\n        <StudentFormInstructions>\r\n          All selected students will be moved to the next year and advanced a grade.\r\n          <br/>\r\n          You will be able to manually change the grade if the student did not advance.\r\n        </StudentFormInstructions>\r\n        <StudentLists>\r\n          <StudentListWrapper>\r\n            <StudentListHeader>\r\n              <ExportButton onClick={this.handleExportClick}>\r\n                EXPORT SELECTED STUDENTS\r\n              </ExportButton>\r\n            </StudentListHeader>\r\n            <StudentList\r\n              listType=\"variable\"\r\n              itemSizeGetter={this.itemSizeGetter(migratableStudents)}\r\n              students={migratableStudents}\r\n              renderItem={student =>\r\n                <SourceListItem key={student.id} student={student}/>\r\n              }\r\n            />\r\n          </StudentListWrapper>\r\n          <StudentListWrapper>\r\n            <StudentListHeader></StudentListHeader>\r\n            <StudentList\r\n              listType=\"variable\"\r\n              itemSizeGetter={this.itemSizeGetter(exportedStudents)}\r\n              students={exportedStudents}\r\n              innerRef={this.exportedStudentListRef}\r\n              renderItem={student =>\r\n                <DestListItem key={student.id} student={student}/>\r\n              }\r\n            />\r\n          </StudentListWrapper>\r\n        </StudentLists>\r\n      </StudentForm>\r\n    );\r\n  }\r\n\r\n  renderConfirmation() {\r\n    return (\r\n      <React.Fragment>\r\n        <ConfirmHeader>Confirm Setup Complete</ConfirmHeader>\r\n        <ConfirmSubheader>School year setup is not editable throughout the year. </ConfirmSubheader>\r\n        <ConfirmButton onClick={this.handleSubmit}>I’M DONE. CREATE NEW YEAR.</ConfirmButton>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { step, createTask } = this;\r\n    let content;\r\n\r\n    switch(step) {\r\n      case steps.START: content = this.renderStart(); break;\r\n      case steps.SETUP: content = this.renderSetupForm(); break;\r\n      case steps.MIGRATE: content = this.renderStudentForm(); break;\r\n      default: content = this.renderConfirmation(); break;\r\n    }\r\n\r\n    return (\r\n      <Screen>\r\n        <SpinnerOverlay open={createTask && createTask.pending}/>\r\n        <Main fullWidth>\r\n          <Content>\r\n            <Header>\r\n              <div/>\r\n              {step !== steps.START &&\r\n                <HeaderSteps>\r\n                  <CircleStepGroup.Item text=\"Title + Time\" active={step > steps.SETUP}/>\r\n                  <CircleStepGroup.Item text=\"Migrate Students\" active={step > steps.MIGRATE}/>\r\n                  <CircleStepGroup.Item text=\"Confirmation\"/>\r\n                </HeaderSteps>\r\n              }\r\n              <div>\r\n              {step === steps.MIGRATE &&\r\n                <CancelButton onClick={this.handleCancelClick}>Cancel</CancelButton>\r\n              }\r\n              {step < steps.CONFIRM && step !== steps.START &&\r\n                <NextButton onClick={this.handleNextClick}>NEXT <NextArrowImage/></NextButton>\r\n              }\r\n              </div>\r\n            </Header>\r\n\r\n            {content}\r\n          </Content>\r\n        </Main>\r\n      </Screen>\r\n    );\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { store } = this.props;\r\n    if(store.currentSchoolYear) await store.fetchSchoolYear(store.currentSchoolYear.id);\r\n    this.studentsToExport = this.migratableStudents.filter(student => student.gradeLevel !== 'Post-school');\r\n  }\r\n}\r\n\r\nexport default AddYear;\r\n\r\nconst Main = styled(Section)`\r\n  height: 100%;\r\n  background-color: #5B5B5B;\r\n  padding-bottom: 20px;\r\n  overflow: auto;\r\n`;\r\n\r\nconst Content = styled(Section.Content)`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nconst HeaderSteps = styled(CircleStepGroup)`\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 10px;\r\n  transform: translate(-50%, 0);\r\n\r\n  @media ${breakpoints.small} {\r\n    top: 80px;\r\n  }\r\n`;\r\n\r\nconst YearForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 300px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: white;\r\n  width: 100%;\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n\tline-height: 27px;\r\n  text-align: center;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst InputLabel = styled.label`\r\n  color: white;\r\n  text-align: left;\r\n  margin-bottom: 7px;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  line-height: 19px;\r\n  margin-top: 14px;\r\n`;\r\n\r\nconst DateInputLabel = styled(InputLabel)`\r\n  font-size: 12px;\r\n  font-weight: normal;\r\n`;\r\n\r\nconst YearSelect = styled(Select).attrs({inverted: true})`\r\n  width: 300px;\r\n`;\r\n\r\nconst TermTypeSelect = styled(EnumSelect).attrs({\r\n  inverted: true,\r\n  name: 'termTypes',\r\n  placeholder: 'Choose annual, semester, etc.',\r\n})`\r\n  width: 300px;\r\n`;\r\n\r\nconst StudentListEnumSelect = styled(EnumSelect)`\r\n  background-color: #F4F4F4;\r\n  color: #4A4A4A;\r\n  border-radius: 5px;\r\n  width: 150px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst PostSchoolInputRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  justify-content: flex-end;\r\n  padding-left: 57px;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst GradeSelect = styled(StudentListEnumSelect).attrs({name: 'grades'})``;\r\n\r\nconst ExitCategorySelect = styled(StudentListEnumSelect).attrs({\r\n  name: 'exitCategories',\r\n  placeholder: 'Exit Category',\r\n})`\r\n  flex: 1;\r\n  max-width: 50%;\r\n`;\r\n\r\nconst PostSchoolOutcomeSelect = styled(StudentListEnumSelect).attrs({\r\n  name: 'postSchoolOutcomes',\r\n  placeholder: 'Post-School Outcome'\r\n})`\r\n  flex: 1;\r\n  max-width: 50%;\r\n  margin-left: 15px;\r\n`;\r\n\r\nconst PostSchoolOutcomeOtherInput = styled(Input).attrs({placeholder: 'Post-School Outcome'})`\r\n  background-color: #F4F4F4;\r\n  color: #4A4A4A;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  flex: 1;\r\n  max-width: calc(50% - 7.5px);\r\n`;\r\n\r\nconst DateInput = styled.input.attrs({type: 'date'})`\r\n  height: 40px;\r\n  min-height: 40px;\r\n  padding-left: 20px;\r\n  background-color: #4A4A4A;\r\n  color: white;\r\n  font-size: 14px;\r\n  border: none;\r\n  outline: none;\r\n  width: 100%;\r\n  padding-left: 20px;\r\n  font-family: \"Open Sans\";\r\n  border-radius: 0;\r\n  -webkit-appearance: none;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  width: 100%;\r\n  min-height: 50px;\r\n  max-height: 50px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin-bottom: 100px;\r\n`;\r\n\r\nconst NextButton = styled(Button)`\r\n  height: 100%;\r\n  width: 144px;\r\n  height: 50px;\r\n  color: white;\r\n  background-color: #F5633A;\r\n  font-family: \"Oswald\";\r\n  font-size: 16px;\r\n  align-items: center;\r\n\r\n  &:disabled {\r\n    background-color: #999;\r\n  }\r\n`;\r\n\r\nconst CancelButton = styled(Button)`\r\n  height: 100%;\r\n  width: 144px;\r\n  height: 50px;\r\n  color: white;\r\n  background-color: #D2362D;\r\n  font-family: \"Oswald\";\r\n  font-size: 16px;\r\n  align-items: center;\r\n`;\r\n\r\nconst NextArrowImage = styled(Icons.WhiteCircleArrow)`\r\n  position: relative;\r\n  top: 3px;\r\n  margin-left: 20px;\r\n  width: 19px;\r\n  height: 19px;\r\n`;\r\n\r\nconst StudentForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst StudentFormTitle = styled.h1`\r\n  color: white;\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n  line-height: 27px;\r\n  text-align: center;\r\n  padding: 0;\r\n  margin: 0;\r\n`;\r\n\r\nconst StudentFormInstructions = styled.h2`\r\n\tcolor: white;\r\n\tfont-size: 14px;\r\n\tline-height: 19px;\r\n  text-align: center;\r\n  padding: 0;\r\n  margin: 6px 0 34px 0;\r\n`;\r\n\r\nconst StudentLists = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex: 1;\r\n\r\n  @media ${breakpoints.small} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst StudentListWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  min-height: 300px;\r\n\r\n  & + & {\r\n    margin-left: 11px;\r\n\r\n    @media ${breakpoints.small} {\r\n      margin-left: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nconst StudentListHeader = styled.div`\r\n  height: 40px;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n  background-color: #262626;\r\n`;\r\n\r\nconst ExportButton = styled(Button)`\r\n  height: 100%;\r\n  background-color: #D43425;\r\n  padding: 0 20px 0 20px;\r\n  color: white;\r\n  font-size: 16px;\r\n  font-family: 'Oswald';\r\n`;\r\n\r\nconst UnexportButton = styled(Button)`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ExportedLabel = styled.div`\r\n\tcolor: #A20B0E;\r\n\tfont-size: 10px;\r\n\tfont-style: italic;\r\n\tfont-weight: 600;\r\n\tline-height: 14px;\r\n`;\r\n\r\nconst TrashIcon = styled(Icons.Trash)`\r\n  width: 14px;\r\n  height: 18px;\r\n`;\r\n\r\nconst ConfirmHeader = styled.div`\r\n\tcolor: white;\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n  line-height: 27px;\r\n  margin-bottom: 6px;\r\n`;\r\n\r\nconst ConfirmSubheader = styled.div`\r\n\theight: 19px;\r\n\twidth: 354px;\r\n\tcolor: white;\r\n\tfont-family: \"Open Sans\";\r\n\tfont-size: 14px;\r\n\tline-height: 19px;\r\n  text-align: center;\r\n  margin-bottom: 48px;\r\n`;\r\n\r\nconst ConfirmButton = styled(Button)`\r\n  background-color: #F5633A;\r\n  height: 50px;\r\n\tcolor: white;\r\n\tfont-family: \"Oswald\";\r\n\tfont-size: 16px;\r\n  line-height: 21px;\r\n  padding: 0 40px 0 40px;\r\n`;\r\n\r\nconst StartFormRoot = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst StartTopText = styled.div`\r\n\tcolor: white;\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n\tline-height: 27px;\r\n`;\r\n\r\nconst StartButton = styled(Button)`\r\n  margin: 44px 0 21px;\r\n`;\r\n\r\nconst StartIcon = styled(Icons.OrangeCirclePlus)`\r\n  width: 60px;\r\n  height: 60px;\r\n`;\r\n\r\nconst StartBottomText = styled.div`\r\n\tcolor: white;\r\n\tfont-family: \"Oswald\";\r\n\tfont-size: 16px;\r\n\tline-height: 21px;\r\n`;\r\n\r\nconst SetupFormError = styled(FormError)`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst MigrateFormError = styled(FormError)`\r\n  margin: 20px auto 20px;\r\n  max-width: 550px;\r\n`;\r\n\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.ul`\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  flex: 1;\r\n  overflow: auto;\r\n  background-color: white;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\n@withRouter\r\n@observer\r\nclass UserListItem extends Component {\r\n  render() {\r\n    const { user, children, onClick } = this.props;\r\n    const active = user.locationMatches(this.props.location);\r\n\r\n    return (\r\n      <Root {...this.props} onClick={null} active={active}>\r\n        <UserText onClick={onClick}>\r\n          <UserName>{user.fullName}</UserName>\r\n        </UserText>\r\n        {children}\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserListItem;\r\n\r\nconst Root = styled.li`\r\n  height: 70px;\r\n  padding: 0 20px 0 40px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  background-color: ${props => props.active ? '#F2F2F2' : 'white'};\r\n\r\n  &:not(:first-child) {\r\n    border-top: 1px solid #D43425;\r\n  }\r\n\r\n  &:last-child {\r\n    border-bottom: 1px solid #D43425;\r\n  }\r\n`;\r\n\r\nconst UserText = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  text-decoration: none;\r\n  flex: 1;\r\n  height: 100%;\r\n`;\r\n\r\nconst UserName = styled.div`\r\n  font-weight: bold;\r\n  color: #4A4A4A;\r\n  font-size: 16px;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { observable, action, computed } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Route, Link, withRouter } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Section from '../components/Section';\r\nimport UserList from '../components/UserList';\r\nimport UserListItem from '../components/UserListItem';\r\nimport Screen from '../components/Screen';\r\nimport EditUserForm from '../components/EditUserForm';\r\nimport * as Icons from '../components/Icons';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass ManageUsers extends Component {\r\n  @observable search = '';\r\n\r\n  @computed get normalizedSearch() {\r\n    return this.search.trim().toLowerCase();\r\n  }\r\n\r\n  @computed get sortedUsers() {\r\n    return this.props.store.users.sort((a, b) => {\r\n      if(a.lowercaseFullName < b.lowercaseFullName) return -1;\r\n      if(a.lowercaseFullName > b.lowercaseFullName) return 1;\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  @computed get filteredUsers() {\r\n    const { normalizedSearch, sortedUsers } = this;\r\n\r\n    return normalizedSearch.length\r\n      ? sortedUsers.filter(user => user.lowercaseFullName.match(normalizedSearch))\r\n      : sortedUsers;\r\n  }\r\n\r\n  @action.bound handleUserClick(user) {\r\n    this.props.history.push(user.editRoute);\r\n  }\r\n\r\n  @action.bound handleSearchChange(event) {\r\n    this.search = event.target.value;\r\n  }\r\n\r\n  render() {\r\n    const { search, filteredUsers } = this;\r\n    const { users } = this.props.store;\r\n\r\n    return (\r\n      <Screen>\r\n        <Main fullWidth>\r\n          <Content>\r\n            <UserListContainer>\r\n              <SearchForm>\r\n                <SearchInputContainer>\r\n                  <SearchInput onChange={this.handleSearchChange} value={search}/>\r\n                  <SearchIcon/>\r\n                </SearchInputContainer>\r\n              </SearchForm>\r\n              <AddStudentButton>\r\n                <AddIcon/>\r\n              </AddStudentButton>\r\n\r\n              <UserList>\r\n                {filteredUsers.map(user =>\r\n                  <UserListItem\r\n                    key={user.id}\r\n                    user={user}\r\n                    onClick={this.handleUserClick.bind(null, user)}\r\n                  />\r\n                )}\r\n              </UserList>\r\n            </UserListContainer>\r\n\r\n            <Route path=\"/Users/new\" component={props =>\r\n              <SubRouteWrapper>\r\n                <EditUserForm key=\"new\"/>\r\n              </SubRouteWrapper>\r\n            }/>\r\n            <Route path=\"/Users/:userId\" component={props => {\r\n              const user = users.find(user => user.id === +props.match.params.userId);\r\n              if(!user) return null;\r\n              return (\r\n                <SubRouteWrapper>\r\n                  <EditUserForm key={`edit-${user.id}`} user={user}/>\r\n                </SubRouteWrapper>\r\n              );\r\n            }}/>\r\n          </Content>\r\n        </Main>\r\n      </Screen>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageUsers;\r\n\r\nconst Main = styled(Section)`\r\n  height: 100%;\r\n  background-color: #F0F0F0;\r\n`;\r\n\r\nconst Content = styled(Section.Content)`\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: row;\r\n  height: 100%;\r\n`;\r\n\r\nconst UserListContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1 1 100%;\r\n  max-width: 450px;\r\n  height: 100%;\r\n`;\r\n\r\nconst AddStudentButton = styled(Link).attrs({to: '/Users/new'})`\r\n  width: 100%;\r\n  height: 40px;\r\n  background-color: #262626;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst AddIcon = styled(Icons.Plus)`\r\n  width: 17px;\r\n  height: 17px;\r\n`;\r\n\r\nconst SearchForm = styled.div`\r\n  width: 100%;\r\n  height: 71px;\r\n  background-color: #5B5B5B;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0 40px 0 40px;\r\n`;\r\n\r\nconst SearchInputContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex: 1;\r\n  height: 40px;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  position: relative;\r\n  border: none;\r\n  outline: none;\r\n  height: 100%;\r\n  width: 100%;\r\n  border-radius: 20px;\r\n  background-color: #434343;\r\n  padding-left: 20px;\r\n  color: white;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst SearchIcon = styled(Icons.Magnifier)`\r\n  width: 18px;\r\n  height: 18px;\r\n  position: absolute;\r\n  right: 11px;\r\n  top: 11px;\r\n  pointer-events: none;\r\n`;\r\n\r\nconst SubRouteWrapper = styled.div`\r\n  overflow: auto;\r\n  flex: 1;\r\n\r\n  @media ${breakpoints.medium} {\r\n    min-width: 440px;\r\n  }\r\n\r\n  @media ${breakpoints.small} {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #F0F0F0;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport Column from './Column';\r\nimport Row from './Row';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\nconst CSVFileReport = ({ errors = [], warnings = [], selectedErrors = [], selectedWarnings = [], onErrorEnter, onErrorLeave, onErrorClick, onWarningEnter, onWarningLeave, onWarningClick }) => (\r\n    <FileUploadReportContainer>\r\n        <ReportWithLabel>\r\n            <ReportLabel>Errors</ReportLabel>\r\n            {errors.length > 0 ? (\r\n                <FileErrorReport\r\n                    errors={errors}\r\n                    selectedErrors={selectedErrors}\r\n                    onErrorEnter={onErrorEnter}\r\n                    onErrorLeave={onErrorLeave}\r\n                    onErrorClick={onErrorClick}\r\n                />\r\n            ) : (<CleanReport><div>No Errors</div></CleanReport>)}\r\n        </ReportWithLabel>\r\n        <ReportWithLabel>\r\n            <ReportLabel>Warnings</ReportLabel>\r\n            {warnings.length > 0 ? (\r\n                <FileWarningReport\r\n                    warnings={warnings}\r\n                    selectedWarnings={selectedWarnings}\r\n                    onWarningClick={onWarningClick}\r\n                    onWarningEnter={onWarningEnter}\r\n                    onWarningLeave={onErrorLeave}\r\n                />\r\n            ) : (<CleanReport><div>No Warnings</div></CleanReport>)}\r\n        </ReportWithLabel>\r\n    </FileUploadReportContainer>\r\n);\r\n\r\nexport default styled(CSVFileReport)``;\r\n\r\n\r\nconst FileErrorReport = ({ errors = [], selectedErrors = [], onErrorEnter, onErrorLeave, onErrorClick }) => (\r\n    <ErrorReport>\r\n        <ReportInfo>\r\n            We found some issues with your data. Please navigate to the errors below and correct them to be able to import.\r\n        </ReportInfo>\r\n        <ReportCount>{errors.length} Errors</ReportCount>\r\n        <ReportList>\r\n            {errors.map(({cellId, error}, idx) => (\r\n                <ListItem\r\n                    key={cellId}\r\n                    onClick={() => onErrorClick(cellId)}\r\n                    onMouseEnter={() => onErrorEnter(cellId)}\r\n                    onMouseLeave={onErrorLeave}\r\n                    selected={selectedErrors.find(selected => selected && selected === cellId)}\r\n                    title={error}\r\n                >\r\n                    Error number {idx + 1}\r\n                </ListItem>\r\n            ))}\r\n        </ReportList>\r\n    </ErrorReport>\r\n);\r\n\r\nconst FileWarningReport = ({ warnings = [], selectedWarnings = [], onWarningEnter, onWarningLeave, onWarningClick }) => (\r\n    <WarningReport>\r\n        <ReportInfo>\r\n            We found some issues with your data. We can continue with the import, but take a look at the highlighted areas and correct if needed.\r\n        </ReportInfo>\r\n        <ReportCount>{warnings.length} Warnings</ReportCount>\r\n        <ReportList>\r\n            {warnings.map(({cellId, warning}, idx) => (\r\n                <ListItem\r\n                    key={cellId}\r\n                    onClick={() => onWarningClick(cellId)}\r\n                    onMouseEnter={() => onWarningEnter(cellId)}\r\n                    onMouseLeave={onWarningLeave}\r\n                    selected={selectedWarnings.find(selected => selected && selected === cellId)}\r\n                    title={warning}\r\n                >\r\n                    Warning number {idx + 1}\r\n                </ListItem>\r\n            ))}\r\n        </ReportList>\r\n    </WarningReport>\r\n);\r\n\r\nconst CleanReport = styled(Row)`\r\n    background-color: #4A4A4A;\r\n    color: #D8D8D8;\t\r\n    font-family: \"Open Sans\";\t\r\n    font-size: 14px;\t\r\n    font-style: italic;\t\r\n    line-height: 19px;\r\n    height: 35px;\r\n    align-items: center;\r\n`;\r\n\r\nconst ReportLabel = styled(Row)`\r\n\tcolor: #F5633A;\t\r\n    font-family: \"Open Sans\";\t\r\n    font-size: 14px;\t\r\n    font-weight: bold;\t\r\n    line-height: 19px;\r\n    font-style: normal;\r\n`;\r\n\r\nconst Report = styled(Column)`\r\n    padding: 10px;\r\n    height: 250px;\r\n    overflow-y: auto;\r\n`;\r\nconst ErrorReport = styled(Report)`\r\n    background-color: #A20B0E;\r\n    padding: 10px;\r\n`;\r\n\r\nconst WarningReport = styled(Report)`\r\n    background-color: #D43425;\r\n    padding: 10px;\r\n`;\r\n\r\nconst ReportInfo = styled(Column)`\r\n    color: #FFFFFF;\t\r\n    font-family: \"Open Sans\";\t\r\n    font-size: 12px;\t\r\n    font-style: italic;\t\r\n    line-height: 17px;\r\n`;\r\n\r\nconst ReportList = styled(Column)`\r\n`;\r\n\r\nconst ListItem = styled(Row)`\r\n    color: #FFFFFF;\r\n    font-family: \"Open Sans\";\t\r\n    cursor: pointer;\r\n    font-size: 12px;\t\r\n    &:hover {\r\n        color: #4A4A4A;\r\n    }\r\n\r\n    ${props => props.selected && css`color: #4A4A4A;`} \r\n`;\r\n\r\nconst ReportCount = styled(Row)`\r\n    color: #FFFFFF;\r\n    font-weight: bold;\r\n    font-family: \"Open Sans\";\t\r\n    margin-top: 5px;\r\n    font-size: 12px;\r\n`;\r\n\r\nconst ReportWithLabel = styled(Column)`\r\n    width: 100%;\r\n    max-width: 300px;\r\n    margin-left: 40px;\r\n    @media ${breakpoints.mediumOrSmall} {\r\n        margin-left: 0;\r\n    }\r\n`;\r\n\r\n\r\n\r\n\r\nconst FileUploadReportContainer = styled(Column)`\r\n    width: 100%;\r\n    max-width: 300px;\r\n    align-self: flex-start;\r\n    ${ReportWithLabel} + ${ReportWithLabel} {\r\n        margin-top: 20px;\r\n    }\r\n\r\n    @media ${breakpoints.mediumOrSmall} {\r\n        align-self: center;\r\n    }\r\n`;\r\n\r\n","import React, { useRef } from 'react';\r\nimport FileDrop from 'react-file-drop';\r\nimport styled, { css } from 'styled-components';\r\nimport BlockButton from './BlockButton';\r\nimport Column from './Column';\r\n\r\nconst FileInput = ({value, onChange, withDragAndDrop = false, accept, enabled, ...rest}) => {\r\n\r\n    const fileInputRef = useRef(null);\r\n\r\n    function handleClick() {\r\n        if(!enabled) return;\r\n        if(fileInputRef.current) {\r\n            fileInputRef.current.click();\r\n        }\r\n    }\r\n\r\n    function handleDrop(files, e) {\r\n        if(!withDragAndDrop || !enabled) {\r\n            return;\r\n        }\r\n        e.preventDefault();\r\n        // Need to trigger a similar event that the file input would trigger\r\n        if(typeof onChange === 'function') {\r\n            onChange({target: {\r\n                value: `C:/fakepath/dontusethis.txt`,\r\n                files\r\n            }});\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Column {...rest}>\r\n            <input type=\"file\" ref={fileInputRef} value={value || ''} onChange={onChange} accept={accept} />\r\n            <FileSelectButton onClick={handleClick} enabled={enabled}>BROWSE</FileSelectButton>\r\n            {withDragAndDrop && \r\n                <FileDropZone onDrop={handleDrop} onDragOver={e => e.preventDefault()}>\r\n                    <div>Drag and Drop</div> \r\n                </FileDropZone>\r\n            }\r\n        </Column>\r\n    );\r\n};\r\n\r\nexport default styled(FileInput)`\r\n    input {\r\n        visibility: hidden;\r\n        pointer-events: none;\r\n        width: 0;\r\n        height: 0;\r\n    }\r\n\r\n`;\r\n\r\nconst FileSelectButton = styled(BlockButton)`\r\n    height: 40px;\t\r\n    width: 120px;\t\r\n    margin-top: 7px;\r\n\r\n    ${props => props.enabled ? css`background-color: #F5633A` : css`background-color: #D8D8D8;`}\r\n    \r\n    &:hover {\r\n        ${props => props.enabled ? css`background-color: #F5633A` : css`background-color: #D8D8D8;`}\r\n    }\r\n`;\r\n\r\nconst FileDropZone = styled(FileDrop)`\r\n    display: flex;\r\n    flex-direction: column;\r\n\theight: 136px;\t\r\n    width: 259px;\t\r\n    background-color: #4A4A4A;\r\n    color: #D8D8D8;\t\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 6px;\r\n`;","import React, { useState, useEffect, useRef } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { csvDataHelper } from 'tgb-shared';\r\nimport Column from './Column';\r\nimport Spinner from './Spinner';\r\nimport Row from './Row';\r\nimport useOnClickOutside from '../utils/useOnClickOutside';\r\n\r\n\r\nconst CSVStudentUploadPreview = (props) => {\r\n    const { csvData = [], selected = [], hoverOver, lastSelected, onCSVCellChange, onCSVCellFocusChange, ...rest} = props;\r\n    \r\n    const [editableField, setEditableField] = useState({rowId: null, cellId: null});\r\n    const [focused, setFocused] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const ref = useRef(null);\r\n\r\n    function isSelected(cell) {\r\n        return !!selected.find(selectedItem => selectedItem === cell.id) || hoverOver === cell.id;\r\n    }\r\n\r\n    function onClick(newRowId, newCellId) {\r\n        const { rowId, cellId } = editableField;\r\n        // Not the first time clicking into the cell and they moved to a different cell\r\n        const focusChanged = rowId !== null && cellId !== null && cellId !== newCellId;\r\n        setEditableField({rowId: newRowId, cellId: newCellId});\r\n        setFocused(true);\r\n        if(focusChanged && typeof onCSVCellFocusChange === 'function') {\r\n            onCSVCellFocusChange();\r\n        }\r\n    }\r\n\r\n    function handleValueChange(e) {\r\n        if(!editableField) {\r\n            return;\r\n        }\r\n        const newValue = e.target.value;\r\n        const { rowId, cellId } = editableField;\r\n        if(typeof onCSVCellChange === 'function') {\r\n            onCSVCellChange(rowId, cellId, newValue);\r\n        }\r\n    }\r\n\r\n    function renderReadonly(value) {\r\n        // Could be booleans\r\n        const displayValue = value !== undefined && value !== null ? value.toString() : ''; \r\n        return <ReadonlyCell title={displayValue}>{displayValue}</ReadonlyCell>;\r\n    }\r\n\r\n    function renderEditable(field, value) {\r\n        let type;\r\n        const fieldType = field.type;\r\n        switch(fieldType) {\r\n            case csvDataHelper.types.boolean:\r\n                type = 'checkbox';\r\n                return <EditableYesNoSelect value={value} onChange={handleValueChange} autoFocus/>\r\n            case csvDataHelper.types.enum:\r\n                return <EditableSelect options={field.enumValues || field.validValues} value={value} onChange={handleValueChange} />\r\n            case csvDataHelper.types.date:\r\n                type = 'date';\r\n                break;\r\n            case csvDataHelper.types.array:\r\n                return <EditableArrayField value={value} onChange={handleValueChange} autoFocus />\r\n            default:\r\n                type = 'text';\r\n        }\r\n        return (\r\n            <EditableCell type={type} value={value} onChange={handleValueChange} autoFocus />\r\n        );\r\n    }\r\n\r\n    function renderWarningHover(entry, cell, rowNumber) {\r\n        // If there are no warnings or if there is an error (errors take priority), dont render\r\n        if(!cell.warning || cell.error) {\r\n            return null;\r\n        }\r\n        return <WarningErrorHover large={entry.currentStudent} firstThree={rowNumber <= 3}>{cell.warning}</WarningErrorHover>\r\n    }\r\n\r\n    function focusCell(cellId) {\r\n        const focused = document.getElementById(cellId);\r\n        if(!focused) return;\r\n        // cell (focused element) => table => container div\r\n        const offsetParent = focused.offsetParent.offsetParent;\r\n        offsetParent.scrollTo(focused.offsetLeft - 200, focused.offsetTop);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(lastSelected) {\r\n            focusCell(lastSelected);\r\n        }\r\n    }, [lastSelected]);\r\n\r\n\r\n    function renderCells(entry, rowNumber) {\r\n        return (\r\n            <>\r\n            {csvDataHelper.columns.map(column => {\r\n                const cell = entry[column.field];\r\n                const editMode = editableField && editableField.cellId === cell.id;\r\n                return (\r\n                    <Cell \r\n                        key={cell.id} \r\n                        id={cell.id}\r\n                        isError={!!cell.error} \r\n                        isWarning={!!cell.warning || entry.currentStudent} \r\n                        selected={isSelected(cell)} \r\n                        onClick={() => onClick(entry.id, cell.id)}\r\n                        editMode={editMode}\r\n                    >\r\n                        <CellContent>\r\n                            {column.field === 'studentId' && (!entry.currentStudent ? (\r\n                                <NewStudentDotAndHover />\r\n                            ) : (\r\n                                <ExistingStudent />\r\n                            ))}\r\n                            {editableField && editableField.cellId === cell.id ? renderEditable(column, cell.value) : renderReadonly(cell.value)}\r\n                        </CellContent>\r\n                        {cell.error && <WarningErrorHover firstThree={rowNumber <= 3} large={column.field === 'disabilities'}>{cell.error}</WarningErrorHover>}\r\n                        {renderWarningHover(entry, cell, rowNumber)}\r\n                    </Cell>\r\n                )\r\n            })}\r\n            </>\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Used to make sure the last edit is transferred to parent components\r\n     */\r\n    function focusChangeListener() {\r\n        if(focused) {\r\n            setFocused(true);\r\n            setEditableField({rowId: null, cellId: null});\r\n            if(typeof onCSVCellFocusChange === 'function') {\r\n                onCSVCellFocusChange();\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    useOnClickOutside(ref, focusChangeListener);\r\n\r\n    // Present a message while loading. Mostly for large files\r\n    if(loading) {\r\n        return (\r\n            <Root {...rest}>\r\n                <LoadingContainer>\r\n                    <Loading />\r\n                </LoadingContainer>\r\n            </Root>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Root {...rest}>\r\n            <ScrollableContainer innerRef={ref}>\r\n                <CSVContainer>\r\n                    <CSVHead>\r\n                        <HeaderRow>\r\n                            {csvDataHelper.columns.map(column => <HeaderCell key={column.headerText}>{column.headerText}</HeaderCell>)}\r\n                        </HeaderRow>\r\n                    </CSVHead>\r\n                    <CSVBody>\r\n                        {csvData.map((row, rowIdx) => (\r\n                            <CSVEntry key={row.id}>\r\n                                {renderCells(row, rowIdx + 1)}\r\n                            </CSVEntry>\r\n                        ))}\r\n                        {csvData.length <= 21 && (\r\n                            <PaddingRow>\r\n                                {csvDataHelper.columns.map(column => <Cell key={`padding_cell_${column.headerText}`}/>)}\r\n                            </PaddingRow>\r\n                        )}\r\n                    </CSVBody>\r\n                </CSVContainer>\r\n            </ScrollableContainer>\r\n        </Root>\r\n    );\r\n}\r\n\r\nexport default styled(CSVStudentUploadPreview)``;\r\n\r\nconst CellHover = styled(Column)`\r\n    height: 70px;\t\r\n    width: 145px;\t\r\n    background-color: #F5633A;\r\n    position: absolute;\r\n    color: #FFFFFF;\t\r\n    font-family: \"Open Sans\";\t\r\n    font-size: 12px;\t\r\n    font-style: italic;\t\r\n    line-height: 17px;\r\n    justify-content: center;\r\n    padding: 3px 16px;\r\n    z-index: 2;\r\n    display: none;\r\n\r\n    &:after {\r\n        content: \"\";\r\n        position: absolute;\r\n        bottom: -10px;\r\n        left: 58px;\r\n        border-width: 10px 10px 0;\r\n        border-style: solid;\r\n        border-color: #F5633A transparent;\r\n        display: block;\r\n        width: 0;\r\n    }\r\n`;\r\n\r\nfunction handleFirstThreeRows({firstThree}) {\r\n    if(firstThree) {\r\n        // change the little arrow from the bottom to the top \r\n        return css`\r\n            top: 20px;\r\n            &:after {\r\n                bottom: 100%;\r\n                border-width: 0px 10px 10px 10px;\r\n            }\r\n        `;\r\n    } else {\r\n        return css`\r\n            top: -76px;\r\n        `;\r\n    }\r\n}\r\n\r\nconst WarningErrorHover = styled(CellHover)`\r\n    ${handleFirstThreeRows}\r\n    ${props => props.large && css`height: 75px;`}\r\n`;\r\n\r\nconst CellWidth = css`width: 150px;`;\r\n\r\nconst Root = styled(Column)`\r\n    background-color: #FFFFFF;\r\n    width: 100%;\r\n    font-family: \"Open Sans\";\r\n    background-color: #F2F2F2;\r\n`;\r\n\r\nconst ScrollableContainer = styled(Column)`\r\n    overflow: auto;\r\n    height: 100%;\r\n    position: relative;\r\n`;\r\n\r\n\r\nconst CSVContainer = styled('table')`\r\n    border-spacing: 0;\r\n    table-layout: fixed;\r\n    position: relative;\r\n    left: 55px;\r\n    min-height: 150px;\r\n    height: 100%;\r\n`;\r\n\r\nconst CSVHead = styled('thead')`\r\n    color: #F5633A;\t\r\n    font-family: \"Open Sans\";\t\r\n    font-size: 12px;\t\r\n    font-weight: bold;\t\r\n    line-height: 17px;\r\n    >:first-child {\r\n        border-left: none;\r\n    }\r\n    >:last-child {\r\n        border-right: none;\r\n    }\r\n`;\r\n\r\nfunction getColors(props) {\r\n    const { selected, isWarning, isError} = props;\r\n    if(!selected || (!isWarning && !isError)) {\r\n        return css`\r\n            color: #4A4A4A;\r\n            background-color: #FFFFFF;\r\n        `;\r\n    }\r\n    if(isWarning) {\r\n        return css`\r\n            color: #FFFFFF;\r\n            background-color: #D43425;\r\n        `;\r\n    }\r\n    // isError\r\n    return css`\r\n        color: #FFFFFF;\r\n        background-color: #A20B0E;   \r\n    `;\r\n}\r\n\r\nconst CSVBody = styled('tbody')`\r\n    color: #4A4A4A;\t\r\n    font-size: 11px;\t\r\n    font-style: italic;\t\r\n    line-height: 15px;\r\n    background-color: #FFFFFF;\r\n`;\r\n\r\nconst CSVEntry = styled('tr')`\r\n    >:first-child {\r\n        border-left: none;\r\n    }\r\n    >:last-child {\r\n        border-right: none;\r\n    }\r\n`;\r\n\r\nconst Cell = styled('td')`\r\n    position: relative;\r\n    height: 20px;\r\n    border: 1px solid #D8D8D8;\r\n    padding: 2px 5px;\r\n    text-align: left;\r\n    ${getColors}\r\n    ${CellWidth}\r\n\r\n    ${props => props.editMode && css`\r\n        padding-top: 0;\r\n        padding-bottom: 0;\r\n    `};\r\n\r\n    &:hover {\r\n        ${WarningErrorHover} {\r\n            display: flex;\r\n        }\r\n    }\r\n`;\r\n\r\nconst ReadonlyCell = styled('div')`\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    ${CellWidth}\r\n`;\r\n\r\nconst HeaderRow = styled('tr')`\r\n    >:first-child {\r\n        border-left: none;\r\n    }\r\n    >:last-child {\r\n        border-right: none;\r\n    }\r\n`\r\n\r\nconst HeaderCell = styled('th')`\r\n    height: 20px;\r\n    border: 1px solid #D8D8D8;\r\n    border-top: none;\r\n    padding: 2px 5px;\r\n    text-align: left;\r\n    ${CellWidth}\r\n`;\r\n\r\nconst editableCellStyle = css`\r\n    width: inherit;\r\n    height: 16px;\r\n    outline: none;\r\n    border: none;\r\n    ${CellWidth}\r\n    :focus {\r\n        outline: none;\r\n        border: none;\r\n        padding: 0;\r\n    }\r\n`;\r\n\r\n\r\nconst EditableCell = styled.input.attrs({type: 'text'})`\r\n    ${editableCellStyle}\r\n`;\r\n\r\nconst EditableSelect = styled(({value, options, onChange, ...rest}) => (\r\n    <select value={value} onChange={onChange} {...rest}>\r\n        <option value=\"\" disabled hidden></option>\r\n        {options.map(selectOption => <option key={selectOption} value={selectOption}>{selectOption}</option>)}\r\n    </select>\r\n))`\r\n    ${editableCellStyle}\r\n`;\r\n\r\nconst EditableYesNoSelect = styled(({value, onChange, ...rest}) => (\r\n    <select value={value} onChange={onChange} {...rest}>\r\n        <option value=\"\" disabled hidden></option>\r\n        <option value=\"Yes\">Yes</option>\r\n        <option value=\"No\">No</option>\r\n    </select>\r\n))`\r\n  ${editableCellStyle}\r\n`;\r\n\r\n\r\nconst LoadingContainer = styled(Column)`\r\n    width: 100%;\r\n    height: 100%;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\nconst LoadingMessage = styled(Column)`\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst Loading = () => (\r\n    <LoadingMessage>\r\n        <Spinner />\r\n        <div>Loading preview. Please wait...</div>\r\n    </LoadingMessage>\r\n);\r\n\r\n\r\nconst NewStudentHover = styled((props) => (\r\n    <CellHover {...props}><div>New Student with no existing information</div></CellHover>\r\n))`\r\n    top: -45px;\r\n    left: -65px;\r\n`;\r\n\r\n\r\n\r\n\r\nconst NewStudent = styled(({children, ...rest}) => (\r\n    <div {...rest}>\r\n        {children}\r\n    </div>\r\n))`\r\n    height: 6px;\t\r\n    width: 6px;\t\r\n    background-color: #F5633A;\r\n    border-radius: 50%;\r\n`;\r\n\r\nconst ExistingStudent = styled.div`\r\n    height: 6px;\t\r\n    width: 6px;\t\r\n    background-color: transparent;\r\n    border-radius: 50%;\r\n`;\r\n\r\nconst CellContent = styled(Row)`\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n    ${CellWidth}\r\n    ${NewStudent}, ${ExistingStudent} {\r\n        margin-right: 6px;\r\n    }\r\n`;\r\n\r\nconst NewStudentDotAndHover = styled((props) => (\r\n    <Column {...props}>\r\n        <NewStudent/>\r\n        <NewStudentHover />\r\n    </Column>\r\n))`\r\n    ${NewStudent}:hover ~ ${NewStudentHover} {\r\n        display: flex;\r\n    }\r\n`;\r\n\r\n\r\nconst EditableArrayField = ({value, onChange, ...rest}) => {\r\n    let displayValue = value;\r\n    if(Array.isArray(value)) {\r\n        displayValue = value.join(' ');\r\n    }\r\n    return <EditableCell type=\"text\" value={displayValue} onChange={onChange} {...rest}/>\r\n};\r\n\r\nconst PaddingRow = styled(CSVEntry)`\r\n    height: 100%;\r\n`;","import { useEffect } from 'react';\r\n\r\n/**\r\n * Hook for monitoring an element for clicks outside if it.\r\n * Handles mouse and touch events\r\n * @param {Ref} ref a ref to the element that is being monitored.\r\n * @param {function} onClickOutside a function to call when the outside of the ref is clicked\r\n */\r\nexport default function useOnClickOutside(ref, onClickOutside) {\r\n    useEffect(() => {\r\n        const listener = event => {\r\n            if(!ref || !ref.current || ref.current.contains(event.target)) {\r\n                return;\r\n            }\r\n            if(typeof onClickOutside === 'function') {\r\n                onClickOutside(event);\r\n            }\r\n        }\r\n        document.addEventListener('mousedown', listener);\r\n        document.addEventListener('touchstart', listener);\r\n\r\n        return () => {\r\n            document.removeEventListener('mousedown', listener);\r\n            document.removeEventListener('touchstart', listener);\r\n        }\r\n    }, [ref, onClickOutside]);\r\n}","import Papa from 'papaparse';\r\n\r\nconst defaultParseConfig = {\r\n    // Map header as field names\r\n    header: true,\r\n    dynamicTyping: false,\r\n    delimiter: ',',\r\n    // lines that are completely empty or have only whitespaces in all columns are ignored\r\n    skipEmptyLines: 'greedy',\r\n}\r\n\r\nasync function parseCSV(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const onComplete = results => resolve(results);\r\n        const onError = error => reject(error);\r\n        const parseConfig = {\r\n            ...defaultParseConfig,\r\n            complete: onComplete,\r\n            error: onError,\r\n        }\r\n        Papa.parse(file, parseConfig);\r\n    });\r\n}\r\n\r\nexport default parseCSV;","import nanoid from 'nanoid';\r\nimport moment from 'moment';\r\nimport { csvDataHelper } from 'tgb-shared';\r\nimport enums from '../enums';\r\n\r\n/**\r\n * Attempt to get the value using the valid aliases for the fields\r\n * @param {object} studentData the parsed student object\r\n * @param {Array<string>} aliases a list of valid aliases\r\n */\r\nfunction findFieldByAlias(studentData, aliases) {\r\n    if (!studentData) {\r\n        return undefined;\r\n    }\r\n    for (const alias of aliases) {\r\n        const data = studentData[alias];\r\n        if (data) {\r\n            return data;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\n\r\nfunction isRequiredAndMissing(field, uploadedValue) {\r\n    return field.required && !uploadedValue\r\n}\r\n\r\nfunction isRequiredAndUnacceptedValue(field, uploadedValue) {\r\n    if (!field.validValues || !field.required) {\r\n        return false;\r\n    }\r\n    if (typeof uploadedValue === 'undefined') {\r\n        return true;\r\n    }\r\n    return uploadedValue === null || !field.validValues.map(val => val.toLowerCase()).includes(uploadedValue.toString().toLowerCase());\r\n}\r\n\r\nfunction isOptionalAndUnacceptedValue(field, uploadedValue) {\r\n    if (!field.validValues) {\r\n        return false;\r\n    }\r\n    if (typeof uploadedValue === 'undefined' || uploadedValue === null) {\r\n        return false;\r\n    }\r\n    if(field.type === csvDataHelper.types.integer || field.type === csvDataHelper.types.float) {\r\n        return isNaN(+uploadedValue);\r\n    }\r\n    return !field.required && !field.validValues.map(val => val.toLowerCase()).includes(uploadedValue.toString().toLowerCase());\r\n}\r\n\r\nconst notProvided = value => value === undefined || value === null;\r\n\r\nfunction normalizeValue(field, value) {\r\n    if(notProvided(value)|| value === '') { \r\n        return '';\r\n    }\r\n    const { types } = csvDataHelper;\r\n    const fieldType = field.type || types.string;\r\n    switch(fieldType) {\r\n        case types.string:\r\n        case types.enum:\r\n            return value;\r\n        case types.boolean:\r\n            return csvDataHelper.yesNoBooleanFromString(value);\r\n        case types.date:\r\n            return moment(value).format('MM/DD/YYYY');\r\n        case types.integer:\r\n        case types.float:\r\n        default:\r\n            return value;\r\n    }\r\n}\r\n\r\nfunction findExistingStudentWithId(parsedStudentData, currentStudents) {\r\n    if(!currentStudents || !currentStudents.length) {\r\n        return null;\r\n    }\r\n    const studentId = parsedStudentData.studentId;\r\n    if(studentId && studentId.value) {\r\n        const existingStudent = currentStudents.find(student => student.studentId === studentId.value);\r\n        if(existingStudent) {\r\n            return existingStudent;\r\n        }\r\n        return null;\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction findImportingStudentWithId(parsedStudentData, runningList) {\r\n    const studentId = parsedStudentData.studentId;\r\n    if(studentId && studentId.value) {\r\n        const existingStudent = runningList.find(student => student.studentId && student.studentId.value === studentId.value);\r\n        if(existingStudent) {\r\n            return existingStudent;\r\n        }\r\n        return null;\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction compareFields(existingStudentField, csvField, column) {\r\n    if(column.type === csvDataHelper.types.boolean) {\r\n        if(csvDataHelper.isValidBoolean(csvField)) {\r\n            const booleanValue = csvDataHelper.yesNoBooleanFromString(csvField);\r\n            return existingStudentField === booleanValue.getBooleanValue();\r\n        }\r\n    }\r\n\r\n    if(column.type === csvDataHelper.types.date) {\r\n        const existingAsDate = moment(existingStudentField);\r\n        const providedAsDate = moment(csvField);\r\n        return existingAsDate.year() === providedAsDate.year() \r\n            && existingAsDate.month() === providedAsDate.month() \r\n            && existingAsDate.date() === providedAsDate.date();\r\n    }\r\n\r\n    if(column.field === 'disabilities') {\r\n        if(existingStudentField.length && notProvided(csvField)) {\r\n            return false;\r\n        }\r\n        const existingArray = existingStudentField.map(({name, fullName}) => {\r\n            return {\r\n                name, \r\n                fullName\r\n            }\r\n        });\r\n        const providedArray = csvField.split(' ');\r\n        for(const provided of providedArray) {\r\n            const found = existingArray.find(dis => dis.fullName === provided || dis.name === provided.toUpperCase());\r\n            if(!found) {\r\n                return false;\r\n            }\r\n        }\r\n        // Passed the found check\r\n        return true; \r\n    }\r\n\r\n    if(column.type === csvDataHelper.types.enum) {\r\n        if(typeof column.deserialize === 'function') {\r\n            return column.deserialize(existingStudentField) === column.deserialize(csvField);\r\n        }\r\n    }\r\n    return existingStudentField.toString().toLowerCase() === csvField.toString().toLowerCase();\r\n}\r\n\r\nfunction getErrorsForCell(field, data) {\r\n    if(isRequiredAndMissing(field, data)) {\r\n        return `Required data is missing`;\r\n    }\r\n    if(isRequiredAndUnacceptedValue(field, data)) {\r\n        return `Required data is an unexpected value`;\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction getWarningsForCell(field, data) {\r\n    if(isOptionalAndUnacceptedValue(field, data)) {\r\n        return `Data is an unexpected value.`;\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction checkDisabilities(provided, validDisabilities) {\r\n    if(notProvided(provided)) {\r\n        return true;\r\n    }\r\n    const disabilities = provided.split(' ');\r\n    for(const disability of disabilities) {\r\n        const matched = validDisabilities.find(dis => dis.fullName === disability || dis.name === disability.toUpperCase());\r\n        if(!matched) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n// Object.fromEntries doesn't have good support\r\nfunction fromEntries(entries) {\r\n    const object = {};\r\n    for (const [key, value] of entries) {\r\n        object[key] = value;\r\n    }\r\n    return object;\r\n}\r\n\r\nfunction findErrorsAndWarningsForRow(studentData) {\r\n    const errors = [];\r\n    const warnings = [];\r\n    for(const key in studentData) {\r\n        const value = studentData[key];\r\n        if(value.error) {\r\n            errors.push({\r\n                cellId: value.id,\r\n                error: value.error,\r\n            });\r\n        }\r\n        if(value.warning) {\r\n            warnings.push({\r\n                cellId: value.id,\r\n                warning: value.warning,\r\n            });\r\n        }\r\n    }\r\n    return {errors, warnings};\r\n}\r\n\r\nfunction assignUniqueIdsForCellsAndRow(row) {\r\n    const assigned = { id: nanoid() };\r\n    for(const key in row) {\r\n        const value = row[key];\r\n        assigned[key] = {\r\n            ...value,\r\n            id: nanoid(),\r\n        }\r\n    }\r\n    return assigned;\r\n}\r\n\r\nfunction existingStudent(translated, currentStudents) {\r\n    return {\r\n        ...translated,\r\n        currentStudent: findExistingStudentWithId(translated, currentStudents) !== null,\r\n    }\r\n}\r\n\r\nfunction translateRow(studentData) {\r\n    const normalizedStudentData = fromEntries(Object.entries(studentData).map(csvDataHelper.normalizeFieldNames));\r\n    const translated = {};\r\n    for(const column of [...csvDataHelper.requiredFields, ...csvDataHelper.optionalFields]) {\r\n        const translatedField = findFieldByAlias(normalizedStudentData, column.validAlias);\r\n        translated[column.field] = {\r\n            value: normalizeValue(column, translatedField),\r\n            rawValue: translatedField,\r\n        }\r\n    }\r\n    return assignUniqueIdsForCellsAndRow(translated);\r\n}\r\n\r\nfunction attachErrors(currentStudent, importingStudents, validDisabilities) {\r\n    const studentWithErrors = { ...currentStudent };\r\n    for(const required of csvDataHelper.requiredFields) {\r\n        const importingValue = currentStudent[required.field].value;\r\n        const requiredDataError = getErrorsForCell(required, importingValue);\r\n        studentWithErrors[required.field].error = requiredDataError;\r\n    }\r\n    const { grade, gradeType, gradeLevel, exitCategory, postSchoolOutcome } = currentStudent;\r\n    if(grade.value) {\r\n        if(!gradeType.value) {\r\n            studentWithErrors.grade.error = 'Grade type must be specified when a grade is specified';\r\n        } else {\r\n            if(gradeType === 'percent' || gradeType === 'gpa') {\r\n                studentWithErrors.grade.error = isNaN(+grade.value) ? 'Grade is not a valid number' : studentWithErrors.grade.error;\r\n            } else {\r\n                studentWithErrors.grade.error = !enums.gradeLetters.find(letter => letter === grade.value.toUpperCase()) ? 'Grade is not a valid letter grade' : studentWithErrors.grade.error;\r\n            }\r\n        }\r\n    }\r\n\r\n    // DB schema requirement\r\n    if(gradeLevel.value === 'Post-school') {\r\n        if(!exitCategory.value) {\r\n            studentWithErrors.exitCategory.error = 'Exit category is required when the grade level is Post-school';\r\n        }\r\n        if(!postSchoolOutcome.value) {\r\n            studentWithErrors.postSchoolOutcome.error = 'Post-school outcome is required when the grade level is Post-school';\r\n        }\r\n    }\r\n\r\n    if(currentStudent.disabilities.value !== '' && !checkDisabilities(currentStudent.disabilities.value, validDisabilities)) {\r\n        const disabilitiesError = 'One or more of the disabilities is an unexpected value';;\r\n        studentWithErrors.disabilities.error = disabilitiesError;\r\n    }\r\n    const duplicateCheck = findImportingStudentWithId(currentStudent, importingStudents);\r\n    if(duplicateCheck && duplicateCheck.studentId.id !== currentStudent.studentId.id) {\r\n        const { studentId, } = currentStudent;\r\n        const duplicateError =  `Duplicate student ID (${studentId.value})`;\r\n        studentWithErrors.studentId.error = duplicateError;\r\n    }\r\n    return studentWithErrors;\r\n}\r\n\r\nfunction attachWarnings(currentStudent, currentStudents) {\r\n    const studentWithWarnings = {...currentStudent}\r\n    for(const optional of csvDataHelper.optionalFields) {\r\n        const warning = getWarningsForCell(optional, currentStudent[optional.field].rawValue);\r\n        studentWithWarnings[optional.field].warning = warning;\r\n    }\r\n    const existingStudent = findExistingStudentWithId(currentStudent, currentStudents);\r\n    if(existingStudent) {\r\n        for(const column of csvDataHelper.columns) {\r\n            if(studentWithWarnings[column.field].warning) {\r\n                // Already has a warning. Skip this field, for now\r\n                continue;\r\n            }\r\n            const existingValue = existingStudent[column.field];\r\n            const importingValue = currentStudent[column.field].value;\r\n            if(notProvided(importingValue) || importingValue === '' || notProvided(existingValue)) {\r\n                // will be ignored by the server\r\n                continue;\r\n            }\r\n\r\n            if(!compareFields(existingValue, importingValue, column)) {\r\n                studentWithWarnings[column.field].warning = `Student already exists and value will overwrite current records.`;\r\n            }\r\n        }\r\n    }\r\n    return studentWithWarnings;\r\n}\r\n\r\n/**\r\n * Take data returned from a parsed CSV file and return a list of student data\r\n * @param {Array<Object>} data the data from a parsed CSV file \r\n * @param {Array<Student>} currentStudents the current students to check changes against\r\n */\r\nasync function translateImportStudentCSV(data, currentStudents = [], validDisabilities) {\r\n    const translatedData = data.map(student => translateRow(student))\r\n        .map((student => existingStudent(student, currentStudents)));\r\n    const translatedWithErrors = translatedData.map(translated => attachErrors(translated, translatedData, validDisabilities));\r\n    const translatedWithErrorsAndWarnings = translatedWithErrors.map(translated => attachWarnings(translated, currentStudents));\r\n\r\n    const students = translatedWithErrorsAndWarnings.map(translated => {\r\n        const { errors, warnings } = findErrorsAndWarningsForRow(translated);\r\n        return {\r\n            ...translated, \r\n            errors,\r\n            warnings,\r\n        }\r\n    });\r\n\r\n    const warnings = students.reduce((warningList, currentRow) => [...warningList, ...currentRow.warnings], []);\r\n    const errors = students.reduce((errorList, currentRow) => [...errorList, ...currentRow.errors], []);\r\n    return {\r\n        students,\r\n        errors,\r\n        warnings,\r\n    }\r\n}\r\n\r\nfunction resetErrorsAndWarnings(student) {\r\n    const clearedStudent = {};\r\n    for(const column of csvDataHelper.columns) {\r\n        const { error, warning, ...rest} = student[column.field];\r\n        clearedStudent[column.field] = {\r\n            ...rest\r\n        }\r\n    }\r\n    return clearedStudent;\r\n}\r\n/**\r\n * Recheck the import that has already been processed by translateImportStudentCSV\r\n * @param {Array<Object>} data the data that has already been processed translateImportStudentCSV \r\n * @param {Array<Student>} currentStudents the current students to check changes against\r\n */\r\nasync function recheckImport(data, currentStudents = [], validDisabilities) {\r\n    const removedErrorsAndWarnings = data.map(student => existingStudent({\r\n            ...resetErrorsAndWarnings(student),\r\n            id: student.id,\r\n        }, currentStudents)\r\n    );\r\n    const recheckedWithErrors = removedErrorsAndWarnings.map(checked => attachErrors(checked, data, validDisabilities));\r\n    const recheckedWithErrorsAndWarnings = recheckedWithErrors.map(checked => attachWarnings(checked, currentStudents));\r\n\r\n    const students = recheckedWithErrorsAndWarnings.map(translated => {\r\n        const { errors, warnings } = findErrorsAndWarningsForRow(translated);\r\n        return {\r\n            ...translated, \r\n            errors,\r\n            warnings,\r\n        }\r\n    });\r\n\r\n    const warnings = students.reduce((warningList, currentRow) => [...warningList, ...currentRow.warnings], []);\r\n    const errors = students.reduce((errorList, currentRow) => [...errorList, ...currentRow.errors], []);\r\n    return {\r\n        students,\r\n        errors,\r\n        warnings,\r\n    }\r\n}\r\n\r\nfunction getDownloadTemplateUrl() {\r\n    const headers = encodeURIComponent(csvDataHelper.columns.map(column => column.headerText).join(','));\r\n    return `data:text/csv;charset=utf-8,${headers}`;\r\n}\r\n\r\nexport {\r\n    translateImportStudentCSV, \r\n    recheckImport,\r\n    getDownloadTemplateUrl,\r\n};","export default function first(array = []) {\r\n    if(array.length) {\r\n        return array[0];\r\n    }\r\n    return undefined;\r\n}","import { action, computed, observable } from 'mobx';\r\nimport { inject, observer } from 'mobx-react';\r\nimport React, { Component, useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport styled, {css} from 'styled-components';\r\nimport sweetalert from 'sweetalert2';\r\nimport * as breakpoints from '../breakpoints';\r\nimport BlockButton from '../components/BlockButton';\r\nimport Column from '../components/Column';\r\nimport CSVFileReport from '../components/CSVFileReport';\r\nimport FileInput from '../components/FileInput';\r\nimport * as Icons from '../components/Icons';\r\nimport Row from '../components/Row';\r\nimport Screen from '../components/Screen';\r\nimport Section from '../components/Section';\r\nimport Select from '../components/Select';\r\nimport TermSelect from '../components/TermSelect';\r\nimport CSVStudentUploadPreview from '../components/CSVStudentUploadPreview';\r\nimport Spinner from '../components/Spinner';\r\nimport parseCSV from '../utils/parseCSV';\r\nimport {translateImportStudentCSV, recheckImport, getDownloadTemplateUrl} from '../utils/translateImportStudentCSV';\r\nimport first from '../utils/first';\r\nimport toggleArrayValue from '../utils/toggleArrayValue';\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass ImportData extends Component {\r\n\r\n    @observable schoolYearId = null;\r\n    @observable schoolYear = null;\r\n    @observable term = null;\r\n    @observable file = null;\r\n    @observable fileReport = null;\r\n    @observable selectedErrors = [];\r\n    @observable selectedWarnings = [];\r\n    @observable hoveringError = null;\r\n    @observable hoveringWarning = null;\r\n    @observable loading = false;\r\n    @observable importedStudents = null;\r\n    @observable disabilities = [];\r\n    @observable lastSelected = null;\r\n    @observable pendingCSVDataUpdate = false;\r\n\r\n    @action.bound\r\n    async handleSchoolYearChange(e) {\r\n        this.schoolYearId = +e.target.value;\r\n        this.schoolYear = await this.props.store.fetchSchoolYear(this.schoolYearId);\r\n    }\r\n\r\n    @action.bound\r\n    async handleTermChange(e) {\r\n        this.term = e.target.value;\r\n\r\n    }\r\n\r\n    @action.bound\r\n    async handleFileChange(e) {\r\n        if(!this.schoolYear || !this.term) {\r\n            return;\r\n        }\r\n        const files = e.target.files;\r\n        this.file = first(files);\r\n        this.loading = true;\r\n        this.selectedErrors = [];\r\n        this.selectedWarnings = [];\r\n        this.lastSelectedFileReport = null;\r\n        try {\r\n            const { data, errors } = await parseCSV(this.file);\r\n            if(errors.length) {\r\n                console.error(errors);\r\n            }\r\n            const { students, ...fileReport} = await translateImportStudentCSV(data, this.schoolYear.students, this.disabilities);\r\n            this.importedStudents = students;\r\n            this.fileReport = fileReport;\r\n        } finally {\r\n            this.loading = false;\r\n        }\r\n    }\r\n\r\n    @action.bound\r\n    handleCancel() {\r\n        this.file = null;\r\n        this.fileReport = null;\r\n        this.loading = false;\r\n    }\r\n\r\n    @computed \r\n    get termType() {\r\n        const { schoolYear } = this;\r\n        if(schoolYear) {\r\n            return schoolYear.capitalizedTermType;\r\n        }\r\n        return 'Term';\r\n    }\r\n\r\n    @computed \r\n    get warnings() {\r\n        if(this.fileReport) {\r\n            return this.fileReport.warnings;\r\n        }\r\n        return  [];\r\n    }\r\n\r\n    @computed \r\n    get errors() {\r\n        if(this.fileReport) {\r\n            return this.fileReport.errors;\r\n        }\r\n        return [];\r\n    }\r\n\r\n    @action.bound\r\n    handleWarningClick(warningId) {\r\n        // the selected lists have their values toggled, so if this is \"toggling off\" (has the cellId in this list),\r\n        // don't change the \"lastSelected\" cell\r\n        this.lastSelected = this.selectedWarnings.includes(warningId) ? this.lastSelected : warningId;\r\n        toggleArrayValue(this.selectedWarnings, warningId);\r\n    }\r\n\r\n    @action.bound\r\n    handleErrorClick(errorId) {\r\n        this.lastSelected = this.selectedErrors.includes(errorId) ? this.lastSelected : errorId;\r\n        toggleArrayValue(this.selectedErrors, errorId);\r\n    }\r\n\r\n    @action.bound\r\n    handleWarningHover(warningId) {\r\n        this.hoveringWarning = warningId;\r\n    }\r\n\r\n    @action.bound\r\n    handleErrorHover(errorId) {\r\n        this.hoveringWarning  = errorId;\r\n    }\r\n\r\n\r\n    @action.bound\r\n    async handleCSVDataChange(updatedCSV) {\r\n        if(!this.schoolYear || !this.term) {\r\n            return;\r\n        }\r\n        this.selectedErrors = [];\r\n        this.selectedWarnings = [];\r\n        this.hoveringError = null;\r\n        this.hoveringWarning = null;\r\n        this.pendingCSVDataUpdate = true;\r\n        try {\r\n            const { students, ...fileReport } = await recheckImport(updatedCSV, this.schoolYear.students, this.disabilities);\r\n            this.importedStudents = students;\r\n            this.fileReport = fileReport;\r\n        } finally {\r\n            this.pendingCSVDataUpdate = false;\r\n        }\r\n    }\r\n\r\n    @computed\r\n    get selectedCells() {\r\n        return [...this.selectedErrors, ...this.selectedWarnings]\r\n    }\r\n\r\n    @computed\r\n    get hoveringOver() {\r\n        return this.hoveringError || this.hoveringWarning;\r\n    }\r\n\r\n    @computed\r\n    get fileSelectEnabled() {\r\n        return (this.schoolYear !== null && this.term !== null);\r\n    }\r\n\r\n    @computed\r\n    get formEnabled() {\r\n        return !this.loading;\r\n    }\r\n\r\n    async handleUploadComplete() {\r\n        this.selectedErrors = [];\r\n        this.selectedWarnings = [];\r\n        this.hoveringError = null;\r\n        this.hoveringWarning = null;\r\n        this.importedStudents = null;\r\n        this.file = null;\r\n        this.fileReport = null;\r\n        this.term = null;\r\n    }\r\n\r\n    async handleUploadFailure() {\r\n        this.schoolYear = await this.props.store.fetchSchoolYear(this.schoolYearId);\r\n        this.pendingCSVDataUpdate = true;\r\n        try {\r\n            const { students, ...fileReport} = await recheckImport(this.importedStudents, this.schoolYear.students, this.disabilities);\r\n            this.importedStudents = students;\r\n            this.fileReport = fileReport;\r\n        } finally {\r\n            this.pendingCSVDataUpdate = false\r\n        }\r\n    }\r\n\r\n    async submit() {\r\n        if(this.pendingCSVDataUpdate) {\r\n            return;\r\n        }\r\n        this.loading = true;\r\n        try {\r\n            this.schoolYear = await this.props.store.importStudentsFromCSV(this.schoolYear, this.term, this.importedStudents);\r\n            await sweetalert({\r\n                title: 'Success',\r\n                text: 'Students uploaded successfully.',\r\n                type: 'success',\r\n                showCancelButton: false,\r\n                confirmButtonText: 'Done'\r\n            });\r\n            await this.handleUploadComplete();\r\n        } catch(e) {\r\n            await sweetalert({\r\n                title: 'Error',\r\n                text: 'Failed to upload some or all of the students.',\r\n                type: 'error',\r\n                showCancelButton: false,\r\n                confirmButtonText: 'Close'\r\n            });\r\n            console.error(e);\r\n            // Refresh the student list and recheck the import, in case some of the students were successfully uploaded\r\n            await this.handleUploadFailure();\r\n        } finally {\r\n            this.loading = false;\r\n        }\r\n    }\r\n\r\n    @action.bound\r\n    async handleImportClicked() {\r\n        if(this.errors.length !== 0) {\r\n            await sweetalert({\r\n                title: 'Invalid Data',\r\n                text: `There are ${this.errors.length} error(s) in the import that must be resolved before importing.`,\r\n                type: 'error',\r\n                showCancelButton: false,\r\n                confirmButtonText: 'OK'\r\n            });\r\n            return;\r\n        }\r\n        if(this.warnings.length !== 0) {\r\n            const confirm = await sweetalert({\r\n                title: 'Warning',\r\n                text: `There are ${this.warnings.length} unresolved warning(s) that will be ignored during import or overwrite existing student data. Continue?`,\r\n                type: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Yes',\r\n                cancelButtonText: 'No',\r\n            });\r\n            if(confirm.dismiss === 'cancel') {\r\n                return;\r\n            }\r\n        }\r\n        await this.submit();\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.disabilities = await this.props.store.fetchDisabilities();\r\n    }\r\n\r\n    render() {\r\n        const { \r\n            schoolYearId, \r\n            schoolYear, \r\n            term, \r\n            file, \r\n            warnings, \r\n            errors, \r\n            selectedErrors, \r\n            selectedWarnings, \r\n            hoveringError, \r\n            hoveringWarning, \r\n            loading,\r\n            importedStudents,\r\n            selectedCells,\r\n            hoveringOver,\r\n            lastSelected,\r\n        } = this;\r\n        const { schoolYears } = this.props.store;\r\n\r\n        return (\r\n            <Screen>\r\n                <Main fullWidth>\r\n                    <YearBar>\r\n                        <YearLabel>School Year</YearLabel>\r\n                        <YearSelect value={schoolYearId} onChange={this.handleSchoolYearChange} disabled={!this.formEnabled}>\r\n                            { /* Only allow the blank selection to show up when nothing has been changed yet */ }\r\n                            {schoolYearId === null && <option value=\"\"></option>}\r\n                            {schoolYears.map(schoolYear =>\r\n                                <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.year} - {schoolYear.year + 1}</option>\r\n                            )}\r\n                        </YearSelect>\r\n                    </YearBar>\r\n                    <Content>\r\n                        <ImportFormContainer>\r\n                            <ImportDataForm \r\n                                years={schoolYears}\r\n                                selectedYearId={schoolYearId}\r\n                                selectedYear={schoolYear}\r\n                                onYearChange={this.handleSchoolYearChange}\r\n                                selectedTerm={term}\r\n                                onSelectedTermChange={this.handleTermChange}\r\n                                file={file}\r\n                                onFileChange={this.handleFileChange}\r\n                                onCancel={this.handleCancel}\r\n                                fileSelectEnabled={this.fileSelectEnabled}\r\n                                formEnabled={this.formEnabled}\r\n                            />\r\n                            {file && (\r\n                                <CSVFileReport \r\n                                    warnings={warnings}\r\n                                    errors={errors}\r\n                                    onErrorClick={this.handleErrorClick}\r\n                                    onWarningClick={this.handleWarningClick}\r\n                                    onErrorEnter={errorId => this.handleErrorHover(errorId)}  \r\n                                    onErrorLeave={() => this.handleErrorHover(null)}\r\n                                    onWarningEnter={warningId => this.handleWarningHover(warningId)}\r\n                                    onWarningLeave={() => this.handleErrorHover(null)}\r\n                                    selectedErrors={[...selectedErrors, hoveringError]}\r\n                                    selectedWarnings={[...selectedWarnings, hoveringWarning]}\r\n                                />\r\n                            )}\r\n                            <DownloadTemplateLink href={getDownloadTemplateUrl()} download=\"student-import-template.csv\">Download Template</DownloadTemplateLink>\r\n                        </ImportFormContainer>\r\n                        {file && ( \r\n                            loading ? (<DataPreview loading><Spinner /></DataPreview>)\r\n                            : (\r\n                                <CSVDataImportPreview \r\n                                    studentData={importedStudents} \r\n                                    selected={selectedCells}\r\n                                    hoveringOver={hoveringOver}\r\n                                    lastSelected={lastSelected}\r\n                                    onDataChanged={this.handleCSVDataChange} \r\n                                    onImportClicked={this.handleImportClicked}\r\n                                    onCancelClicked={this.handleCancel}\r\n                                    buttonsEnabled={errors.length === 0}\r\n                                />\r\n                            )\r\n                        )}\r\n                    </Content>\r\n                </Main>\r\n            </Screen>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ImportData;\r\n\r\nconst YearBarHeight = 35;\r\nconst Main = styled(Section)`\r\n  position: relative;\r\n  flex: 1;\r\n  background-color: #F2F2F2;\r\n  max-height: calc(100% - ${YearBarHeight}px);\r\n`;\r\n\r\nconst YearBar = styled.div`\r\n  width: 100%;\r\n  height: ${YearBarHeight}px;\r\n  background-color: black;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  padding: 0 44px 0 44px;\r\n`;\r\n\r\nconst YearLabel = styled.div`\r\n    color: #9B9B9B;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    line-height: 17px;\r\n    margin-right: 20px;\r\n`;\r\n\r\nconst Content = styled(Section.Content)`\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: row;\r\n  height: 100%;\r\n  background-color: #F2F2F2;\r\n\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst ImportFormContainer = styled(Column)`\r\n  flex: 1;\r\n  max-width: 450px;\r\n  min-width: 360px;\r\n  height: 100%;\r\n  background-color: #4F4F4F;\r\n  align-items: center;\r\n\r\n  @media ${breakpoints.mediumOrSmall} {\r\n    max-width: none;\r\n    height: auto;\r\n  }\r\n`;\r\nconst YearSelectHandle = styled(Icons.WhiteChevron)`\r\n  width: 16px;\r\n  height: 8px;\r\n`;\r\n\r\nconst YearSelect = styled(Select).attrs({\r\n    Handle: () => () => (<YearSelectHandle/>)\r\n  })`\r\n    min-width: 120px;\r\n    background-color: inherit;\r\n    color: white;\r\n    font-size: 12px;\r\n`;\r\n\r\nconst FormSelectHandle = styled(Icons.SelectIconLight)`\r\n    height: 19px;\t\r\n    width: 19px;\r\n`;\r\n\r\nconst FormYearSelect = styled(Select).attrs({Handle: () => () => (<FormSelectHandle />)})`\r\n    background-color: #4A4A4A;\r\n    color: #D8D8D8;\t\r\n    font-family: \"Open Sans\";\t\r\n    font-size: 14px;\t\r\n    option, >:first-child {\r\n        font-style: italic;\r\n    }\r\n`;\r\n\r\nconst ImportDataTitle = styled(Row)`\r\n\tcolor: #FFFFFF;\t\r\n    font-family: Oswald;\r\n    font-size: 16px;\r\n    margin-top: 25px;\r\n    align-self: center;\r\n`;\r\n\r\nconst FieldLabel = styled(Row)`\r\n\tcolor: #F5633A;\t\r\n    font-family: \"Open Sans\";\t\r\n    font-size: 14px;\t\r\n    font-weight: bold;\t\r\n    line-height: 19px;\r\n    font-style: normal;\r\n`;\r\n\r\nconst InputWithLabel = styled(Column)`\r\n    width: 100%;\r\n    max-width: 300px;\r\n    margin-left: 40px;\r\n    @media ${breakpoints.mediumOrSmall} {\r\n        margin-left: 0;\r\n    }\r\n`;\r\n\r\nconst Form = styled(Column)`\r\n    width: 100%;\r\n    font-family: \"Open Sans\";\t\r\n    font-size: 14px;\t\r\n    font-style: italic;\t\r\n    line-height: 19px;\t\r\n    ${InputWithLabel} + ${InputWithLabel} {\r\n        margin-top: 20px;\r\n    }\r\n\r\n    @media ${breakpoints.mediumOrSmall} {\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\nconst StyledTermSelect = styled(TermSelect).attrs({Handle: () => () => (<FormSelectHandle />)})`\r\n    background-color: #4A4A4A;\r\n    color: #D8D8D8;\t\r\n    font-family: \"Open Sans\";\t\r\n    font-size: 14px;\r\n    option, >:first-child {\r\n        font-style: italic;\r\n    }\r\n`;\r\n\r\nconst ResetFileButton = styled(BlockButton)`\r\n    background-color: transparent;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-direction: row;\r\n    color: #F5633A;\t\r\n    font-family: \"Open Sans\";\t\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    &:hover {\r\n        background-color: transparent;\r\n    }\r\n    img {\r\n        height: 19px;\r\n        width: 19px;\r\n        margin-left: 10px;\r\n    }\r\n`;\r\n\r\n const DataPreview = styled(Column)`\r\n    padding: 58px 65px 0 0; \r\n    flex: 1;\r\n    @media ${breakpoints.large} {\r\n        max-width: 75vw;\r\n    }\r\n    @media ${breakpoints.mediumOrSmall} {\r\n        max-width: none;\r\n    }\r\n    ${props => props.loading && css`\r\n        justify-content: center;\r\n        align-items: center;\r\n    `}\r\n `;\r\n\r\nconst DataPreviewHeader = styled(Row)`\r\n\tcolor: #D43425;\t\r\n    font-family: Oswald;\t\r\n    font-size: 16px;\t\r\n    line-height: 24px;\r\n    margin-left: 55px;\r\n`;\r\n\r\nconst Import = styled(Column)`\r\n    justify-content: center;\r\n    align-items: center;\r\n    div {\r\n        color: #4A4A4A;\t\r\n        font-family: \"Open Sans\";\t\r\n        font-size: 14px;\t\r\n        font-style: italic;\tline-height: 19px;\r\n    }\r\n`;\r\n\r\n\r\nconst ButtonContainer = styled(Row)`\r\n    justify-content: center;\r\n    ${BlockButton} + ${BlockButton} {\r\n        margin-left: 15px;\r\n    }\r\n\r\n    ${BlockButton} {\r\n        height: 40px;\t\r\n        width: 120px;\t\r\n        ${props => props.enabled ? css`background-color: #F5633A;` : css`background-color: #D8D8D8;`}\r\n    }\r\n    margin-top: 10px;\r\n`;\r\n\r\nconst CancelButton = styled(BlockButton)`\r\n    &:hover {\r\n        background-color: #D43425;\r\n    }\r\n`;\r\n\r\n\r\nconst ImportButton = styled(BlockButton)`\r\n\r\n`;\r\n\r\n\r\nconst StyledCSVStudentUploadPreview = styled(CSVStudentUploadPreview)`\r\n    height: 100%;\r\n    max-height: 500px;\r\n    width: 100%;\r\n    @media ${breakpoints.mediumOrSmall} {\r\n        max-width: 95vw;\r\n    }\r\n    max-width: 95vw;\r\n    min-width: 330px;\r\n    margin-top: 6px;\r\n    margin-bottom: 15px;\r\n`;\r\n\r\n\r\nconst ImportDataForm = ({\r\n    years, \r\n    selectedYearId, \r\n    selectedYear, \r\n    onYearChange, \r\n    selectedTerm, \r\n    onSelectedTermChange, \r\n    file, \r\n    onFileChange, \r\n    onCancel, \r\n    fileSelectEnabled, \r\n    formEnabled\r\n}) => (\r\n    <Form>\r\n        <ImportDataTitle>IMPORT DATA</ImportDataTitle>\r\n        <InputWithLabel>\r\n            <FieldLabel>Select a Year</FieldLabel>\r\n            <FormYearSelect value={selectedYearId} onChange={onYearChange} placeholder=\"Year\" disabled={!formEnabled}>\r\n                {years.map(schoolYear =>\r\n                    <option key={schoolYear.id} value={schoolYear.id}>{schoolYear.year} - {schoolYear.year + 1}</option>\r\n                )}\r\n            </FormYearSelect>\r\n        </InputWithLabel>\r\n        <InputWithLabel>\r\n            <FieldLabel>Select a {selectedYear ? selectedYear.capitalizedTermType : 'Term'}</FieldLabel>\r\n            <StyledTermSelect \r\n                schoolYear={selectedYear} \r\n                value={selectedTerm} \r\n                onChange={onSelectedTermChange} \r\n                placeholder={selectedYear ? selectedYear.capitalizedTermType : 'Term'} \r\n                disabled={!formEnabled}\r\n            />\r\n        </InputWithLabel>\r\n        <InputWithLabel>\r\n            {file ? (\r\n                <ResetFileButton onClick={fileSelectEnabled ? onCancel : null}>\r\n                    <div>Select a New File </div>\r\n                    <Icons.SelectIconLight />\r\n                </ResetFileButton>\r\n            ) : \r\n            (\r\n                <>\r\n                    <FieldLabel>Select a File</FieldLabel>\r\n                    <FileInput value={file} onChange={onFileChange} withDragAndDrop accept='text/csv' enabled={fileSelectEnabled} />\r\n                </>\r\n            )}\r\n        </InputWithLabel>\r\n    </Form>\r\n);\r\n\r\n\r\nconst CSVDataImportPreview = ({studentData, onDataChanged, onImportClicked, onCancelClicked, selected, hoveringOver, buttonsEnabled, lastSelected}) => {\r\n    const [data, setData] = useState([]);\r\n\r\n    function onCellChanged(rowId, cellId, inputValue) {\r\n        const row = data.find(row => row.id === rowId);\r\n        if(row) {\r\n            const rowEntries = Object.entries(row);\r\n            const cell = rowEntries.find(([_, value]) => value.id === cellId);\r\n            if(cell) {\r\n                const [key, cellValues] = cell;\r\n                // Replace the cell's value\r\n                const newValue = { \r\n                    ...cellValues,\r\n                    value: inputValue,\r\n                    // Used in the re-validation (unifies the initial import code and the recheck code)\r\n                    rawValue: inputValue\r\n                }\r\n                const updatedRow = {\r\n                    ...row,\r\n                    [key]: newValue,\r\n                }\r\n                // replace the row with the updated values\r\n                setData(data.map(studentData => studentData.id === rowId ? updatedRow : studentData));\r\n            }\r\n        }\r\n    }\r\n\r\n    function onCSVCellFocusChange() {\r\n        onDataChanged(data);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setData(studentData);\r\n    }, [studentData]);\r\n\r\n    return (\r\n        <DataPreview>\r\n            <DataPreviewHeader>DATA PREVIEW</DataPreviewHeader>\r\n            <StyledCSVStudentUploadPreview \r\n                csvData={data} \r\n                selected={selected} \r\n                onCSVCellChange={onCellChanged}\r\n                onCSVCellFocusChange={onCSVCellFocusChange}\r\n                hoverOver={hoveringOver}\r\n                lastSelected={lastSelected}\r\n            />\r\n            <Import>\r\n                <div>Do you want to import this data?</div>\r\n                <ButtonContainer enabled={buttonsEnabled}>\r\n                    <ImportButton onClick={onImportClicked}>IMPORT</ImportButton>\r\n                    <CancelButton onClick={onCancelClicked}>CANCEL</CancelButton>\r\n                </ButtonContainer>\r\n            </Import>\r\n        </DataPreview>\r\n    );\r\n}\r\n\r\nconst DownloadTemplateLink = styled.a`\r\n    /* Only a dev tool */\r\n    display: ${process.env.NODE_ENV === 'development' ? 'block': 'none'}; \r\n`;","// BreakpointLabel renders all active breakpoints in the top right corner\r\n// Renders nothing in production.\r\n\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport * as breakpoints from '../breakpoints';\r\n\r\nlet BreakpointLabel;\r\n\r\nif(process.env.NODE_ENV === 'development') {\r\n  const breakpointLabels = Object.entries(breakpoints).map(([name, bp]) => {\r\n    return styled(props => <div {...props}>{name}</div>)`\r\n      display: none;\r\n      @media ${bp} {\r\n        display: block;\r\n      }\r\n    `;\r\n  });\r\n\r\n  BreakpointLabel = styled(props => \r\n    <div {...props}>\r\n      {breakpointLabels.map((B, i) => <B key={i}/>)}\r\n    </div>\r\n  )`\r\n    position: fixed;\r\n    left: 0px;\r\n    top: 0px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    z-index: 1000;\r\n  `;\r\n} else {\r\n  // in production, render nothing\r\n  BreakpointLabel = () => null;\r\n}\r\n\r\nexport default BreakpointLabel;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { observable } from 'mobx';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { HashRouter, Route, withRouter, Switch, Redirect } from 'react-router-dom';\r\nimport { fadeIn } from './animations';\r\nimport SpinnerOverlay from './components/SpinnerOverlay';\r\nimport ProtectedRoute from './components/ProtectedRoute';\r\nimport { includes } from 'lodash';\r\n\r\n// Logged out screens\r\nimport Login from './screens/Login';\r\nimport ForgotPassword from './screens/ForgotPassword';\r\nimport ResetPassword from './screens/ResetPassword';\r\n\r\n// Logged in screens\r\nimport Dashboard from './screens/Dashboard';\r\nimport Students from './screens/Students';\r\nimport Reports from './screens/Reports';\r\nimport EditProfile from './screens/EditProfile';\r\nimport About from './screens/About';\r\nimport MissingSchoolYear from './screens/MissingSchoolYear';\r\n\r\n// Admin only screens\r\nimport SchoolSettings from './screens/SchoolSettings';\r\nimport AddUser from './screens/AddUser';\r\nimport AddYear from './screens/AddYear';\r\nimport ManageUsers from './screens/ManageUsers';\r\nimport ImportData from './screens/ImportData';\r\n\r\n// For debugging\r\nimport BreakpointLabel from './components/BreakpointLabel';\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass AuthenticatedApp extends Component {\r\n  @observable initTask = this.props.store.init();\r\n\r\n  renderPending = () => (\r\n    <SpinnerOverlay open>\r\n      Loading\r\n    </SpinnerOverlay>\r\n  );\r\n\r\n  renderRejected = error => {\r\n    error = error || new Error('No details on the error were provided.');\r\n    let errorMessage = error.message;\r\n    const { response } = error;\r\n\r\n    if(response && typeof response.data === 'string' && /ECONNREFUSED/.test(response.data)) {\r\n      errorMessage = `Couldn't connect to API server. Check your internet connection.`;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h1>A server request resulted in an error.</h1>\r\n        {errorMessage}\r\n      </div>\r\n    )\r\n  };\r\n\r\n  renderResolved = () => {\r\n    const { store, location } = this.props;\r\n    const { user, currentSchoolYear } = store;\r\n    const { admin } = user;\r\n    const { pathname } = location;\r\n\r\n    if(!currentSchoolYear && !includes(['/About', '/EditProfile'], pathname)) {\r\n      if(admin) {\r\n        if(!includes(pathname, '/Users')) {\r\n          return (<AddYear/>);\r\n        }\r\n      } else {\r\n        return (<MissingSchoolYear/>);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <FadeInWrapper>\r\n        <Switch>\r\n          <Route path=\"/Students\" render={props => {\r\n            if(store.currentSchoolYear) {\r\n              return (<Redirect to={`${store.currentSchoolYear.id}/students`}/>);\r\n            }\r\n            return null;\r\n          }}/>\r\n          <Route path=\"/:schoolYearId/students\" component={Students}/>\r\n          <Route path=\"/Reports\" component={Reports}/>\r\n          <Route path=\"/EditProfile\" component={EditProfile}/>\r\n          <Route path=\"/ImportData\" component={ImportData} />\r\n          <Route path=\"/About\" component={About}/>\r\n          {admin && <Route path=\"/AddUser\" component={AddUser}/>}\r\n          {admin && <Route path=\"/AddYear\" component={AddYear}/>}\r\n          {admin && <Route path=\"/SchoolSettings\" component={SchoolSettings}/>}\r\n          {admin && <Route path=\"/Users\" component={ManageUsers}/>}\r\n          <Route path=\"/\" component={Dashboard}/>\r\n        </Switch>\r\n      </FadeInWrapper>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return this.initTask.match({\r\n      pending: this.renderPending,\r\n      resolved: this.renderResolved,\r\n      rejected: this.renderRejected,\r\n    });\r\n  }\r\n}\r\n\r\n@withRouter\r\n@inject('store')\r\n@observer\r\nclass UnauthenticatedApp extends Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route path={'/Login'} component={Login} />\r\n        <Route path={'/ForgotPassword'} component={ForgotPassword} />\r\n        <Route path={'/ResetPassword/:uid'} component={ResetPassword} />\r\n        <ProtectedRoute path=\"/\" component={AuthenticatedApp}/>\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\n@inject('store')\r\n@observer\r\nclass AppRouter extends Component {\r\n  render() {\r\n    const { online } = this.props.store;\r\n\r\n    return (\r\n      <FadeInWrapper>\r\n        <BreakpointLabel/>\r\n        <HashRouter>\r\n          <UnauthenticatedApp/>\r\n        </HashRouter>\r\n\r\n        <SpinnerOverlay open={!online}>\r\n        Waiting for internet connection\r\n        </SpinnerOverlay>\r\n      </FadeInWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppRouter;\r\n\r\nconst FadeInWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  animation: ${fadeIn} 0.25s linear;\r\n  animation-fill-mode: forward;\r\n`;\r\n","\r\nexport default function wait(ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n","import { observable, action } from 'mobx';\r\nlet store;\r\n\r\nclass Model {\r\n  static setStore(_store) {\r\n    store = _store;\r\n  }\r\n\r\n  static getStore() {\r\n    return store;\r\n  }\r\n\r\n  static fromArray(array) {\r\n    const ModelClass = this;\r\n    return array.map(raw => new ModelClass(raw));\r\n  }\r\n\r\n  // Turns raw object fields into model instances\r\n  static parseModelFields(target, fieldMap, defaultOptions) {\r\n    for(let [key, modelDescriptor] of Object.entries(fieldMap)) {\r\n      if(typeof modelDescriptor === 'function') {\r\n        modelDescriptor = {\r\n          Model: modelDescriptor,\r\n          expectArray: false,\r\n        };\r\n      } else if(Array.isArray(modelDescriptor)) {\r\n        modelDescriptor = {\r\n          Model: modelDescriptor[0],\r\n          expectArray: true,\r\n        };\r\n      }\r\n      const { Model, expectArray } = modelDescriptor;\r\n      const rawModel = target[key];\r\n      let parsedModel;\r\n\r\n      if(expectArray) {\r\n        if(rawModel && (Array.isArray(rawModel) || rawModel.$mobx.array)) {\r\n          parsedModel = rawModel.map(v => Model.wrapModel(Model, v)).filter(v => !!v);\r\n        } else {\r\n          parsedModel = [];\r\n        }\r\n      } else {\r\n        parsedModel = this.wrapModel(Model, rawModel);\r\n      }\r\n\r\n      target[key] = parsedModel;\r\n    }\r\n  }\r\n\r\n  static wrapModel(Model, value) {\r\n    if(value instanceof Model) return value;\r\n    if(value) return new Model(value);\r\n    return null;\r\n  }\r\n\r\n  @observable store = store;\r\n  @observable createdAt = null;\r\n  @observable updatedAt = null;\r\n  @observable deletedAt = null;\r\n\r\n  rawFields = {};\r\n\r\n  constructor(fields) {\r\n    this.patch(fields);\r\n  }\r\n\r\n  @action patch(fields) {\r\n    if(fields) {\r\n      Object.assign(this.rawFields, fields);\r\n      Object.assign(this, fields);\r\n      this.modelFields({\r\n        createdAt: Date,\r\n        updatedAt: Date,\r\n        deletedAt: Date,\r\n      });\r\n    }\r\n    return this;\r\n  }\r\n\r\n  clone() {\r\n    const Self = this.constructor;\r\n    return new Self(this.rawFields);\r\n  }\r\n\r\n  modelFields(fieldMap) {\r\n    Model.parseModelFields(this, fieldMap);\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default Model;","import Model from './Model';\r\n\r\nclass Disability extends Model {\r\n\r\n}\r\n\r\nexport default Disability;","import { observable, computed } from 'mobx';\r\nimport Model from './Model';\r\nimport Disability from './Disability';\r\n\r\nclass User extends Model {\r\n  @observable firstName = '';\r\n  @observable lastName = '';\r\n  @observable email = '';\r\n\r\n  @computed get fullName() {\r\n    return `${this.firstName} ${this.lastName}`;\r\n  }\r\n\r\n  @computed get lowercaseFullName() {\r\n    return this.fullName.toLowerCase();\r\n  }\r\n\r\n  @computed get editRoute() {\r\n    return `/Users/${this.id}`;\r\n  }\r\n\r\n  locationMatches(location) {\r\n    const { pathname } = location;\r\n    return pathname === this.editRoute || pathname === this.viewRoute;\r\n  }\r\n\r\n  patch(fields) {\r\n    super.patch(fields);\r\n\r\n    this.modelFields({\r\n      disabilities: [Disability],\r\n    });\r\n  }\r\n}\r\n\r\nexport default User;","import { capitalize } from 'lodash';\r\nimport { observable, computed } from 'mobx';\r\nimport swal from 'sweetalert2';\r\nimport { riskUtils } from 'tgb-shared';\r\nimport Model from './Model';\r\nimport Disability from './Disability';\r\nimport getId from '../utils/getId';\r\n\r\nclass StudentTermInfo extends Model {\r\n  static sorter(a, b) {\r\n    if(a.sortName === b.sortName) return 0;\r\n    if(a.sortName > b.sortName) return 1;\r\n    return -1;\r\n  }\r\n\r\n  // Cross-term student info\r\n  @observable id;\r\n  @observable studentId = '';\r\n  @observable firstName = '';\r\n  @observable lastName = '';\r\n  @observable race = '';\r\n  @observable gender = '';\r\n  @observable birthday = '';\r\n  @observable birthdayString = '';\r\n  @observable disabilities = [];\r\n\r\n  @observable gradeType = null;\r\n  @observable exitCategory = '';\r\n  @observable postSchoolOutcome = '';\r\n  @observable postSchoolOutcomeOther = '';\r\n\r\n  // Risk factors\r\n  @observable absentPercent = null;\r\n  @observable behaviorMarks = null;\r\n  @observable suspended = null;\r\n  @observable grade = null;\r\n  @observable gradeLevel = null;\r\n  @observable failingEnglish = null;\r\n  @observable failingMath = null;\r\n  @observable failingOther = null;\r\n  @observable onTrack = null;\r\n  @observable retained = null;\r\n  @observable schoolsAttended = null;\r\n  @observable hasExtracurricular = null;\r\n\r\n  // Skills\r\n  @observable hasSelfDeterminationSkills = null;\r\n  @observable hasIndependentLivingSkills = null;\r\n  @observable hasTravelSkills = null;\r\n  @observable hasSocialSkills = null;\r\n\r\n  // Career dev + IEP\r\n  @observable attendedIepMeeting = null;\r\n  @observable iepRole = null;\r\n  @observable postSchoolGoals = null; \r\n  @observable hasGraduationPlan = null;\r\n\r\n  @computed get sortName() {\r\n    return `${this.lastName} ${this.firstName}`.toLowerCase();\r\n  }\r\n\r\n  @computed get riskData() {\r\n    const { schoolSettings } = this.store;\r\n    if(!schoolSettings) return null;\r\n    return observable(riskUtils.calcTermInfoRiskData(schoolSettings, this));\r\n  }\r\n\r\n  @computed get risk() {\r\n    const { riskData } = this;\r\n    if(!riskData) return null;\r\n    return riskData.risk;\r\n  }\r\n\r\n  @computed get riskFactorValues() {\r\n    return [\r\n      this.grade,\r\n      this.absentPercent,\r\n      this.behaviorMarks,\r\n      this.suspended,\r\n      this.failingEnglish,\r\n      this.failingMath,\r\n      this.failingOther,\r\n      this.onTrack,\r\n      this.retained,\r\n      this.schoolsAttended,\r\n      this.hasExtracurricular,\r\n    ];\r\n  }\r\n\r\n  @computed get skillValues() {\r\n    return [\r\n      this.hasSelfDeterminationSkills,\r\n      this.hasIndependentLivingSkills,\r\n      this.hasTravelSkills,\r\n      this.hasSocialSkills,\r\n    ];\r\n  }\r\n\r\n  @computed get careerDevValues() {\r\n    return [\r\n      this.attendedIepMeeting,\r\n      // If student hasn't attended IEP meeting,\r\n      // not selecting a role shouldn't count against complete %\r\n      this.attendedIepMeeting == null\r\n        ? null\r\n        : this.iepRole,\r\n      this.hasGraduationPlan,\r\n      this.postSchoolGoals,\r\n    ];\r\n  }\r\n\r\n  @computed get riskFactorPercentage() {\r\n    return calcCompletedPercent(this.riskFactorValues);\r\n  }\r\n\r\n  @computed get skillPercentage() {\r\n    return calcCompletedPercent(this.skillValues);\r\n  }\r\n\r\n  @computed get careerDevPercentage() {\r\n    return calcCompletedPercent(this.careerDevValues);\r\n  }\r\n\r\n  @computed get fullName() {\r\n    return `${capitalize(this.firstName)} ${capitalize(this.lastName)}`;\r\n  }\r\n\r\n  @computed get lowercaseFullName() {\r\n    return this.fullName.toLowerCase();\r\n  }\r\n\r\n  @computed get lowercaseStudentId() {\r\n    return this.studentId.toLowerCase();\r\n  }\r\n\r\n  @computed get disabilityIds() {\r\n    const { disabilities } = this;\r\n    return disabilities.map(d => d.id);\r\n  }\r\n\r\n  @computed get birthdayDateString() {\r\n    return this.birthdayString.split('T')[0];\r\n  }\r\n\r\n  @computed get genderLetter() {\r\n    return this.gender ? this.gender[0].toUpperCase() : '';\r\n  }\r\n\r\n  @computed get description() {\r\n    const { disabilities } = this;\r\n    const disabilityString = disabilities && disabilities.length\r\n      ? disabilities.map(d => d.name).join(' ')\r\n      : 'NONE';\r\n\r\n    return `${this.genderLetter}, Grade ${this.gradeLevel} ${disabilityString}`;\r\n  }\r\n\r\n  // Used to check if the current route references this user\r\n  @computed get locationMatchRegexp() {\r\n    return new RegExp('/\\\\d+/students/\\\\w+/' + this.id);\r\n  }\r\n\r\n  @computed get isPostSchool() {\r\n    return this.gradeLevel === 'Post-school';\r\n  }\r\n\r\n  locationMatches(location) {\r\n    return this.locationMatchRegexp.test(location.pathname);\r\n  }\r\n\r\n  getViewRoute(schoolYear) {\r\n    return `/${schoolYear.id}/students/view/${this.id}`;\r\n  }\r\n\r\n  getEditRoute(schoolYear) {\r\n    return `/${getId(schoolYear)}/students/edit/${this.id}`;\r\n  }\r\n\r\n  getRisksRoute(schoolYear, term=schoolYear.currentTerm) {\r\n    return this.getViewRoute(schoolYear) + '/risks/' + getId(term);\r\n  }\r\n\r\n  getCreateActivityRoute(schoolYear, group) {\r\n    return this.getViewRoute(schoolYear) + `/activities/create/${group.id}`;\r\n  }\r\n\r\n  getEditActivityRoute(schoolYear, activity) {\r\n    return this.getViewRoute(schoolYear) + `/activities/edit/${activity.id}`;\r\n  }\r\n\r\n  searchMatches(search) {\r\n    search = search.toLowerCase();\r\n    return this.lowercaseFullName.match(search) ||\r\n      this.lowercaseStudentId.match(search);\r\n  }\r\n\r\n  filterMatches(filter) {\r\n    if(!filter) return true;\r\n    const { riskData, race } = this;\r\n    const { grades, disabilities, riskLevels, supportNeeded, races } = filter;\r\n    const { disabilityIds } = this;\r\n\r\n    return (\r\n      (!riskLevels.length || riskLevels.includes(this.risk)) &&\r\n      (!grades.length || grades.includes(this.gradeLevel)) &&\r\n      (!disabilities.length || disabilities.some(d => disabilityIds.includes(d.id))) &&\r\n      (!supportNeeded.length || supportNeeded.some(key => riskData.interventions[key])) &&\r\n      (!races.length || races.includes(race))\r\n    );\r\n  }\r\n\r\n  confirmHistoricEdit() {\r\n    return swal({\r\n      title: 'Are you sure?',\r\n      text: `You are about to edit historical data for ${this.fullName}. Are you sure you want to continue?`,\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes',\r\n      cancelButtonText: 'No'\r\n    }).then(result => result.value);\r\n  }\r\n\r\n  patch(fields) {\r\n    super.patch(fields);\r\n    const { student } = fields;\r\n    if(student) {\r\n      this.studentTermInfoId = this.studentTermInfoId || this.id;\r\n      Object.assign(this, student);\r\n      this.birthdayString = this.birthday;\r\n      this.modelFields({\r\n        birthday: Date,\r\n        disabilities: [Disability]\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n// returns the percent of `values` that aren't null\r\n// example: calcCompletedPercent([false, null, 3, 5]) -> 75\r\nfunction calcCompletedPercent(values) {\r\n  return Math.floor(100 * values.reduce((total, v) => v == null ? total : total + 1, 0) / values.length);\r\n}\r\n\r\nexport default StudentTermInfo;\r\n","import { observable, computed } from 'mobx';\r\nimport Model from './Model';\r\nimport StudentTermInfo from './StudentTermInfo';\r\n\r\nclass Term extends Model {\r\n  @observable studentTermInfos = [];\r\n  @observable startDate = null;\r\n\r\n  @computed get students() {\r\n    return this.studentTermInfos.sort(StudentTermInfo.sorter);\r\n  }\r\n\r\n  @computed get isInFuture() {\r\n    return this.startDate > new Date();\r\n  }\r\n\r\n  patch(fields) {\r\n    super.patch(fields);\r\n\r\n    this.modelFields({\r\n      startDate: Date,\r\n      studentTermInfos: [StudentTermInfo],\r\n    });\r\n  }\r\n}\r\n\r\nexport default Term;","import { observable, computed } from 'mobx';\r\nimport { capitalize } from 'lodash';\r\nimport Model from './Model';\r\nimport Term from './Term';\r\n\r\nclass SchoolYear extends Model {\r\n  @observable year = 0;\r\n  @observable studentsLoaded = false; // Set in store#fetchSchoolYear\r\n\r\n  @computed get yearRange() {\r\n    return `${this.year}-${this.year + 1}`;\r\n  }\r\n\r\n  @computed get sortedTerms() {\r\n    return this.terms.sort((a, b) => a.index - b.index);\r\n  }\r\n\r\n  @computed get listOfTerms() {\r\n    return this.sortedTerms\r\n      .map((term, index) => ({id: term.id, label: `${this.capitalizedTermType} ${index+1}`}));\r\n  }\r\n\r\n  @computed get capitalizedTermType() {\r\n    return capitalize(this.termType);\r\n  }\r\n\r\n  @computed get students() {\r\n    const { currentTerm } = this;\r\n    return currentTerm ? currentTerm.students : [];\r\n  }\r\n\r\n  @computed get termIndexPrefix() {\r\n    return this.termType[0].toUpperCase();\r\n  }\r\n\r\n  // Pick the latest term that started before the current date\r\n  // If none is found, returns the first term\r\n  @computed get currentTerm() {\r\n    const terms = this.sortedTerms;\r\n    const { length } = terms;\r\n\r\n    if(length === 1) return terms[0];\r\n    const now = new Date();\r\n    \r\n    for(let i = 0; i < length; i++) {\r\n      const term = terms[i];\r\n      const nextTerm = terms[i + 1];\r\n\r\n      if(term.startDate < now && (!nextTerm || nextTerm.startDate > now)) {\r\n        return term;\r\n      }\r\n    }\r\n\r\n    return terms[0];\r\n  }\r\n\r\n  patch(fields) {\r\n    super.patch(fields);\r\n\r\n    this.modelFields({\r\n      terms: [Term],\r\n    });\r\n  }\r\n}\r\n\r\nexport default SchoolYear;","import Model from './Model';\r\n\r\nclass ActivityType extends Model {\r\n\r\n}\r\n\r\nexport default ActivityType;","import Model from './Model';\r\nimport ActivityType from './ActivityType';\r\n\r\nclass ActivityTypeGroup extends Model {\r\n  patch(fields) {\r\n    super.patch(fields);\r\n\r\n    this.modelFields({\r\n      activityTypes: [ActivityType],\r\n    });\r\n  }\r\n}\r\n\r\nexport default ActivityTypeGroup;","import { observable } from 'mobx';\r\nimport Model from './Model';\r\n\r\nclass ActivityEvent extends Model {\r\n  @observable eventTime;\r\n\r\n  patch(fields) {\r\n    super.patch(fields);\r\n    this.modelFields({\r\n      eventTime: Date\r\n    });\r\n  }\r\n}\r\n\r\nexport default ActivityEvent;","import { observable } from 'mobx';\r\nimport Model from './Model';\r\nimport ActivityType from './ActivityType';\r\nimport ActivityEvent from './ActivityEvent';\r\n\r\nclass Activity extends Model {\r\n  @observable events = [];\r\n  @observable activityType = null;\r\n  @observable frequency = null;\r\n\r\n  patch(fields) {\r\n    super.patch(fields);\r\n    this.modelFields({\r\n      activityType: ActivityType,\r\n      events: [ActivityEvent],\r\n    });\r\n  }\r\n}\r\n\r\nexport default Activity;","import Model from './Model';\r\nimport { observable } from 'mobx';\r\n\r\nclass SchoolSettings extends Model {\r\n  @observable name = '';\r\n  @observable gradeConversions = [];\r\n}\r\n\r\nexport default SchoolSettings;\r\n","export default function findById(array, id) {\r\n  return array.find(object => object && object.id === id);\r\n};\r\n","import axios from 'axios';\r\nimport { first, compact } from 'lodash';\r\nimport { observable, computed, action, runInAction, toJS } from 'mobx';\r\nimport wait from '../utils/wait';\r\nimport parseArrayBuffer from '../utils/parseArrayBuffer';\r\nimport { task } from './AsyncTask';\r\nimport User from './User';\r\nimport Disability from './Disability';\r\nimport SchoolYear from './SchoolYear';\r\nimport ActivityTypeGroup from './ActivityTypeGroup';\r\nimport Activity from './Activity';\r\nimport StudentTermInfo from './StudentTermInfo';\r\nimport SchoolSettings from './SchoolSettings';\r\nimport findById from '../utils/findById';\r\nimport Model from './Model';\r\nimport qs from 'qs';\r\n\r\nconst authTokenKey = 'com.emberex.transition_gradebook.authToken';\r\n\r\nexport default class Store {\r\n  @observable online = window.navigator.onLine;\r\n  @observable authToken = localStorage.getItem(authTokenKey);\r\n  @observable user = null;\r\n  @observable schoolSettings = null;\r\n  @observable users = [];\r\n  @observable disabilities = [];\r\n  @observable schoolYears = [];\r\n  @observable activityTypeGroups = [];\r\n  @observable initTask;\r\n\r\n  constructor() {\r\n    Model.setStore(this);\r\n    window.addEventListener('online', action(() => this.online = true));\r\n    window.addEventListener('offline', action(() => this.online = false));\r\n  }\r\n\r\n  // Authenticated axios instance\r\n  @computed get axios() {\r\n    const { authToken } = this;\r\n    if(!authToken) return axios;\r\n    const axiosInstance = axios.create({\r\n      headers: { 'Authorization': authToken }\r\n    });\r\n\r\n    if(authToken) {\r\n      // Logout automatically if a 401 response is received\r\n      axiosInstance.interceptors.response.use(\r\n        response => response,\r\n        error => {\r\n          if(error.response && error.response.status === 401) {\r\n            this.logout();\r\n          }\r\n          throw error;\r\n        }\r\n      );\r\n    }\r\n\r\n    return axiosInstance;\r\n  }\r\n\r\n  \r\n\r\n  @computed get loggedIn() {\r\n    return !!this.authToken;\r\n  }\r\n\r\n  @computed get today() {\r\n    const now = new Date();\r\n    const day = now.getDate();\r\n    const month = now.getMonth()+1;\r\n    const year = now.getFullYear();\r\n    return `${month < 10 ? '0' + month : month}-${day < 10 ? '0' + day : day}-${year}`;\r\n  }\r\n\r\n  @computed get currentSchoolYear() {\r\n    return first(this.schoolYears.sort((a, b) => b.year - a.year));\r\n  }\r\n\r\n  @computed get students() {\r\n    const { currentSchoolYear } = this;\r\n    if(!currentSchoolYear) return [];\r\n    return currentSchoolYear.students;\r\n  }\r\n\r\n  @computed get admins() {\r\n    return this.users.filter(user => user.admin);\r\n  }\r\n\r\n  isCurrentSchoolYear(schoolYear) {\r\n    return schoolYear.id === this.currentSchoolYear.id;\r\n  }\r\n\r\n  isCurrentTerm(term) {\r\n    return term.id === this.currentSchoolYear.currentTerm.id;\r\n  }\r\n\r\n  getActivityTypeGroupById(groupId) {\r\n    return findById(this.activityTypeGroups, groupId);\r\n  }\r\n\r\n  getSchoolYearById(schoolYearId) {\r\n    return findById(this.schoolYears, schoolYearId);\r\n  }\r\n\r\n  @task('Init')\r\n  async _init() {\r\n    while(!this.online) await wait(1000);\r\n    await Promise.all(compact([\r\n      !this.user && this.fetchUser(),\r\n      this.fetchSchoolSettings(),\r\n      this.fetchActivityGroups(),\r\n      this.fetchSchoolYears(),\r\n      this.fetchDisabilities(),\r\n      this.fetchUsers(),\r\n    ]));\r\n  }\r\n\r\n  init() {\r\n    this.initTask = this._init();\r\n    return this.initTask;\r\n  }\r\n\r\n  @task('login')\r\n  async login(username, password) {\r\n    const result = await this.axios.post('/api/login', { username, password }).catch(error => ({error}));\r\n\r\n    if (result.error) {\r\n      return result;\r\n    }\r\n\r\n    const { user, authToken } = result.data;\r\n\r\n    runInAction(() => {\r\n      this.user = new User(user);\r\n      this.authToken = authToken;\r\n      localStorage.setItem(authTokenKey, authToken);\r\n    });\r\n\r\n    return this.authToken;\r\n  }\r\n\r\n  @task('Request password reset')\r\n  async forgotPassword(username) {\r\n    return await this.axios.post('/api/forgotPassword', { username }).catch(error => ({error}));\r\n  }\r\n\r\n  @task('Check reset password request')\r\n  async checkResetPasswordIdentifier(uid) {\r\n    return await this.axios.get(`/api/checkResetPasswordRequest?uid=${uid}`).catch(error => ({error}));\r\n  }\r\n\r\n  @task('Update password')\r\n  async resetPassword(uid, password) {\r\n    return await this.axios.post('/api/resetPassword', { uid, password }).catch(error => ({error}));\r\n  }\r\n\r\n  @task('Fetch user')\r\n  async fetchUser() {\r\n    const result = await this.axios.get('/api/user');\r\n    const { user } = result.data;\r\n\r\n    runInAction(() => {\r\n      this.user = new User(user);\r\n    });\r\n\r\n    return this.user;\r\n  }\r\n\r\n  @task('Fetch users')\r\n  async fetchUsers() {\r\n    const result = await this.axios.get('/api/users');\r\n    const { users } = result.data;\r\n\r\n    runInAction(() => {\r\n      this.users = User.fromArray(users);\r\n    });\r\n\r\n    return this.users;\r\n  }\r\n\r\n  @task('Create user')\r\n  async createUser(fields) {\r\n    const result = await this.axios.post('/api/users', fields);\r\n    const user = new User(result.data.user);\r\n    this.users.push(user);\r\n    return user;\r\n  }\r\n\r\n  @task('Update user')\r\n  async updateUser(user, fields) {\r\n    const result = await this.axios.post(`/api/users/${user.id}`, fields);\r\n    const userListUser = this.users.find(u => u.id === user.id);\r\n    user.patch(result.data.user);\r\n\r\n    if(userListUser) {\r\n      userListUser.patch(result.data.user);\r\n    }\r\n    if(user.id === this.user.id) {\r\n      this.user.patch(result.data.user);\r\n    }\r\n    return user;\r\n  }\r\n\r\n  @task('Delete user')\r\n  async deleteUser(user) {\r\n    await this.axios.delete(`/api/users/${user.id}`);\r\n    this.users.remove(user);\r\n    if(user.id === this.user.id) this.logout();\r\n  }\r\n\r\n  @task('Create student and add to a school year')\r\n  async createStudent(schoolYear, fields) {\r\n    const result = await this.axios.post(`/api/schoolYears/${schoolYear.id}/students`, fields);\r\n    const studentTermInfos = result.data.studentTermInfos.map(studentTermInfo =>\r\n      new StudentTermInfo(studentTermInfo)\r\n    );\r\n\r\n    return runInAction(() => {\r\n      studentTermInfos.forEach(studentTermInfo => {\r\n        const term = schoolYear.terms.find(term => term.id === studentTermInfo.termId);\r\n        term.studentTermInfos.push(studentTermInfo);\r\n      });\r\n      return studentTermInfos[0];\r\n    });\r\n  }\r\n\r\n  @task('Update student')\r\n  async updateStudent(student, schoolYear, fields) {\r\n    const result = await this.axios.post(`/api/schoolYears/${schoolYear.id}/students/${student.id}`, fields);\r\n    const { studentTermInfos } = result.data;\r\n\r\n    schoolYear.terms.forEach(term => {\r\n      term.studentTermInfos.forEach(termInfo => {\r\n        if(termInfo.student.id === student.id) {\r\n          termInfo.gradeLevel = fields.gradeLevel;\r\n          const modifiedTermInfo = studentTermInfos.find(t => t.id === termInfo.studentTermInfoId);\r\n          if(modifiedTermInfo) {\r\n            termInfo.patch(modifiedTermInfo);\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    return student;\r\n  }\r\n\r\n  @task('Remove student from a school year')\r\n  async removeStudentFromSchoolYear(student, schoolYear) {\r\n    await this.axios.delete(`/api/schoolYears/${schoolYear.id}/students/${student.id}`);\r\n    schoolYear.terms.forEach(term => {\r\n      const studentTermInfo = term.studentTermInfos.find(termInfo => termInfo.student.id === student.id);\r\n      if(studentTermInfo) term.studentTermInfos.remove(studentTermInfo);\r\n    });\r\n  }\r\n\r\n  @task('Fetch disabilities')\r\n  async fetchDisabilities() {\r\n    const result = await this.axios.get('/api/disabilities');\r\n    const { disabilities } = result.data;\r\n\r\n    runInAction(() => {\r\n      this.disabilities = Disability.fromArray(disabilities);\r\n    });\r\n\r\n    return this.disabilities;\r\n  }\r\n\r\n  @task('Fetch activity type groups')\r\n  async fetchActivityGroups() {\r\n    const result = await this.axios.get('/api/activities/groups');\r\n    const { activityTypeGroups } = result.data;\r\n\r\n    runInAction(() => {\r\n      this.activityTypeGroups = ActivityTypeGroup.fromArray(activityTypeGroups);\r\n    });\r\n\r\n    return this.activityTypeGroups;\r\n  }\r\n\r\n  @task('Fetch school years')\r\n  async fetchSchoolYears() {\r\n    const result = await this.axios.get('/api/schoolyears');\r\n    const { schoolYears } = result.data;\r\n\r\n    runInAction(() => {\r\n      this.schoolYears = SchoolYear.fromArray(schoolYears);\r\n    });\r\n\r\n    return this.schoolYears;\r\n  }\r\n\r\n  @task('Fetch school year with students')\r\n  async fetchSchoolYear(schoolYearId) {\r\n    const { schoolYears } = this;\r\n    const result = await this.axios.get(`/api/schoolyears/${schoolYearId}`);\r\n    const { schoolYear } = result.data;\r\n    schoolYear.studentsLoaded = true;\r\n    let model = findById(schoolYears, schoolYear.id);\r\n\r\n    runInAction(() => {\r\n      if(model) {\r\n        model.patch(schoolYear);\r\n      } else {\r\n        model = new SchoolYear(schoolYear);\r\n        this.schoolYears.push(model);\r\n      }\r\n    });\r\n\r\n    return model;\r\n  }\r\n\r\n  @task('Download report PDF')\r\n  async downloadReport(endpoint, filename, filters) {\r\n    if(endpoint[0] !== '/') endpoint = '/' + endpoint;\r\n    const { grades, riskLevels, supportNeeded, races, disabilities, ...others} = filters;\r\n    const disabilitiesFilter = disabilities ? disabilities.map(disability => disability.name) : undefined;\r\n    const response = await this.axios.get(`/api/reports${endpoint}`, {\r\n      params: {\r\n        //toJS so that they are a \"real array\" that qs can understand\r\n        grades: toJS(grades),\r\n        riskLevels: toJS(riskLevels),\r\n        supportNeeded: toJS(supportNeeded), \r\n        races: toJS(races),\r\n        disabilities: disabilitiesFilter,\r\n        ...others\r\n      },\r\n      responseType: 'arraybuffer',\r\n      headers: {\r\n        'Accept': 'application/pdf'\r\n      },\r\n      paramsSerializer: params => qs.stringify(params, { arrayFormat: 'repeat'}),\r\n    }).catch(error => {\r\n      if(error.response && error.response.data instanceof ArrayBuffer) {\r\n        error.response.parsedData = parseArrayBuffer(error.response.data);\r\n      }\r\n      throw error;\r\n    });\r\n\r\n    const url = window.URL.createObjectURL(new Blob([response.data], { type: 'application/pdf' }));\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.setAttribute('download', `${filename}.pdf`);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  }\r\n\r\n  @task('Create school year')\r\n  async createSchoolYear({year, students, terms, termType}) {\r\n    const result = await this.axios.post('/api/schoolYears', {\r\n      year, students, terms, termType\r\n    });\r\n    const schoolYear = new SchoolYear(result.data.schoolYear);\r\n    this.schoolYears.push(schoolYear);\r\n    return schoolYear;\r\n  }\r\n\r\n  @task('Fetch student activities')\r\n  async fetchStudentActivities(student, schoolYear) {\r\n    const result = await this.axios.get(`/api/activities/${student.id}/${schoolYear.id}`);\r\n    return Activity.fromArray(result.data.activities).sort((a, b) => b.createdAt - a.createdAt);\r\n  }\r\n\r\n  @task('Create one or more student activities')\r\n  async createStudentActivity(students, schoolYear, fields) {\r\n    const payload = { \r\n      schoolYearId: schoolYear.id, \r\n      studentIds: students.map(student => student.id), \r\n      ...fields \r\n    }\r\n\r\n    const result = await this.axios.post(`/api/activities`, payload);\r\n    const activities = result.data.activities.map(activity => new Activity(activity))\r\n    return activities;\r\n  }\r\n\r\n  @task('Edit student activity')\r\n  async editStudentActivity(student, schoolYear, activity, fields) {\r\n    const result = await this.axios.post(`/api/activities/${student.id}/${schoolYear.id}/${activity.id}`, {\r\n      ...fields,\r\n      events: fields.events.map(event => ({\r\n        eventTime: event.eventTime\r\n      }))\r\n    });\r\n    activity.patch(result.data.activity);\r\n    return activity;\r\n  }\r\n\r\n  @task('Delete activity')\r\n  async deleteActivity(activity) {\r\n    return this.axios.delete(`/api/activities/${activity.id}`);\r\n  }\r\n\r\n  @task('Fetch student term info')\r\n  async fetchStudentTermInfo(student, term) {\r\n    const result = await this.axios.get(`/api/students/${student.id}/termInfo/${term.id}`);\r\n    return new StudentTermInfo(result.data.studentTermInfo);\r\n  }\r\n\r\n  @task('Edit student term info')\r\n  async editStudentTermInfo(studentTermInfo, fields) {\r\n    const result = await this.axios.post(`/api/studentTermInfo/${studentTermInfo.studentTermInfoId}`, fields);\r\n    studentTermInfo.patch(result.data.studentTermInfo);\r\n    return studentTermInfo;\r\n  }\r\n\r\n  @task('Fetch school settings')\r\n  async fetchSchoolSettings() {\r\n    const result = await this.axios.get('/api/schoolSettings');\r\n    const schoolSettings = new SchoolSettings(result.data.schoolSettings);\r\n    this.schoolSettings = schoolSettings;\r\n    return schoolSettings;\r\n  }\r\n\r\n  @task('Edit school settings')\r\n  async editSchoolSettings(fields) {\r\n    const result = await this.axios.post('/api/schoolSettings', fields);\r\n    this.schoolSettings.patch(result.data.schoolSettings);\r\n    return this.schoolSettings;\r\n  }\r\n\r\n  @task('Get student export CSV')\r\n  async getStudentExportData(schoolYear, students) {\r\n    const result = await this.axios.post(`/api/schoolYears/${schoolYear.id}/export`, {\r\n      studentIds: students && students.map(s => s.id)\r\n    });\r\n    return result.data;\r\n  }\r\n\r\n  @task('Import students from CSV')\r\n  async importStudentsFromCSV(schoolYear, term, csvData) {\r\n    await this.axios.post(`/api/schoolYears/${schoolYear.id}/${term}/import`, csvData);\r\n    // Create and edit paths are very different, so instead of handling those paths, just re-fetch the school year\r\n    return this.fetchSchoolYear(schoolYear.id)\r\n  }\r\n\r\n  @task('Fetch term student list')\r\n  async fetchTermStudents(term) {\r\n    const result = await this.axios.get(`/api/term/${term.id}/students`);\r\n    term.studentTermInfos = StudentTermInfo.fromArray(result.data.students);\r\n    return term.studentTermInfos;\r\n  }\r\n\r\n  @task('Fetch dashboard data')\r\n  async fetchDashboardData() {\r\n    const result = await this.axios.get(`/api/dashboard/${this.currentSchoolYear.currentTerm.id}`);\r\n    const {\r\n      students,\r\n      studentGradeGroups,\r\n      activityGroups,\r\n      studentRiskGroups,\r\n      offTrackStudents,\r\n      chronicAbsentStudents,\r\n      interventionGroups,\r\n      raceGroups,\r\n    } = result.data;\r\n\r\n    const studentMap = students.reduce((map, student) => {\r\n      map.set(student.id, new StudentTermInfo(student));\r\n      return map;\r\n    }, new Map());\r\n  \r\n    const resolveStudents = studentIds => studentIds.map(id => studentMap.get(id)).sort(StudentTermInfo.sorter);\r\n\r\n    for(let group of studentGradeGroups) {\r\n      group.students = resolveStudents(group.students);\r\n    }\r\n\r\n    for(let group of studentRiskGroups) {\r\n      group.students = resolveStudents(group.students);\r\n    }\r\n\r\n    for(let group of activityGroups) {\r\n      group.students = resolveStudents(group.students);\r\n    }\r\n\r\n    for(let group of interventionGroups) {\r\n      group.students = resolveStudents(group.students);\r\n    }\r\n\r\n    for(let group of raceGroups) {\r\n      group.students = resolveStudents(group.students);\r\n    }\r\n\r\n    return {\r\n      studentCount: students.length,\r\n      studentGradeGroups,\r\n      activityGroups,\r\n      studentRiskGroups,\r\n      interventionGroups,\r\n      raceGroups,\r\n      offTrackStudents: resolveStudents(offTrackStudents),\r\n      chronicAbsentStudents: resolveStudents(chronicAbsentStudents),\r\n    };\r\n  }\r\n\r\n  @action logout() {\r\n    localStorage.removeItem(authTokenKey);\r\n    this.authToken = null;\r\n    this.user = null;\r\n    this.users = [];\r\n    this.disabilities = [];\r\n    this.schoolYears = [];\r\n    this.activityTypeGroups = [];\r\n  }\r\n}\r\n","\r\n// Needed to parse errors in responses where the content type is ArrayBuffer (ex. the report pdf endpoints)\r\nexport default function parseArrayBuffer(arrayBuffer) {\r\n  return JSON.parse(String.fromCharCode.apply(null, new Uint8Array(arrayBuffer)));\r\n}\r\n","import 'babel-polyfill';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'mobx-react';\r\nimport './fonts.css';\r\nimport './sweet-alert-custom.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport Store from './models/Store';\r\n\r\nglobal.PRODUCTION = process.env.NODE_ENV === 'production';\r\nconst store = new Store();\r\nglobal.store = store;\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App/>\r\n  </Provider>\r\n, document.getElementById('root'));\r\n","module.exports = __webpack_public_path__ + \"static/media/red_circle_x.322cafb6.svg\";","module.exports = __webpack_public_path__ + \"static/media/expand_arrow.1da69e32.svg\";","module.exports = __webpack_public_path__ + \"static/media/gear_icon.b1ad9688.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gYEFCERanpMYwAAA+BJREFUSMe9ll9olWUcxz+/33vO1Jxz5+zMQctUVAxqm2etiPJmF1GRQUmK3kQgXUgF3YgXwUhBKi+ECUEGCf2jC8lIAkOiJdg/cmem0+akLC0Zes7ZNEnbzvt8u9jZ0mzaamdfeG+e9+H9ft7n+T3P72uSuJm62yzpP9OiQNZEVjAfqMFIIQJGHnEeyJvTHwW6movq5V/IbgRweK4tDUnWEHhMIsUkZMY5M7pCzFt3D+mHSQH0NljDcIlNCjx61Qf7zfhWIpeIOOnO0MxzDM28DR/6nUwcyMTOPAvcK6NdohHAnGCwe9YInXdcVOGmALmMrSLQITHLjMsmPkhE7G7Kq28yK3B4ri0NEWsE6xBJdy7L2NKa154JAXJpe07i+TL5vhl/8MqdlzTA/1Bvnc0fERuDeMgdCGzNDurt8QmSkER3mmcO1XKiu47jPWlWj41P1ZNLsbY7Td+hWk7k6tgwNm6S+C5l2TjiPRMRxrPZvD6lAsqlbSXONsVECWN9S1EHHSA4WxUTCV6vlDlAa1Efu9gJEMMWzCI/XGf3h8BiN862FtlBhVVbw04zBiQacyke8QBPjpYj7yLFlQZYeEpXXOwqH+0HHbEEIGF8wTQpJBi9JUWLm3E7wHAVp6cLYDb0A8ioc4nfAJKB6ukCuETZyxlx4BQAJRZNF0BUYtnoXnDWcfoASuLhaauBiAcALPCNV4l3yg1jdW+1NVTavCdlCyywDiAyPvS7CjqD2BsCyZEqttFuiYq5m7mcjiCSZnzeXFSvA1Ql2W7GQBD35Y7wciW8u9ssmaujU4EV5lysGqbjmm54pN6WleB9lZht8GViBpuaB3RuSszTNteM7QqscOdCQqxvKurode24p97aCHSGQMaMQYPN2aL2/Wdjs6SneUpig8Qcd/JW4unlF3RywkBytNZSJeONAM3m7G0taOOku16DNWuYdjceD+LWcr44kIAtzQX9cvXc6wquaUiDPfV2CyUw45O/vz8+z6qHY9YGcdnFJYmEnAyQMWMe0KZABiAIPOJ7xKvZgr76J9jrAHL1tlIllpgxkG3iwDUxK2P3KLBt7K/i0SYGGgs35WV1zmB0mfgsW+BrbpB8rwE4UmuLcF4qX5OddKk0VsH2Iy9grJew8YAK1WaUEHmMPIHzIdDfWpg4BU8I0F1jGUvwpsQci9jfmteevhqru5LkCYc1QSxAYM5H6Ro6Fp7Slak4IeMAluRFBRrN+BXoyqXtNapoV0wE4M5pF5tbCjo4lffDXwAirdF9bCQuX0YxGBzD2JUtsq8SgWUcQBE7PGYxhgmOIQ652L98UD9Vsjf8CUTB+SvRQedtAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/select_icon_light.f1f9eae5.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gUWEDkrlNRAkAAABRtJREFUWMO1mW9oV2UUxz/7bTD4GYMC4ScGQnEHgYkvir0YLBQWehB8sSgwJhKBg41GimBiEATZG4VkLxxJjY0MBUPJzkZJkSAUWo0yxnZpIC00VgRB0mo/7M25evfrOffP/O3AZdvdc5/ne5/ne875nnNbRIS0qWor0EZx6wB2AFuBGrDBfrYDt4Dbds0Dk/Zz1dbSCLgg6E3AHgPaVXLNOeAS8BFwvSmAPVPVGnAUGABaeXC7BBwRkR+aClhVqwZ0GKjSfDtjwG/mDawUALsJuAq8tkZgMXpdU9WevIGtURRlge0BLgOPF1z4JvAjcA24AfwOLAEPFXDkdcDeOI5/jaLom9KUUNV+4P0crt4BLgCfAJMi8kcGpXqAXUCfRZEsOykiw2WiRA/weQbYJWAUOCYit8ucvYEfAA4D6zOGHhSRE7mAjbPXMia7Auwt4iA5wDuA48DLGcN2isiU63T29hcywI4Czz4o2NQpDdlVd8acVdXOFXdE5N4FvAXcda5Dlr2aetm624C/nXW/TI+vNCSFYedNTwMn1yikISJfGK9D1gP0hihx1ImzV4CDGTpidwlsXcATAT63Ax8CJ5zn3lxBCdMGy4HjWAY6neNcD3xl4wYLHH8P8JcJoq0NlEjGVIFZhxp70pTod0LYKUsGoZ39OCV8RnK8vcuUWtVi8GR6p0VkyX6tA687c/SnKbHLSQpvFwBLDug02MSCoA34eWA6MM82oNqmqusdiXhBRBacpOJJyhFgWURGbWy3vVzIN2pAv6rO2DPp0DZhtElbO9DdYls9HpjwRRE54wT9/UYXzwZMS6idiBd5hjL09mwoD1QCb5LYZEYYGs0IQwn3P80BO5CiwXLqf8siMgfMBJ7b3OYIkXlPyKRBqyoZO13NAVtPzVUPZLvvAiFwQ8VqsEa7VTDg5+10LtgMC4mqjRVnhwsrsBKgy4D1MLRXnPhbp5zdsDCYZdMlwCbiKFgiLTohp6hM7LZokFc+jajqYAnANW8jzwbS4GxBtZWk27slrsGCc48Hnv254nBlkz2UJ2QmV1GY5qXxxDpDvK4AP4XIbalwtWBP5zhiHmgv+84DPOYc3alV0uBdoNVU2P5V0mOfM35fRUTmrX3UaLsdWvxpV8jG0qErJ+TVHYcHeMG5f7mSahmFvHR/4P4MsDPA/TFgsDF0OaDrpm8vOnTbEbj/NbCYNDfOAQcCgw4BoyLSuKPTqrrdWgE14+wwULfq4Z76ssbimDVSRgxsn4hcdMLkG147S0SWWqMoIoqiX+I4firgmeuAR6Io+t8JRFH0WxzHagnjVRH5J47jZAMqcRy32d/JKX4LLADvZYDtdzZuAXgpiqJ/7/UlVPVJ4HtPLiYat0AiCbVql/OynKp2pSpkd/0VjRRV/cC4FXKQXqtum26q+qg1b2pOP3lLUkY1di+POJ7bCkzakTUbbFcGWIChVM23ErB1dJ5zxE87MK6qx+3YmwG232hQy+ivfVakGZhXAs1ZdXu+pAJL7+qxnGw6ISJ7y7Rb3wFeyZOM1pK9mNdvU9WHrTp/3qnS03bVenh3CgO2RQ5Yh7GIzVhZk3w1WuL+V6UI6C44z4RFhTulGtop0DtMgnaw9hbsCbvtVqcEmgKeth7bWtmcUeBE3sBKkdlEZE5EnjENcb2JQBdMZ2xpjAaelfpOl6JJn0nA3gJC33Oqc8Bpj6tNBZwCXgW2m9dvNgfbmHqJOvc/384BU8CUiCyuds3/APBhEq9Ux6mMAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAjCAYAAACD1LrRAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gUSEjonOqkcQQAAANVJREFUWMPt1zEOAUEUxvH/t1YhCo1o3MAJhGjEQSTO5h4aFUdwARqVxEZ4GpIlMrusoXlft5nN/N7MZJJ5MjOKIqkHDCiXhZltin5KSqBdoE/5jCR1KsGSWsC4TIG51ICJpGZwbmBWtGg+S+gMs7TCxFQoOEn4U/Tm+X0rpvx1kjSNiJ3MbH7/SJ8G04jw5a17HCsOO+ywww477LDDDv8ePka0shC8iwhvQ/AKOMd4zAPrhxbmuTGX1AaGQPsLDd3ltotLM9sH4VwBdaBRET6Y2csdvAI/HC9GpJUpxQAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/orange_plus_icon.1ed1ff25.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gUWEg4zFDusnAAAAtdJREFUWMPVmDFPG0EQhT9OLixRWJQhQUFCYqQ0pKBNkcYIK38AmZR0FOCQKhEiiC6QUNBRIYH4A5GtuE2bAsopkEABUyIXSFQmzRgtkz1zNhiRJ11xe7ez72bf7L69gfHxcbJCVQeBIlACxoBhuwAadh0BVaAuIpdZYw9kIaKqr4FlYBrIZ4x9BdSAVRE5uBcRVX0JrAFlYIDecA3sAZ9F5CTtpaQDiWngEJi9Bwms7yxwaDGzZ0RVK8DXDkR/A3Xg2HSBaWXUNDSZ0q8FfBSRb3cSMRIbKXO+BWyKyNkdmnoOLADzKZr64MncImKp+xHJxE9gTkT+dDMnqjoCbANTkcy8E5HaPxoxYe5HSHwHSt2SALA+JYvhtblvYwKQCx6uAQVPQkQqKV9bsPSH2BSRpiPTAiqqCrAYPCrYmO9viNg6UY5Mx1KHDx4CVlzbDtBMeX8JeOWmqayqGyJy0J6GZVeiV6aJFg8EizVnscPSXgZIbNn29b3ViyYyambLNU+r6mBide9LbJP+wcfOA8XEVH1rsbprnbhnVs5sQQxRytkuGqIeqY6hSMwXsTarDo8LV011t/qO5YJtvI1jd78QqY40/EppXwG+dBhjOIkQadB/NGJEriO7Zb/hx7hOgHPX+OwRiPgxznOWJgkaRyPltpMiVq+JN8BpTKzu3o/RyJnHfBs0FoFPQbk1Y8t2SnWcishxhowU3f1RYkY3xKT5ib7AYnvjVE2spq8iJdsvLEQMVz0xy19zD+fN1Dx0NkbMtYWoichle/dddWWcB7ZVNXlAEom5tbxz+Ks3fkREDlR1z9x2G1PAOlBJiX0RWXEvOnBZj1jGvfaZ58azmm07jLk0YKlXb2KZWHfuDKvEifZZJwnK9ASYMWMbYhGo9qIZ61ONkGgBM+GB62keJ57UAcudcfYjmukVTZuOWldnX+swAexGduhuD+G7Jsza//1b4jF/1PwFh78bhUv2Ta0AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAoCAYAAACFFRgXAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gUWEhUDm9RXqgAAAtNJREFUWMPtmM1LFVEYxn/KDfuyqG5Q2KW08MlCJBCjjZUuyowWgVFYhBRBShiG9TcUQSBFVNCiohYRbXQRmJotIiuiguhdVIh9YrSwoijxthnhchntzrlzPxY9m2HODOf85p3nfc9HQXl5OZmWmbUBHcAi4C5wVNKIS18FmQY2s0agO6n5PVAr6U1g4Hg8HgEOABuAGWGBSmr2gE8Cx31eGQE2SnobpN8I0AUczkBwmxPG8FMMuGdmgaALEzrOhSahS4MAzyO3moQuSxU4HxQDBs1sVSoexieD1+QAugQYMLN6SRYEOC5pLEeRLgH6zaxO0qtUgdOtu/OBGqASiAJ1AbtY6kHXS3rpV4fjSW3vJMUcQCuBdmAvUBTCt48C9ZJehJp0ZhY1sx7guTcBFYX0sxYDfWZWFRqwmVUAD4FtGfJ01IOuThvYzGqAB0BZhhNxIdBrZuudPWxmxcAzoDSLFWQMaHSN8IUsw+LNyCcKHazQAOzJQY2+AzS5RLgzB7A9wA5JvwoDRrca2Jxl2NvATkm/XapEW5ZhbwK7JmFdgLdmEfYGsFvSuNNawszWAUv+8VoceATcB54An4EWb7oOoitAi6SJdBY/W6Z59gM4B1yU9NpnExpEl4GDkuLprtaqpmi/DnRK+hCCDS5JOuR9aAkwJumbK3BF0v13oFXS1ZA8e15SqwcbAwaAWsAZOHH78gVokPQ4JNizko54sCuAvqlm0kiKCRcF5iSsUzf5La4d1SWp3RunFOgHlqe7CZ3rXX8C20OEPZMAuxIYnA42CHCxd90naSgg1NdpYDsSEw5YFtY2f7bns1sOUbzm2ShRp5JgAWalelSVioaBYy7/XNKwma0F9gMLgF5J/a4eiqQ46Kd0jCppFDgdhunz5eTnP3DeyM/DUTPrzgHLalfgmUBjPltiPI8dMOEHPJSnsMOSPvoBt3g7hD95FNWnQJPfw7+U6uEjbDBV1AAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAkCAYAAAAD3IPhAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gYNFggbsGWhcgAAAp5JREFUWMPFlz1oU1EUx38nYAah0CbN2i5ZKu5NHFwFB6mFIoIILgHRqeAHSHAoDi6CjsFJXKQQQ6CDi4ODrYtToUPrYAfxqx9SqWKV4+B5Eo7vvr58vPiHDPe+d8/9cd69J/8jqsphEhEBpoAqUAaKQMEebwNbwAawDKxpmqBx+yStE5EjwBlgFhhNGXMXaAJtVT0YCIyInABqQIne9AloqOrLvmBE5CJwjsHoiao+6glGRG4AJ2Pe3QNW7LdpZwU7O5PANFABRmLWvlDVu13BBDLyA2gBi6q6f8hBPwrMATNAvtsM/YWxM3LLPf8MLKjqRlcHUaQM1IFx9+hO0hnKddyaWgzIfLcgALZm3mJ0qmZ7hWHs+pbcp1lQ1a1eT62tXbBYkUq2VzyMFbRZN9/qJSOBDLXc9KztGZuZKVfQ9oBFBqdFixlp1PaMham6uZXDbk2X2dm3ctCpagim7GEYvF65cTkEU3RzmxnAvHXjYgim4Oa2M4DxMQtJVztr+dujIZhU1H1qzI13QjC+sE1kADPpxlshGF/cKhnATLvxeghm2cPYv+9gDsufWJU05SMHrJlVjDRiNmBQmnMeZ9f2/BfGzHPTzc+YDeg3K2XzNp1qhgx7dLXb5lkj5YG6iBT7ACmap8k7X9xOtBDm4hvu2Thwr5cM2ZoHMeaqkdQxZGU7zwLeRH0Arqjqt6wN+YTdmJAhj/QGuK2qO/+rVfF6D9RV9d0wm7gkfbEMrQ+jvX0KHIupvJ36bt3C61Qw/TT+IpIDrgKnEkL/BO6r6vPUMH0WvgvA+SRnCjxU1VbmMAZ0Gric4J8UuDkUmI4LcS2m7Y20NCynh7W1deBr4JWDocEY0CpwPabt/QU8G9pncp9sDLgEHAc+Ao9VdfU3A+whzOPcho4AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAApCAYAAABKvBuPAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gUWECsD2ZWYuQAAAmBJREFUWMPtmL9rFEEUxz/ZC2fgQIiIYHuQwoBbeGAjCoKFRUohwlM8LIJgIyiCKARFkRSWAUkhJ/rgIiG1nSCpFFNkIX+CQprA4UEQQZt3sixnvNkfM1v4hWG5mbe3b4d5+z58p0QEV6lqEzhhP/dE5AeeNeWSuKq2gKfADWDWpveB18AjERn6SjxySPo0sAPcsaQHNmZtbsdi6pO4qs4AfaANfAY6wDEbHZtrA32Lrf6oADPAY6CbOrdZDYEWsAt0RORgzIt9AeZTsVVoD+gByw3gGXD/Hw9r2nVLRDS7GMfxzyRJLgGnUrFVqAWcA5qR7fSkOp9zrWx1I8cbGjnXKinOnkP8ds61stVrAFt2LucOOecD4AhwPEmSd3Ec72eKsw08sZhRbFXFuQosT9yAVLUPLFpiD4D3tnQZeA4cBdZF5KqPLZ92iF2y66K9dVbrqZh6tXzb+SvAbeBM6myvishGbVmlTpoO8dAy6NLrjpdJl5HHpEuly8hT0qXT5aR0WFRl0eUfOgRYAX55GptWUwvAVxsLNrfp8D8rrnRYVCOCXANO2ljLQZfdyPOXsDS6dKXDotpO4cM3G0s56LLnqzgHBmFD4KyI7GaKcx74ZEU5ij20OL01IFV9A1wDDoAXwAdbugjctQ18KyLX69bybwHf7frQRlovgXu1hSxVvQDcBEZdMgFeicjH/3Tok/a80mFILzEqkHRQLzHKmXRwLzFvAwrlJTp7h1mF8hJze4d/oz3XtaIqTIfBvMSidBjKS5zYOxxHeyG8RHfvcMwnMaiXWKTlB/USC0NWKC/xNzAOJRKB+PvdAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAApCAYAAABOScuyAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gYNFgcJxETM9QAAAs1JREFUWMPtmDFoFEEUhr/ZnbuIIdPEgIUgh1oJQqpEEJR4h5hKS9OaQpA0gSgxTZpE5NBOsIi1pVYRuTMoKKYLCLGJIQgWQozCiJjczu5Y3B0kmLvc7WZvrvB1y3u78zP7eO/jF1pr2or7yuMl/QBcZYtpHdHBEC0LHlQ9mWOMW8EoEX0AePwSlsXgOwus6J2uEXykoHKhZc7CCQAidE2wAhDw1RfMbJf0hnvBo0r6FZ4KyAlY9QSPdkp6DaCnoM5ElkkLZy1shFlusqhNmoK9gwoyFcYE5CysB1km6mIBdkp6LcgyYWFdQC5TYSz1G/4zxLCFKSwD+1cQYvGF4E5Q0sv7lci8Og88qNemo5RNAUWvqVigLiD4wadGJSaq5dISW/32gIUpr+UX+uhtmIs42qmx5gkoIthsUhMA+JKhRgW7ckF6zVttiQOnhCyoC1jmidBGMM5r/W1PwWV1XFoW8FAI7pmSfud8Dsu8mgVGiNDWYyG0LAP4gmERMV6bx0umrGfTbgnZSpGpUJRZIjzyAial+Gcwlk2Fh921mgE5oi7ic52Q09Xm5TMhz82Sftt9LNElITt+YkLa69wNHxLtdUTwYdJe+oIPmfa8tG/3sGnvYFpLvlLrBHfXlPWHTEFVz6u2QjEo6eWWaK9lWktOWT6A+clq9bF2Xo2+duea0l7btJY0mtFes1wMWksaVdrzGa63AYLN+i/enWtKe63SWuIoqAvSMg/8loZb22/0lz0j75I6aSRPgF4TMc2Sfu98Dsu8mgGuABULz7yQFYDIZ1DADSALvDJlPdcdm25Q9ch+bgPXGlS8MFs8bmXbdRR+MgV1zkaMCp9TADZkXXgsBiX98T+tdYvXFv+GHXltsQS79NraF+zYa2t7Nbv22tqnNVdeW2xac+W1JaY1R15bHFpz47XFpTXXXlusOezSa4u1ml16bYngx4XX9heu8+YLlXCmawAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAaCAYAAADxNd/XAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gYNFiUVd/fWmgAAAlBJREFUWMO12FtPE1EUhuGHWqARjOIBEQ94ZKJR1HCDf8B44Q9WrzUhGo3ekAwhokY0QUFolIMQ682qabAtPexZSdN0Onv2+t53dzozA7VabRjHMIIKyprXH+xhC5vYyrKsps/K87yEoZj/ePQw0GbIDn7gF/bK0fxNXMY5jLYYuIsqPuEtvuR5vp8gxBDGcAl3o4dSmxBf8RrLqJZjx1Kkv4HzLUzUA7yPSRewkud5FbVug+R5Xo55ziLD7YYAR5oE2ME69jFc31jGTyyFwls4GQcdbbGErmIKL/EMi/iNbk1UMIH7eIQZnI4+NAmwgo/xvhow98pB9nt8uYTxUFppYeJEfD8YaxE+53m+0YmJBvIXoukHmMP1mKt0YMh2kF+N/pawnmXZbt1ALciu4CnWGuyMNzExHKTuxOdTeBI/7k5M1MnP4DFmMRnzNVv363iFeTwP49V/SyiI1WItbzc0JZqcPGCiHK+Jhm1rh5loQX62A/IL0fw8FrMs+9a4U+PyKNpEUvL/BSjKRJxRkpNvZqAoE4WQbxkgoYnBOLuNxLi5lOTbGUhlYgrvYr+HuJeS/KEBEpgYi/+MSpC/kpJ8Jwb6NXE0LktKOJOafMcB+jAxEo23qr7Id2OgVxOHVV/kuw7Qg4lCyfdiIJWJJOR7DtCHiaTk+zHQq4mk5PsO0IWJvSLIpzDQqYnNIsgnC9DGxG5cTmziRYRIRj6lgVYmclyLIG/wISX5eg1MT08nPWA85xmMpxwX42HAcpZlGwqocgHHrJvYjPsBcW9QSP0F0SRhkJJz36wAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/calendar_icon.cfdc44f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/x_icon.7adfea56.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAA9CAYAAAA+jj4UAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gUPFgomN5I9ugAABKtJREFUeNrtnF9sFFUUh78zO1u6LkilARGxlL+KEgkpvBhAjISEhBCKnYWALxpMMCZgTIwR1JjG8CYqJBiikQcj2rSkiaBEeBDFSARrBHEJpQoLtFBo6brddrs7s3N8QBNNEGm72y7s/b3OzJm7395zz+/cZK6oKsWk3nmyNCu8lqt4kmXdyCY9ZWGUExmQBqQBeUfKBkjOk1kKU3IVdNQx/bwoQQosVsHJWVSRvRSZHTCpbUAakAakkQFpQBqQxegj86E6CbxoEagcZJjdjmaOFjVIC1mm6NxBRvkROGpS26yRRgakAWlAGuWzaudS9RLcDxIabBzFf3fZXNJFC1LhUdBwDhJwLGQvmtQ2a6QBaWRAGpAGpAFpZEAakAakkQFpQBqQBqRRP0HWS8muS9eoMigGpu9+ZVu9SMhS/PozbUyNJ26PvclCUTKFHosyOpkONo4F14qo92WyjwVHTgd2NkUJ96YRg+m/5Wbxj/9G+eGT1teJnrL5NZrZsUjVswEc1Szw0QGRusMn7I33lXlrHpxE14gSs4b+LVW0+TxlsQ5+8P3StRFNnf/n9X+l8xLVHmBLo8iHV+JsnjiOJ6dXEA9Icc/S81cIt1yktS8b3LBKMz/d6J4brovVqleAjXVSOqOtK1075V4erhxPgiID2hEncPocfrcb2Oyo98XN7r1pgVmlfc3A6gYJPnax3audVsE948fQd8cXkl40GuPurmRgm5Ld5aiX/b9nbqlS16j7PbC4XuzqsrbsqzMno6PDeHdcIXHxozHKL3dZdSWM2VqjV7tv9dl+WR5HvcYmkX1HosF140a5z8+cRCIUuv3TXX38M62Un7vMNz6htxztbe1vjH57xypVtwre3y/ln3x7Mv7ShDF+5KEKOoPB27PCX7hKuCXG766WvPCUpk8MNM6ATfhS7UwAb9bLXR+0X0u9XjGehdMnck0KvCB5iiUCnX8QPHWBTDJlv+yoe3CwcQfdzfyVBusbZcSs1quZ2ikTmBrFri3EPl7RaUejPGvZhDq6g+9EcD9GXT8XsXPWFlZr+iSwskGCiwRqQSoVmkFnDD9CaQO6BX26K2VvD+Fti2imN5dvyHl/XaPuIWBhg4xYrXibQDrACoKOHvoZ6CcsAjHQmQoHS/G2LFdtz8vuT75+RI2mPxuFP0+wtoOPIJ1DOAMV5BfBKgW9bGMtiKi7MV8Q8wryekHStKOZ90rIzla0DvCAnjxTbAbpFlQt7IijrlOt6VP5/uuGpCCsUI1H1N1kY1cJckAQFSTXnyG3Ae1AGHjFwXu8RlOHhioHhrSyrtRUzNHMM+A+AX4TkM1BGieEbAxkpMDOcXhVEU1/OtTfiw+LRXFUf3bUWwysEeTSAI2nB9oiEFbsg0HcOY66WxepDstewLDuikfU/QqRR+oIrhf0DaD0luYgnFV4QLBOg7s6otoy3AZr+E2zqr9KMzsEb7Igu+UmQ1JoA+1RpMuC5Y5m1joFAPG6Tyiwoyf2idzfi70bmA0cVwLPCdm9im9bWElFayPq7Sm0rkkK9QyPBgku8dENIPMFPy4E3lbcnY5qphDHK4V+GMoekTkBOLtCNV7I4/wTgD7jCHvywTEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH4gUQExszByd/YwAAAnlJREFUWMPVmNFuGkEMRY8HUpEVhaIgSkB5yP9/VCUSSIuIUCkFRAD3oYZu6c4yswtJamkfAot95Hg81xZVJdZEpALUgQSoph6ATepZAHNV3UbHCAUTEQGaQAOoARIYQ4EVMAO+a2DAIDARaQBt4Ipy9gJMVHVWCkxEqkDfMnROWwFDVd1Eg4nINdBL1c65bQOMVHUZDCYiH4HbiDoqago8qeqP4y+cJ1OvAYXFuLWYfjCrqd4rQaXhehbbm7H+BWsqz/aH7F8wawk13s5qxvAHzJpn2/ODnxeA8PlsG8shY82c5vkNmJ4Ramo+s+zKWA5gjdwzrToGns8A9Wy+8qwB4OxCPllbqjoBxiX61dh8hNRaxZlKCGoPqjoFnixQDNRX+21o+6g7ky7hUX5fwKNAOLVrZxaZ4cQV6VuqOgcegV3Oazvg0d6N7mshYFUP3AJ4ALJE4BZ4sHeCfcaC9UWk5oFbAQNTCmnVMLDvsgRC7bjL+8BOWQW4E5HEA7c2uLU9A/ssCyoB7sznyRNwD3wIANyZRJnnzAH49L2I1E21hCRj7Y7+DXnmTAU0PJnb5kA1TLW4wFibGLB9hrsi8iliomoB3UgptXE2YsXqp88ichMAdQN0Cui7hQPmkZ08rQQ6OVCdHMVyqinPndXFquAd2BKRbgZUF2gVnaBUdbvvYTPguqCjpp3Ikf3ds/u3qM0OU5KJs/uSA+2+VpMSPl6AL6qqzo66AhPKWVISCpvS9S/NbwpgxdvZKq1CjhveMLKvnXMqH3rHN9sljAq2jzLT+Oh4j+EyrpZlAZVadkWw/L+XKu96DZWhDt7P4u4I7v2tOj2i8KLL4V+5ejPqesNzngAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/ntact_logo.dea7c31d.png\";","module.exports = function toggleArrayValue(array, value) {\r\n  if(array.includes(value)) {\r\n    array.remove(value);\r\n  } else {\r\n    array.push(value);\r\n  }\r\n};","module.exports = __webpack_public_path__ + \"static/media/logo.cef7a7db.png\";","export default function getId(object) {\r\n  if(object && typeof object === 'object') return object.id;\r\n  return object;\r\n}"],"sourceRoot":""}